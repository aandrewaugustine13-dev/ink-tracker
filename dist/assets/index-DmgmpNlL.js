var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),l=(e=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(e,{get:(e,t)=>(typeof require<`u`?require:e)[t]}):e)(function(e){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+e+"\" in an environment that doesn't expose the `require` function.")});(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var u=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function M(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ee(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ee(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),ee(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=ee(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=ee(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ee(M(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function N(e,t,n){if(e==null)return e;var r=[],i=0;return ee(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function P(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var F=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},I={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=I,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,F)}catch(e){F(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),d=o(((e,t)=>{t.exports=u()})),f=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),p=o(((e,t)=>{t.exports=f()})),m=o((e=>{var t=d();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),h=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=m()})),g=o((e=>{var t=p(),n=d(),r=h();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=f(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var ee=Symbol.for(`react.client.reference`);function N(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?N(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return N(e(t))}catch{}}return null}var P=Array.isArray,F=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},R=[],z=-1;function te(e){return{current:e}}function ne(e){0>z||(e.current=R[z],R[z]=null,z--)}function B(e,t){z++,R[z]=e.current,e.current=t}var re=te(null),ie=te(null),ae=te(null),oe=te(null);function V(e,t){switch(B(ae,t),B(ie,e),B(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Vd(t),e=Hd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ne(re),B(re,e)}function se(){ne(re),ne(ie),ne(ae)}function ce(e){e.memoizedState!==null&&B(oe,e);var t=re.current,n=Hd(t,e.type);t!==n&&(B(ie,e),B(re,n))}function le(e){ie.current===e&&(ne(re),ne(ie)),oe.current===e&&(ne(oe),Qf._currentValue=L)}var ue,de;function fe(e){if(ue===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ue=t&&t[1]||``,de=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ue+e+de}var pe=!1;function me(e,t){if(!e||pe)return``;pe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{pe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?fe(n):``}function he(e,t){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe(`Lazy`);case 13:return e.child!==t&&t!==null?fe(`Suspense Fallback`):fe(`Suspense`);case 19:return fe(`SuspenseList`);case 0:case 15:return me(e.type,!1);case 11:return me(e.type.render,!1);case 1:return me(e.type,!0);case 31:return fe(`Activity`);default:return``}}function ge(e){try{var t=``,n=null;do t+=he(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var _e=Object.prototype.hasOwnProperty,ve=t.unstable_scheduleCallback,ye=t.unstable_cancelCallback,be=t.unstable_shouldYield,xe=t.unstable_requestPaint,Se=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,we=t.unstable_ImmediatePriority,Te=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,De=t.unstable_LowPriority,Oe=t.unstable_IdlePriority,ke=t.log,Ae=t.unstable_setDisableYieldValue,je=null,Me=null;function Ne(e){if(typeof ke==`function`&&Ae(e),Me&&typeof Me.setStrictMode==`function`)try{Me.setStrictMode(je,e)}catch{}}var Pe=Math.clz32?Math.clz32:Le,Fe=Math.log,Ie=Math.LN2;function Le(e){return e>>>=0,e===0?32:31-(Fe(e)/Ie|0)|0}var Re=256,ze=262144,Be=4194304;function Ve(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function He(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ve(n))):i=Ve(o):i=Ve(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ve(n))):i=Ve(o)):i=Ve(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Ue(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function We(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ge(){var e=Be;return Be<<=1,!(Be&62914560)&&(Be=4194304),e}function Ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Je(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Pe(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Ye(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Ye(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Pe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function Xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ze(e,t){var n=t&-t;return n=n&42?1:Qe(n),(n&(e.suspendedLanes|t))===0?n:0}function Qe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $e(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function et(){var e=I.p;return e===0?(e=window.event,e===void 0?32:mp(e.type)):e}function tt(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var nt=Math.random().toString(36).slice(2),rt=`__reactFiber$`+nt,it=`__reactProps$`+nt,at=`__reactContainer$`+nt,ot=`__reactEvents$`+nt,st=`__reactListeners$`+nt,ct=`__reactHandles$`+nt,lt=`__reactResources$`+nt,ut=`__reactMarker$`+nt;function dt(e){delete e[rt],delete e[it],delete e[ot],delete e[st],delete e[ct]}function H(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[at]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=df(e);e!==null;){if(n=e[rt])return n;e=df(e)}return t}e=n,n=e.parentNode}return null}function ft(e){if(e=e[rt]||e[at]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function mt(e){var t=e[lt];return t||=e[lt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function ht(e){e[ut]=!0}var gt=new Set,_t={};function vt(e,t){yt(e,t),yt(e+`Capture`,t)}function yt(e,t){for(_t[e]=t,e=0;e<t.length;e++)gt.add(t[e])}var bt=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),xt={},St={};function Ct(e){return _e.call(St,e)?!0:_e.call(xt,e)?!1:bt.test(e)?St[e]=!0:(xt[e]=!0,!1)}function wt(e,t,n){if(Ct(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Tt(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function Et(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Dt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Ot(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function kt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function At(e){if(!e._valueTracker){var t=Ot(e)?`checked`:`value`;e._valueTracker=kt(e,t,``+e[t])}}function jt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Ot(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Mt(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Nt=/[\n"\\]/g;function Pt(e){return e.replace(Nt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Ft(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Dt(t)):e.value!==``+Dt(t)&&(e.value=``+Dt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Lt(e,o,Dt(n)):Lt(e,o,Dt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Dt(s):e.removeAttribute(`name`)}function It(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){At(e);return}n=n==null?``:``+Dt(n),t=t==null?n:``+Dt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),At(e)}function Lt(e,t,n){t===`number`&&Mt(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Rt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zt(e,t,n){if(t!=null&&(t=``+Dt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Dt(n)}function Bt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(P(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Dt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),At(e)}function Vt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ht=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Ut(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Ht.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Wt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Ut(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Ut(e,o,t[o])}function Gt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Kt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),qt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jt(e){return qt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function Yt(){}var Xt=null;function Zt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qt=null,$t=null;function en(e){var t=ft(e);if(t&&(e=t.stateNode)){var n=e[it]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Ft(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Pt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[it]||null;if(!a)throw Error(i(90));Ft(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&jt(r)}break a;case`textarea`:zt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Rt(e,!!n.multiple,t,!1)}}}var tn=!1;function nn(e,t,n){if(tn)return e(t,n);tn=!0;try{return e(t)}finally{if(tn=!1,(Qt!==null||$t!==null)&&(vu(),Qt&&(t=Qt,e=$t,$t=Qt=null,en(t),e)))for(t=0;t<e.length;t++)en(e[t])}}function rn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[it]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var an=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),on=!1;if(an)try{var sn={};Object.defineProperty(sn,`passive`,{get:function(){on=!0}}),window.addEventListener(`test`,sn,sn),window.removeEventListener(`test`,sn,sn)}catch{on=!1}var cn=null,ln=null,un=null;function dn(){if(un)return un;var e,t=ln,n=t.length,r,i=`value`in cn?cn.value:cn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return un=i.slice(e,1<r?1-r:void 0)}function fn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pn(){return!0}function mn(){return!1}function hn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?pn:mn,this.isPropagationStopped=mn,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=pn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=pn)},persist:function(){},isPersistent:pn}),t}var gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_n=hn(gn),vn=m({},gn,{view:0,detail:0}),yn=hn(vn),bn,xn,Sn,Cn=m({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Sn&&(Sn&&e.type===`mousemove`?(bn=e.screenX-Sn.screenX,xn=e.screenY-Sn.screenY):xn=bn=0,Sn=e),bn)},movementY:function(e){return`movementY`in e?e.movementY:xn}}),wn=hn(Cn),Tn=hn(m({},Cn,{dataTransfer:0})),En=hn(m({},vn,{relatedTarget:0})),Dn=hn(m({},gn,{animationName:0,elapsedTime:0,pseudoElement:0})),On=hn(m({},gn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),kn=hn(m({},gn,{data:0})),An={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},jn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Mn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mn[e])?!!t[e]:!1}function Pn(){return Nn}var Fn=hn(m({},vn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=fn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?jn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(e){return e.type===`keypress`?fn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?fn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),In=hn(m({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=hn(m({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Rn=hn(m({},gn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=hn(m({},Cn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Bn=hn(m({},gn,{newState:0,oldState:0})),Vn=[9,13,27,32],Hn=an&&`CompositionEvent`in window,Un=null;an&&`documentMode`in document&&(Un=document.documentMode);var Wn=an&&`TextEvent`in window&&!Un,Gn=an&&(!Hn||Un&&8<Un&&11>=Un),Kn=` `,qn=!1;function Jn(e,t){switch(e){case`keyup`:return Vn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Yn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Xn=!1;function Zn(e,t){switch(e){case`compositionend`:return Yn(t);case`keypress`:return t.which===32?(qn=!0,Kn):null;case`textInput`:return e=t.data,e===Kn&&qn?null:e;default:return null}}function Qn(e,t){if(Xn)return e===`compositionend`||!Hn&&Jn(e,t)?(e=dn(),un=ln=cn=null,Xn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Gn&&t.locale!==`ko`?null:t.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!$n[e.type]:t===`textarea`}function tr(e,t,n,r){Qt?$t?$t.push(r):$t=[r]:Qt=r,t=Td(t,`onChange`),0<t.length&&(n=new _n(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var nr=null,rr=null;function ir(e){vd(e,0)}function ar(e){if(jt(pt(e)))return e}function or(e,t){if(e===`change`)return t}var sr=!1;if(an){var cr;if(an){var lr=`oninput`in document;if(!lr){var ur=document.createElement(`div`);ur.setAttribute(`oninput`,`return;`),lr=typeof ur.oninput==`function`}cr=lr}else cr=!1;sr=cr&&(!document.documentMode||9<document.documentMode)}function dr(){nr&&(nr.detachEvent(`onpropertychange`,fr),rr=nr=null)}function fr(e){if(e.propertyName===`value`&&ar(rr)){var t=[];tr(t,rr,e,Zt(e)),nn(ir,t)}}function pr(e,t,n){e===`focusin`?(dr(),nr=t,rr=n,nr.attachEvent(`onpropertychange`,fr)):e===`focusout`&&dr()}function mr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return ar(rr)}function hr(e,t){if(e===`click`)return ar(t)}function gr(e,t){if(e===`input`||e===`change`)return ar(t)}function _r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var vr=typeof Object.is==`function`?Object.is:_r;function yr(e,t){if(vr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_e.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function br(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xr(e,t){var n=br(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=br(n)}}function Sr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Mt(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mt(e.document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Tr=an&&`documentMode`in document&&11>=document.documentMode,Er=null,Dr=null,Or=null,kr=!1;function Ar(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kr||Er==null||Er!==Mt(r)||(r=Er,`selectionStart`in r&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&yr(Or,r)||(Or=r,r=Td(Dr,`onSelect`),0<r.length&&(t=new _n(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Mr={animationend:jr(`Animation`,`AnimationEnd`),animationiteration:jr(`Animation`,`AnimationIteration`),animationstart:jr(`Animation`,`AnimationStart`),transitionrun:jr(`Transition`,`TransitionRun`),transitionstart:jr(`Transition`,`TransitionStart`),transitioncancel:jr(`Transition`,`TransitionCancel`),transitionend:jr(`Transition`,`TransitionEnd`)},Nr={},Pr={};an&&(Pr=document.createElement(`div`).style,`AnimationEvent`in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),`TransitionEvent`in window||delete Mr.transitionend.transition);function Fr(e){if(Nr[e])return Nr[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pr)return Nr[e]=t[n];return e}var Ir=Fr(`animationend`),Lr=Fr(`animationiteration`),Rr=Fr(`animationstart`),zr=Fr(`transitionrun`),Br=Fr(`transitionstart`),Vr=Fr(`transitioncancel`),Hr=Fr(`transitionend`),Ur=new Map,Wr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Wr.push(`scrollEnd`);function Gr(e,t){Ur.set(e,t),vt(t,[e])}var Kr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},qr=[],Jr=0,Yr=0;function Xr(){for(var e=Jr,t=Yr=Jr=0;t<e;){var n=qr[t];qr[t++]=null;var r=qr[t];qr[t++]=null;var i=qr[t];qr[t++]=null;var a=qr[t];if(qr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&ei(n,i,a)}}function Zr(e,t,n,r){qr[Jr++]=e,qr[Jr++]=t,qr[Jr++]=n,qr[Jr++]=r,Yr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Qr(e,t,n,r){return Zr(e,t,n,r),ti(e)}function $r(e,t){return Zr(e,null,null,t),ti(e)}function ei(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Pe(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ti(e){if(50<lu)throw lu=0,uu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ni={};function ri(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(e,t,n,r){return new ri(e,t,n,r)}function ai(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,t){var n=e.alternate;return n===null?(n=ii(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function si(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ci(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)ai(e)&&(s=1);else if(typeof e==`string`)s=Uf(e,n,re.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=ii(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return li(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=ii(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=ii(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=ii(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=ii(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function li(e,t,n,r){return e=ii(7,e,r,t),e.lanes=n,e}function ui(e,t,n){return e=ii(6,e,null,t),e.lanes=n,e}function di(e){var t=ii(18,null,null,0);return t.stateNode=e,t}function fi(e,t,n){return t=ii(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pi=new WeakMap;function mi(e,t){if(typeof e==`object`&&e){var n=pi.get(e);return n===void 0?(t={value:e,source:t,stack:ge(t)},pi.set(e,t),t):n}return{value:e,source:t,stack:ge(t)}}var hi=[],gi=0,_i=null,vi=0,yi=[],bi=0,xi=null,Si=1,Ci=``;function wi(e,t){hi[gi++]=vi,hi[gi++]=_i,_i=e,vi=t}function Ti(e,t,n){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,xi=e;var r=Si;e=Ci;var i=32-Pe(r)-1;r&=~(1<<i),n+=1;var a=32-Pe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Si=1<<32-Pe(t)+i|n<<i|r,Ci=a+e}else Si=1<<a|n<<i|r,Ci=e}function Ei(e){e.return!==null&&(wi(e,1),Ti(e,1,0))}function Di(e){for(;e===_i;)_i=hi[--gi],hi[gi]=null,vi=hi[--gi],hi[gi]=null;for(;e===xi;)xi=yi[--bi],yi[bi]=null,Ci=yi[--bi],yi[bi]=null,Si=yi[--bi],yi[bi]=null}function Oi(e,t){yi[bi++]=Si,yi[bi++]=Ci,yi[bi++]=xi,Si=t.id,Ci=t.overflow,xi=e}var ki=null,Ai=null,U=!1,ji=null,Mi=!1,Ni=Error(i(519));function Pi(e){throw Bi(mi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ni}function Fi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[rt]=e,t[it]=r,n){case`dialog`:$(`cancel`,t),$(`close`,t);break;case`iframe`:case`object`:case`embed`:$(`load`,t);break;case`video`:case`audio`:for(n=0;n<gd.length;n++)$(gd[n],t);break;case`source`:$(`error`,t);break;case`img`:case`image`:case`link`:$(`error`,t),$(`load`,t);break;case`details`:$(`toggle`,t);break;case`input`:$(`invalid`,t),It(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:$(`invalid`,t);break;case`textarea`:$(`invalid`,t),Bt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||jd(t.textContent,n)?(r.popover!=null&&($(`beforetoggle`,t),$(`toggle`,t)),r.onScroll!=null&&$(`scroll`,t),r.onScrollEnd!=null&&$(`scrollend`,t),r.onClick!=null&&(t.onclick=Yt),t=!0):t=!1,t||Pi(e,!0)}function Ii(e){for(ki=e.return;ki;)switch(ki.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:ki=ki.return}}function Li(e){if(e!==ki)return!1;if(!U)return Ii(e),U=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Ud(e.type,e.memoizedProps)),n=!n),n&&Ai&&Pi(e),Ii(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=uf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Ai=uf(e)}else t===27?(t=Ai,Zd(e.type)?(e=lf,lf=null,Ai=e):Ai=t):Ai=ki?cf(e.stateNode.nextSibling):null;return!0}function Ri(){Ai=ki=null,U=!1}function zi(){var e=ji;return e!==null&&(Yl===null?Yl=e:Yl.push.apply(Yl,e),ji=null),e}function Bi(e){ji===null?ji=[e]:ji.push(e)}var Vi=te(null),Hi=null,Ui=null;function Wi(e,t,n){B(Vi,t._currentValue),t._currentValue=n}function Gi(e){e._currentValue=Vi.current,ne(Vi)}function Ki(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function qi(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ki(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ki(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ji(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;vr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===oe.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[Qf]:e.push(Qf))}a=a.return}e!==null&&qi(t,e,n,r),t.flags|=262144}function Yi(e){for(e=e.firstContext;e!==null;){if(!vr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Hi=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Zi(e){return $i(Hi,e)}function Qi(e,t){return Hi===null&&Xi(e),$i(e,t)}function $i(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ui===null){if(e===null)throw Error(i(308));Ui=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ui=Ui.next=t;return n}var ea=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ta=t.unstable_scheduleCallback,na=t.unstable_NormalPriority,ra={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ia(){return{controller:new ea,data:new Map,refCount:0}}function aa(e){e.refCount--,e.refCount===0&&ta(na,function(){e.controller.abort()})}var oa=null,sa=0,ca=0,la=null;function ua(e,t){if(oa===null){var n=oa=[];sa=0,ca=ud(),la={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return sa++,t.then(da,da),t}function da(){if(--sa===0&&oa!==null){la!==null&&(la.status=`fulfilled`);var e=oa;oa=null,ca=0,la=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var W=F.S;F.S=function(e,t){Ql=Se(),typeof t==`object`&&t&&typeof t.then==`function`&&ua(e,t),W!==null&&W(e,t)};var pa=te(null);function ma(){var e=pa.current;return e===null?Il.pooledCache:e}function ha(e,t){t===null?B(pa,pa.current):B(pa,t.pool)}function ga(){var e=ma();return e===null?null:{parent:ra._currentValue,pool:e}}var _a=Error(i(460)),va=Error(i(474)),ya=Error(i(542)),ba={then:function(){}};function xa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Sa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Yt,Yt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ea(e),e;default:if(typeof t.status==`string`)t.then(Yt,Yt);else{if(e=Il,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Ea(e),e}throw wa=t,_a}}function Ca(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(wa=e,_a):e}}var wa=null;function Ta(){if(wa===null)throw Error(i(459));var e=wa;return wa=null,e}function Ea(e){if(e===_a||e===ya)throw Error(i(483))}var Da=null,Oa=0;function ka(e){var t=Oa;return Oa+=1,Da===null&&(Da=[]),Sa(Da,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function ja(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ma(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=oi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ui(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&Ca(i)===t.type)?(t=a(t,n.props),Aa(t,n),t.return=e,t):(t=ci(n.type,n.key,n.props,null,e.mode,r),Aa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=fi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=li(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ui(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=ci(t.type,t.key,t.props,null,e.mode,n),Aa(n,t),n.return=e,n;case v:return t=fi(t,e.mode,n),t.return=e,t;case O:return t=Ca(t),f(e,t,n)}if(P(t)||M(t))return t=li(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,ka(t),n);if(t.$$typeof===C)return f(e,Qi(e,t),n);ja(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=Ca(n),p(e,t,n,r)}if(P(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,ka(n),r);if(n.$$typeof===C)return p(e,t,Qi(e,n),r);ja(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=Ca(r),m(e,t,n,r,i)}if(P(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,ka(r),i);if(r.$$typeof===C)return m(e,t,n,Qi(t,r),i);ja(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),U&&wi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return U&&wi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),U&&wi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),U&&wi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return U&&wi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),U&&wi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&Ca(l)===r.type){n(e,r.sibling),c=a(r,o.props),Aa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=li(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ci(o.type,o.key,o.props,null,e.mode,c),Aa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=fi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=Ca(o),b(e,r,o,c)}if(P(o))return h(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,ka(o),c);if(o.$$typeof===C)return b(e,r,Qi(e,o),c);ja(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ui(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Oa=0;var i=b(e,t,n,r);return Da=null,i}catch(t){if(t===_a||t===ya)throw t;var a=ii(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Na=Ma(!0),Pa=Ma(!1),Fa=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function G(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function K(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ti(e),ei(e,null,n),t}return Zr(e,r,t,n),ti(e)}function q(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xe(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var za=!1;function Ba(){if(za){var e=la;if(e!==null)throw e}}function Va(e,t,n,r){za=!1;var i=e.updateQueue;Fa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Z&f)===f:(r&f)===f){f!==0&&f===ca&&(za=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,f);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h==`function`?h.call(_,d,f):h,f==null)break a;d=m({},d,f);break a;case 2:Fa=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Wl|=o,e.lanes=o,e.memoizedState=d}}function Ha(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ua(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ha(n[e],t)}var Wa=te(null),Ga=te(0);function Ka(e,t){e=Hl,B(Ga,e),B(Wa,t),Hl=e|t.baseLanes}function qa(){B(Ga,Hl),B(Wa,Wa.current)}function Ja(){Hl=Ga.current,ne(Wa),ne(Ga)}var Ya=te(null),Xa=null;function Za(e){var t=e.alternate;B(no,no.current&1),B(Ya,e),Xa===null&&(t===null||Wa.current!==null||t.memoizedState!==null)&&(Xa=e)}function Qa(e){B(no,no.current),B(Ya,e),Xa===null&&(Xa=e)}function $a(e){e.tag===22?(B(no,no.current),B(Ya,e),Xa===null&&(Xa=e)):eo(e)}function eo(){B(no,no.current),B(Ya,Ya.current)}function to(e){ne(Ya),Xa===e&&(Xa=null),ne(no)}var no=te(0);function ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||af(n)||of(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var io=0,J=null,ao=null,oo=null,so=!1,co=!1,lo=!1,uo=0,fo=0,po=null,mo=0;function ho(){throw Error(i(321))}function go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,a){return io=a,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Ns:Ps,lo=!1,a=n(r,i),lo=!1,co&&(a=yo(t,n,r,i)),vo(e),a}function vo(e){F.H=Y;var t=ao!==null&&ao.next!==null;if(io=0,oo=ao=J=null,so=!1,fo=0,po=null,t)throw Error(i(300));e===null||Zs||(e=e.dependencies,e!==null&&Yi(e)&&(Zs=!0))}function yo(e,t,n,r){J=e;var a=0;do{if(co&&(po=null),fo=0,co=!1,25<=a)throw Error(i(301));if(a+=1,oo=ao=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}F.H=Fs,o=t(n,r)}while(co);return o}function bo(){var e=F.H,t=e.useState()[0];return t=typeof t.then==`function`?Do(t):t,e=e.useState()[0],(ao===null?null:ao.memoizedState)!==e&&(J.flags|=1024),t}function xo(){var e=uo!==0;return uo=0,e}function So(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Co(e){if(so){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}so=!1}io=0,oo=ao=J=null,co=!1,fo=uo=0,po=null}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oo===null?J.memoizedState=oo=e:oo=oo.next=e,oo}function To(){if(ao===null){var e=J.alternate;e=e===null?null:e.memoizedState}else e=ao.next;var t=oo===null?J.memoizedState:oo.next;if(t!==null)oo=t,ao=e;else{if(e===null)throw J.alternate===null?Error(i(467)):Error(i(310));ao=e,e={memoizedState:ao.memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},oo===null?J.memoizedState=oo=e:oo=oo.next=e}return oo}function Eo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Do(e){var t=fo;return fo+=1,po===null&&(po=[]),e=Sa(po,e,t),t=J,(oo===null?t.memoizedState:oo.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Ns:Ps),e}function Oo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Do(e);if(e.$$typeof===C)return Zi(e)}throw Error(i(438,String(e)))}function ko(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=J.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Eo(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Ao(e,t){return typeof t==`function`?t(e):t}function jo(e){return Mo(To(),ao,e)}function Mo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(io&f)===f:(Z&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ca&&(d=!0);else if((io&p)===p){u=u.next,p===ca&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,J.lanes|=p,Wl|=p;f=u.action,lo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,J.lanes|=f,Wl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!vr(o,e.memoizedState)&&(Zs=!0,d&&(n=la,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function No(e){var t=To(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);vr(o,t.memoizedState)||(Zs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(e,t,n){var r=J,a=To(),o=U;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!vr((ao||a).memoizedState,n);if(s&&(a.memoizedState=n,Zs=!0),a=a.queue,as(Lo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||oo!==null&&oo.memoizedState.tag&1){if(r.flags|=2048,es(9,{destroy:void 0},Io.bind(null,r,a,n,t),null),Il===null)throw Error(i(349));o||io&127||Fo(r,t,n)}return n}function Fo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=Eo(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&zo(e)}function Lo(e,t,n){return n(function(){Ro(t)&&zo(e)})}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function zo(e){var t=$r(e,2);t!==null&&pu(t,e,2)}function Bo(e){var t=wo();if(typeof e==`function`){var n=e;if(e=n(),lo){Ne(!0);try{n()}finally{Ne(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t}function Vo(e,t,n,r){return e.baseState=n,Mo(e,ao,typeof r==`function`?r:Ao)}function Ho(e,t,n,r,a){if(As(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};F.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Uo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Uo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=F.T,o={};F.T=o;try{var s=n(i,r),c=F.S;c!==null&&c(o,s),Wo(e,t,s)}catch(n){Ko(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),F.T=a}}else try{a=n(i,r),Wo(e,t,a)}catch(n){Ko(e,t,n)}}function Wo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Go(e,t,n)},function(n){return Ko(e,t,n)}):Go(e,t,n)}function Go(e,t,n){t.status=`fulfilled`,t.value=n,qo(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Uo(e,n)))}function Ko(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,qo(t),t=t.next;while(t!==r)}e.action=null}function qo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jo(e,t){return t}function Yo(e,t){if(U){var n=Il.formState;if(n!==null){a:{var r=J;if(U){if(Ai){b:{for(var i=Ai,a=Mi;i.nodeType!==8;){if(!a){i=null;break b}if(i=cf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Ai=cf(i.nextSibling),r=i.data===`F!`;break a}}Pi(r)}r=!1}r&&(t=n[0])}}return n=wo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:t},n.queue=r,n=Ds.bind(null,J,r),r.dispatch=n,r=Bo(!1),a=ks.bind(null,J,!1,r.queue),r=wo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Ho.bind(null,J,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Xo(e){return Zo(To(),ao,e)}function Zo(e,t,n){if(t=Mo(e,t,Jo)[0],e=jo(Ao)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Do(t)}catch(e){throw e===_a?ya:e}else r=t;t=To();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(J.flags|=2048,es(9,{destroy:void 0},Qo.bind(null,i,n),null)),[r,a,e]}function Qo(e,t){e.action=t}function $o(e){var t=To(),n=ao;if(n!==null)return Zo(t,n,e);To(),t=t.memoizedState,n=To();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function es(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=J.updateQueue,t===null&&(t=Eo(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ts(){return To().memoizedState}function ns(e,t,n,r){var i=wo();J.flags|=e,i.memoizedState=es(1|t,{destroy:void 0},n,r===void 0?null:r)}function rs(e,t,n,r){var i=To();r=r===void 0?null:r;var a=i.memoizedState.inst;ao!==null&&r!==null&&go(r,ao.memoizedState.deps)?i.memoizedState=es(t,a,n,r):(J.flags|=e,i.memoizedState=es(1|t,a,n,r))}function is(e,t){ns(8390656,8,e,t)}function as(e,t){rs(2048,8,e,t)}function os(e){J.flags|=4;var t=J.updateQueue;if(t===null)t=Eo(),J.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ss(e){var t=To().memoizedState;return os({ref:t,nextImpl:e}),function(){if(Fl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function cs(e,t){return rs(4,2,e,t)}function ls(e,t){return rs(4,4,e,t)}function us(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ds(e,t,n){n=n==null?null:n.concat([e]),rs(4,4,us.bind(null,t,e),n)}function fs(){}function ps(e,t){var n=To();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ms(e,t){var n=To();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&go(t,r[1]))return r[0];if(r=e(),lo){Ne(!0);try{e()}finally{Ne(!1)}}return n.memoizedState=[r,t],r}function hs(e,t,n){return n===void 0||io&1073741824&&!(Z&261930)?e.memoizedState=t:(e.memoizedState=n,e=fu(),J.lanes|=e,Wl|=e,n)}function gs(e,t,n,r){return vr(n,t)?n:Wa.current===null?!(io&42)||io&1073741824&&!(Z&261930)?(Zs=!0,e.memoizedState=n):(e=fu(),J.lanes|=e,Wl|=e,t):(e=hs(e,n,r),vr(e,t)||(Zs=!0),e)}function _s(e,t,n,r,i){var a=I.p;I.p=a!==0&&8>a?a:8;var o=F.T,s={};F.T=s,ks(e,!1,t,n);try{var c=i(),l=F.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Os(e,t,fa(c,r),du(e)):Os(e,t,r,du(e))}catch(n){Os(e,t,{then:function(){},status:`rejected`,reason:n},du())}finally{I.p=a,o!==null&&s.types!==null&&(o.types=s.types),F.T=o}}function vs(){}function ys(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=bs(e).queue;_s(e,a,t,L,n===null?vs:function(){return xs(e),n(r)})}function bs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:L},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xs(e){var t=bs(e);t.next===null&&(t=e.alternate.memoizedState),Os(e,t.next.queue,{},du())}function Ss(){return Zi(Qf)}function Cs(){return To().memoizedState}function ws(){return To().memoizedState}function Ts(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=du();e=G(n);var r=K(t,e,n);r!==null&&(pu(r,t,n),q(r,t,n)),t={cache:ia()},e.payload=t;return}t=t.return}}function Es(e,t,n){var r=du();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},As(e)?js(t,n):(n=Qr(e,t,n,r),n!==null&&(pu(n,e,r),Ms(n,t,r)))}function Ds(e,t,n){Os(e,t,n,du())}function Os(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(As(e))js(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,vr(s,o))return Zr(e,t,i,0),Il===null&&Xr(),!1}catch{}if(n=Qr(e,t,i,r),n!==null)return pu(n,e,r),Ms(n,t,r),!0}return!1}function ks(e,t,n,r){if(r={lane:2,revertLane:ud(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},As(e)){if(t)throw Error(i(479))}else t=Qr(e,n,r,2),t!==null&&pu(t,e,2)}function As(e){var t=e.alternate;return e===J||t!==null&&t===J}function js(e,t){co=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ms(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xe(e,n)}}var Y={readContext:Zi,use:Oo,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useLayoutEffect:ho,useInsertionEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useSyncExternalStore:ho,useId:ho,useHostTransitionStatus:ho,useFormState:ho,useActionState:ho,useOptimistic:ho,useMemoCache:ho,useCacheRefresh:ho};Y.useEffectEvent=ho;var Ns={readContext:Zi,use:Oo,useCallback:function(e,t){return wo().memoizedState=[e,t===void 0?null:t],e},useContext:Zi,useEffect:is,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ns(4194308,4,us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ns(4194308,4,e,t)},useInsertionEffect:function(e,t){ns(4,2,e,t)},useMemo:function(e,t){var n=wo();t=t===void 0?null:t;var r=e();if(lo){Ne(!0);try{e()}finally{Ne(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=wo();if(n!==void 0){var i=n(t);if(lo){Ne(!0);try{n(t)}finally{Ne(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Es.bind(null,J,e),[r.memoizedState,e]},useRef:function(e){var t=wo();return e={current:e},t.memoizedState=e},useState:function(e){e=Bo(e);var t=e.queue,n=Ds.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:fs,useDeferredValue:function(e,t){return hs(wo(),e,t)},useTransition:function(){var e=Bo(!1);return e=_s.bind(null,J,e.queue,!0,!1),wo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=J,a=wo();if(U){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Il===null)throw Error(i(349));Z&127||Fo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,is(Lo.bind(null,r,o,e),[e]),r.flags|=2048,es(9,{destroy:void 0},Io.bind(null,r,o,n,t),null),n},useId:function(){var e=wo(),t=Il.identifierPrefix;if(U){var n=Ci,r=Si;n=(r&~(1<<32-Pe(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=uo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=mo++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ss,useFormState:Yo,useActionState:Yo,useOptimistic:function(e){var t=wo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ks.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:ko,useCacheRefresh:function(){return wo().memoizedState=Ts.bind(null,J)},useEffectEvent:function(e){var t=wo(),n={impl:e};return t.memoizedState=n,function(){if(Fl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ps={readContext:Zi,use:Oo,useCallback:ps,useContext:Zi,useEffect:as,useImperativeHandle:ds,useInsertionEffect:cs,useLayoutEffect:ls,useMemo:ms,useReducer:jo,useRef:ts,useState:function(){return jo(Ao)},useDebugValue:fs,useDeferredValue:function(e,t){return gs(To(),ao.memoizedState,e,t)},useTransition:function(){var e=jo(Ao)[0],t=To().memoizedState;return[typeof e==`boolean`?e:Do(e),t]},useSyncExternalStore:Po,useId:Cs,useHostTransitionStatus:Ss,useFormState:Xo,useActionState:Xo,useOptimistic:function(e,t){return Vo(To(),ao,e,t)},useMemoCache:ko,useCacheRefresh:ws};Ps.useEffectEvent=ss;var Fs={readContext:Zi,use:Oo,useCallback:ps,useContext:Zi,useEffect:as,useImperativeHandle:ds,useInsertionEffect:cs,useLayoutEffect:ls,useMemo:ms,useReducer:No,useRef:ts,useState:function(){return No(Ao)},useDebugValue:fs,useDeferredValue:function(e,t){var n=To();return ao===null?hs(n,e,t):gs(n,ao.memoizedState,e,t)},useTransition:function(){var e=No(Ao)[0],t=To().memoizedState;return[typeof e==`boolean`?e:Do(e),t]},useSyncExternalStore:Po,useId:Cs,useHostTransitionStatus:Ss,useFormState:$o,useActionState:$o,useOptimistic:function(e,t){var n=To();return ao===null?(n.baseState=e,[e,n.queue.dispatch]):Vo(n,ao,e,t)},useMemoCache:ko,useCacheRefresh:ws};Fs.useEffectEvent=ss;function Is(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ls={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=G(r);i.payload=t,n!=null&&(i.callback=n),t=K(e,i,r),t!==null&&(pu(t,e,r),q(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=G(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=K(e,i,r),t!==null&&(pu(t,e,r),q(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=G(n);r.tag=2,t!=null&&(r.callback=t),t=K(e,r,n),t!==null&&(pu(t,e,n),q(t,e,n))}};function Rs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(i,a):!0}function zs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ls.enqueueReplaceState(t,t.state,null)}function Bs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=m({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Vs(e){Kr(e)}function Hs(e){console.error(e)}function Us(e){Kr(e)}function Ws(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Gs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Ks(e,t,n){return n=G(n),n.tag=3,n.payload={element:null},n.callback=function(){Ws(e,t)},n}function qs(e){return e=G(e),e.tag=3,e}function Js(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Gs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Gs(t,n,r),typeof i!=`function`&&(tu===null?tu=new Set([this]):tu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Ys(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Ji(t,n,a,!0),n=Ya.current,n!==null){switch(n.tag){case 31:case 13:return Xa===null?Tu():n.alternate===null&&Ul===0&&(Ul=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ba?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Wu(e,r,a)),!1;case 22:return n.flags|=65536,r===ba?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Wu(e,r,a)),!1}throw Error(i(435,n.tag))}return Wu(e,r,a),Tu(),!1}if(U)return t=Ya.current,t===null?(r!==Ni&&(t=Error(i(423),{cause:r}),Bi(mi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=mi(r,n),a=Ks(e.stateNode,r,a),Ra(e,a),Ul!==4&&(Ul=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ni&&(e=Error(i(422),{cause:r}),Bi(mi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=mi(o,n),Jl===null?Jl=[o]:Jl.push(o),Ul!==4&&(Ul=2),t===null)return!0;r=mi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Ks(n.stateNode,r,e),Ra(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(tu===null||!tu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=qs(a),Js(a,e,n,r),Ra(n,a),!1}n=n.return}while(n!==null);return!1}var Xs=Error(i(461)),Zs=!1;function Qs(e,t,n,r){t.child=e===null?Pa(t,null,n,r):Na(t,e.child,n,r)}function $s(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Xi(t),r=_o(e,t,n,o,a,i),s=xo(),e!==null&&!Zs?(So(e,t,i),Cc(e,t,i)):(U&&s&&Ei(t),t.flags|=1,Qs(e,t,r,i),t.child)}function ec(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!ai(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,tc(e,t,a,r,i)):(e=ci(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!wc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?yr:n,n(o,r)&&e.ref===t.ref)return Cc(e,t,i)}return t.flags|=1,e=oi(a,r),e.ref=t.ref,e.return=t,t.child=e}function tc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(yr(a,r)&&e.ref===t.ref)if(Zs=!1,t.pendingProps=r=a,wc(e,i))e.flags&131072&&(Zs=!0);else return t.lanes=e.lanes,Cc(e,t,i)}return lc(e,t,n,r,i)}function nc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return ic(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ha(t,a===null?null:a.cachePool),a===null?qa():Ka(t,a),$a(t);else return r=t.lanes=536870912,ic(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&ha(t,null),qa(),eo(t)):(ha(t,a.cachePool),Ka(t,a),eo(t),t.memoizedState=null);return Qs(e,t,i,n),t.child}function rc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ic(e,t,n,r,i){var a=ma();return a=a===null?null:{parent:ra._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&ha(t,null),qa(),$a(t),e!==null&&Ji(e,t,r,!0),t.childLanes=i,null}function ac(e,t){return t=vc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function oc(e,t,n){return Na(t,e.child,null,n),e=ac(t,t.pendingProps),e.flags|=2,to(t),t.memoizedState=null,e}function sc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(U){if(r.mode===`hidden`)return e=ac(t,r),t.lanes=536870912,rc(null,e);if(Qa(t),(e=Ai)?(e=rf(e,Mi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Pi(t);return t.lanes=536870912,null}return ac(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(Qa(t),a)if(t.flags&256)t.flags&=-257,t=oc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Zs||Ji(e,t,n,!1),a=(n&e.childLanes)!==0,Zs||a){if(r=Il,r!==null&&(s=Ze(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,$r(e,s),pu(r,e,s),Xs;Tu(),t=oc(e,t,n)}else e=o.treeContext,Ai=cf(s.nextSibling),ki=t,U=!0,ji=null,Mi=!1,e!==null&&Oi(t,e),t=ac(t,r),t.flags|=4096;return t}return e=oi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lc(e,t,n,r,i){return Xi(t),n=_o(e,t,n,r,void 0,i),r=xo(),e!==null&&!Zs?(So(e,t,i),Cc(e,t,i)):(U&&r&&Ei(t),t.flags|=1,Qs(e,t,n,i),t.child)}function uc(e,t,n,r,i,a){return Xi(t),t.updateQueue=null,n=yo(t,r,n,i),vo(e),r=xo(),e!==null&&!Zs?(So(e,t,a),Cc(e,t,a)):(U&&r&&Ei(t),t.flags|=1,Qs(e,t,n,a),t.child)}function dc(e,t,n,r,i){if(Xi(t),t.stateNode===null){var a=ni,o=n.contextType;typeof o==`object`&&o&&(a=Zi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ls,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ia(t),o=n.contextType,a.context=typeof o==`object`&&o?Zi(o):ni,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Is(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ls.enqueueReplaceState(a,a.state,null),Va(t,r,a,i),Ba(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Bs(n,s);a.props=c;var l=a.context,u=n.contextType;o=ni,typeof u==`object`&&u&&(o=Zi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&zs(t,a,r,o),Fa=!1;var f=t.memoizedState;a.state=f,Va(t,r,a,i),Ba(),l=t.memoizedState,s||f!==l||Fa?(typeof d==`function`&&(Is(t,n,d,r),l=t.memoizedState),(c=Fa||Rs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,La(e,t),o=t.memoizedProps,u=Bs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=ni,typeof l==`object`&&l&&(c=Zi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&zs(t,a,r,c),Fa=!1,f=t.memoizedState,a.state=f,Va(t,r,a,i),Ba();var p=t.memoizedState;o!==d||f!==p||Fa||e!==null&&e.dependencies!==null&&Yi(e.dependencies)?(typeof s==`function`&&(Is(t,n,s,r),p=t.memoizedState),(u=Fa||Rs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Yi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,cc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Na(t,e.child,null,i),t.child=Na(t,null,n,i)):Qs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Cc(e,t,i),e}function fc(e,t,n,r){return Ri(),t.flags|=256,Qs(e,t,n,r),t.child}var pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mc(e){return{baseLanes:e,cachePool:ga()}}function hc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=ql),e}function gc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(no.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(U){if(a?Za(t):eo(t),(e=Ai)?(e=rf(e,Mi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xi===null?null:{id:Si,overflow:Ci},retryLane:536870912,hydrationErrors:null},n=di(e),n.return=t,t.child=n,ki=t,Ai=null)):e=null,e===null)throw Pi(t);return of(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(eo(t),a=t.mode,c=vc({mode:`hidden`,children:c},a),r=li(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=mc(n),r.childLanes=hc(e,s,n),t.memoizedState=pc,rc(null,r)):(Za(t),_c(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Za(t),t.flags&=-257,t=yc(e,t,n)):t.memoizedState===null?(eo(t),c=r.fallback,a=t.mode,r=vc({mode:`visible`,children:r.children},a),c=li(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Na(t,e.child,null,n),r=t.child,r.memoizedState=mc(n),r.childLanes=hc(e,s,n),t.memoizedState=pc,t=rc(null,r)):(eo(t),t.child=e.child,t.flags|=128,t=null);else if(Za(t),of(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Bi({value:r,source:null,stack:null}),t=yc(e,t,n)}else if(Zs||Ji(e,t,n,!1),s=(n&e.childLanes)!==0,Zs||s){if(s=Il,s!==null&&(r=Ze(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,$r(e,r),pu(s,e,r),Xs;af(c)||Tu(),t=yc(e,t,n)}else af(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Ai=cf(c.nextSibling),ki=t,U=!0,ji=null,Mi=!1,e!==null&&Oi(t,e),t=_c(t,r.children),t.flags|=4096);return t}return a?(eo(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=oi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=li(c,a,n,null),c.flags|=2):c=oi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,rc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=mc(n):(a=c.cachePool,a===null?a=ga():(l=ra._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=hc(e,s,n),t.memoizedState=pc,rc(e.child,r)):(Za(t),n=e.child,e=n.sibling,n=oi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function _c(e,t){return t=vc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function vc(e,t){return e=ii(22,e,null,t),e.lanes=0,e}function yc(e,t,n){return Na(t,e.child,null,n),e=_c(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ki(e.return,t,n)}function xc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Sc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=no.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,B(no,o),Qs(e,t,r,n),r=U?vi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,n,t);else if(e.tag===19)bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ro(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),xc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ro(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}xc(t,!0,n,null,a,r);break;case`together`:xc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Cc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ji(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=oi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Yi(e))):!0}function Tc(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),Wi(t,ra,e.memoizedState.cache),Ri();break;case 27:case 5:ce(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:Wi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qa(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Za(t),e=Cc(e,t,n),e===null?null:e.sibling):gc(e,t,n):(Za(t),t.flags|=128,null);Za(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Ji(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Sc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(no,no.current),r)break;return null;case 22:return t.lanes=0,nc(e,t,n,t.pendingProps);case 24:Wi(t,ra,e.memoizedState.cache)}return Cc(e,t,n)}function Ec(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Zs=!0;else{if(!wc(e,n)&&!(t.flags&128))return Zs=!1,Tc(e,t,n);Zs=!!(e.flags&131072)}else Zs=!1,U&&t.flags&1048576&&Ti(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=Ca(t.elementType),t.type=e,typeof e==`function`)ai(e)?(r=Bs(e,r),t.tag=1,t=dc(null,t,e,r,n)):(t.tag=0,t=lc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=$s(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=ec(null,t,e,r,n);break a}}throw t=N(e)||e,Error(i(306,t,``))}}return t;case 0:return lc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Bs(r,t.pendingProps),dc(e,t,r,a,n);case 3:a:{if(V(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,La(e,t),Va(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Wi(t,ra,r),r!==o.cache&&qi(t,[ra],n,!0),Ba(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=fc(e,t,r,n);break a}else if(r!==a){a=mi(Error(i(424)),t),Bi(a),t=fc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Ai=cf(e.firstChild),ki=t,U=!0,ji=null,Mi=!0,n=Pa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ri(),r===a){t=Cc(e,t,n);break a}Qs(e,t,r,n)}t=t.child}return t;case 26:return cc(e,t),e===null?(n=kf(t.type,null,t.pendingProps,null))?t.memoizedState=n:U||(n=t.type,e=t.pendingProps,r=Bd(ae.current).createElement(n),r[rt]=t,r[it]=e,Pd(r,n,e),ht(r),t.stateNode=r):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ce(t),e===null&&U&&(r=t.stateNode=ff(t.type,t.pendingProps,ae.current),ki=t,Mi=!0,a=Ai,Zd(t.type)?(lf=a,Ai=cf(r.firstChild)):Ai=a),Qs(e,t,t.pendingProps.children,n),cc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&U&&((a=r=Ai)&&(r=tf(r,t.type,t.pendingProps,Mi),r===null?a=!1:(t.stateNode=r,ki=t,Ai=cf(r.firstChild),Mi=!1,a=!0)),a||Pi(t)),ce(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Ud(a,o)?r=null:s!==null&&Ud(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=_o(e,t,bo,null,null,n),Qf._currentValue=a),cc(e,t),Qs(e,t,r,n),t.child;case 6:return e===null&&U&&((e=n=Ai)&&(n=nf(n,t.pendingProps,Mi),n===null?e=!1:(t.stateNode=n,ki=t,Ai=null,e=!0)),e||Pi(t)),null;case 13:return gc(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Na(t,null,r,n):Qs(e,t,r,n),t.child;case 11:return $s(e,t,t.type,t.pendingProps,n);case 7:return Qs(e,t,t.pendingProps,n),t.child;case 8:return Qs(e,t,t.pendingProps.children,n),t.child;case 12:return Qs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Wi(t,t.type,r.value),Qs(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Xi(t),a=Zi(a),r=r(a),t.flags|=1,Qs(e,t,r,n),t.child;case 14:return ec(e,t,t.type,t.pendingProps,n);case 15:return tc(e,t,t.type,t.pendingProps,n);case 19:return Sc(e,t,n);case 31:return sc(e,t,n);case 22:return nc(e,t,n,t.pendingProps);case 24:return Xi(t),r=Zi(ra),e===null?(a=ma(),a===null&&(a=Il,o=ia(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ia(t),Wi(t,ra,a)):((e.lanes&n)!==0&&(La(e,t),Va(t,null,null,n),Ba()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Wi(t,ra,r),r!==a.cache&&qi(t,[ra],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Wi(t,ra,r))),Qs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Dc(e){e.flags|=4}function Oc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Su())e.flags|=8192;else throw wa=ba,va}else e.flags&=-16777217}function kc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(Su())e.flags|=8192;else throw wa=ba,va}function Ac(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Ge(),e.lanes|=t,Q|=t)}function jc(e,t){if(!U)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nc(e,t,n){var r=t.pendingProps;switch(Di(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mc(t),null;case 1:return Mc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Gi(ra),se(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Li(t)?Dc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zi())),Mc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Dc(t),o===null?(Mc(t),Oc(t,a,null,r,n)):(Mc(t),kc(t,o))):o?o===e.memoizedState?(Mc(t),t.flags&=-16777217):(Dc(t),Mc(t),kc(t,o)):(e=e.memoizedProps,e!==r&&Dc(t),Mc(t),Oc(t,a,e,r,n)),null;case 27:if(le(t),n=ae.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Dc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Mc(t),null}e=re.current,Li(t)?Fi(t,e):(e=ff(a,r,n),t.stateNode=e,Dc(t))}return Mc(t),null;case 5:if(le(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Dc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Mc(t),null}if(o=re.current,Li(t))Fi(t,o);else{var s=Bd(ae.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[rt]=t,o[it]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Pd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Dc(t)}}return Mc(t),Oc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Dc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=ae.current,Li(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=ki,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[rt]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||jd(e.nodeValue,n)),e||Pi(t,!0)}else e=Bd(e).createTextNode(r),e[rt]=t,t.stateNode=e}return Mc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Li(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[rt]=t}else Ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mc(t),e=!1}else n=zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(to(t),t):(to(t),null);if(t.flags&128)throw Error(i(558))}return Mc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Li(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[rt]=t}else Ri(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mc(t),a=!1}else a=zi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(to(t),t):(to(t),null)}return to(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ac(t,t.updateQueue),Mc(t),null);case 4:return se(),e===null&&xd(t.stateNode.containerInfo),Mc(t),null;case 10:return Gi(t.type),Mc(t),null;case 19:if(ne(no),r=t.memoizedState,r===null)return Mc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)jc(r,!1);else{if(Ul!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ro(e),o!==null){for(t.flags|=128,jc(r,!1),e=o.updateQueue,t.updateQueue=e,Ac(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)si(n,e),n=n.sibling;return B(no,no.current&1|2),U&&wi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Se()>$l&&(t.flags|=128,a=!0,jc(r,!1),t.lanes=4194304)}else{if(!a)if(e=ro(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ac(t,e),jc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!U)return Mc(t),null}else 2*Se()-r.renderingStartTime>$l&&n!==536870912&&(t.flags|=128,a=!0,jc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Mc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Se(),e.sibling=null,n=no.current,B(no,a?n&1|2:n&1),U&&wi(t,r.treeForkCount),e);case 22:case 23:return to(t),Ja(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Mc(t),t.subtreeFlags&6&&(t.flags|=8192)):Mc(t),n=t.updateQueue,n!==null&&Ac(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ne(pa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Gi(ra),Mc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Pc(e,t){switch(Di(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gi(ra),se(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return le(t),null;case 31:if(t.memoizedState!==null){if(to(t),t.alternate===null)throw Error(i(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(to(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ri()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(no),null;case 4:return se(),null;case 10:return Gi(t.type),null;case 22:case 23:return to(t),Ja(),e!==null&&ne(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gi(ra),null;case 25:return null;default:return null}}function Fc(e,t){switch(Di(t),t.tag){case 3:Gi(ra),se();break;case 26:case 27:case 5:le(t);break;case 4:se();break;case 31:t.memoizedState!==null&&to(t);break;case 13:to(t);break;case 19:ne(no);break;case 10:Gi(t.type);break;case 22:case 23:to(t),Ja(),e!==null&&ne(pa);break;case 24:Gi(ra)}}function Ic(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Uu(t,t.return,e)}}function Lc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Uu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Uu(t,t.return,e)}}function Rc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ua(t,n)}catch(t){Uu(e,e.return,t)}}}function zc(e,t,n){n.props=Bs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Uu(e,t,n)}}function Bc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Uu(e,t,n)}}function Vc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Uu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Uu(e,t,n)}else n.current=null}function Hc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Uu(e,e.return,t)}}function Uc(e,t,n){try{var r=e.stateNode;Fd(r,e.type,n,t),r[it]=t}catch(t){Uu(e,e.return,t)}}function Wc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zd(e.type)||e.tag===4}function Gc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Wc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zd(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yt));else if(r!==4&&(r===27&&Zd(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function qc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Zd(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qc(e,t,n),e=e.sibling;e!==null;)qc(e,t,n),e=e.sibling}function Jc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Pd(t,r,n),t[rt]=e,t[it]=n}catch(t){Uu(e,e.return,t)}}var Yc=!1,Xc=!1,Zc=!1,Qc=typeof WeakSet==`function`?WeakSet:Set,$c=null;function el(e,t){if(e=e.containerInfo,Rd=sp,e=Cr(e),wr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(zd={focusedElem:e,selectionRange:n},sp=!1,$c=t;$c!==null;)if(t=$c,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,$c=e;else for(;$c!==null;){switch(t=$c,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Bs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Uu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)ef(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:ef(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,$c=e;break}$c=t.return}}function tl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:gl(e,n),r&4&&Ic(5,n);break;case 1:if(gl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Uu(n,n.return,e)}else{var i=Bs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Uu(n,n.return,e)}}r&64&&Rc(n),r&512&&Bc(n,n.return);break;case 3:if(gl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ua(e,t)}catch(e){Uu(n,n.return,e)}}break;case 27:t===null&&r&4&&Jc(n);case 26:case 5:gl(e,n),t===null&&r&4&&Hc(n),r&512&&Bc(n,n.return);break;case 12:gl(e,n);break;case 31:gl(e,n),r&4&&sl(e,n);break;case 13:gl(e,n),r&4&&cl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=qu.bind(null,n),sf(e,n))));break;case 22:if(r=n.memoizedState!==null||Yc,!r){t=t!==null&&t.memoizedState!==null||Xc,i=Yc;var a=Xc;Yc=r,(Xc=t)&&!a?vl(e,n,(n.subtreeFlags&8772)!=0):gl(e,n),Yc=i,Xc=a}break;case 30:break;default:gl(e,n)}}function nl(e){var t=e.alternate;t!==null&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var rl=null,il=!1;function al(e,t,n){for(n=n.child;n!==null;)ol(e,t,n),n=n.sibling}function ol(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount==`function`)try{Me.onCommitFiberUnmount(je,n)}catch{}switch(n.tag){case 26:Xc||Vc(n,t),al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xc||Vc(n,t);var r=rl,i=il;Zd(n.type)&&(rl=n.stateNode,il=!1),al(e,t,n),pf(n.stateNode),rl=r,il=i;break;case 5:Xc||Vc(n,t);case 6:if(r=rl,i=il,rl=null,al(e,t,n),rl=r,il=i,rl!==null)if(il)try{(rl.nodeType===9?rl.body:rl.nodeName===`HTML`?rl.ownerDocument.body:rl).removeChild(n.stateNode)}catch(e){Uu(n,t,e)}else try{rl.removeChild(n.stateNode)}catch(e){Uu(n,t,e)}break;case 18:rl!==null&&(il?(e=rl,Qd(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Np(e)):Qd(rl,n.stateNode));break;case 4:r=rl,i=il,rl=n.stateNode.containerInfo,il=!0,al(e,t,n),rl=r,il=i;break;case 0:case 11:case 14:case 15:Lc(2,n,t),Xc||Lc(4,n,t),al(e,t,n);break;case 1:Xc||(Vc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&zc(n,t,r)),al(e,t,n);break;case 21:al(e,t,n);break;case 22:Xc=(r=Xc)||n.memoizedState!==null,al(e,t,n),Xc=r;break;default:al(e,t,n)}}function sl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Np(e)}catch(e){Uu(t,t.return,e)}}}function cl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Np(e)}catch(e){Uu(t,t.return,e)}}function ll(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qc),t;default:throw Error(i(435,e.tag))}}function ul(e,t){var n=ll(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ju.bind(null,e,t);t.then(r,r)}})}function dl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Zd(c.type)){rl=c.stateNode,il=!1;break a}break;case 5:rl=c.stateNode,il=!1;break a;case 3:case 4:rl=c.stateNode.containerInfo,il=!0;break a}c=c.return}if(rl===null)throw Error(i(160));ol(o,s,a),rl=null,il=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pl(t,e),t=t.sibling}var fl=null;function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),ml(e),r&4&&(Lc(3,e,e.return),Ic(3,e),Lc(5,e,e.return));break;case 1:dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),r&64&&Yc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=fl;if(dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[ut]||o[rt]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Pd(o,r,n),o[rt]=e,ht(o),r=o;break a;case`link`:var s=Vf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Pd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Vf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Pd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[rt]=e,ht(o),r=o}e.stateNode=r}else Hf(a,e.type,e.stateNode);else e.stateNode=If(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Hf(a,e.type,e.stateNode):If(a,r,e.memoizedProps))}break;case 27:dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),n!==null&&r&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(dl(t,e),ml(e),r&512&&(Xc||n===null||Vc(n,n.return)),e.flags&32){a=e.stateNode;try{Vt(a,``)}catch(t){Uu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Uc(e,a,n===null?a:n.memoizedProps)),r&1024&&(Zc=!0);break;case 6:if(dl(t,e),ml(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Uu(e,e.return,t)}}break;case 3:if(Bf=null,a=fl,fl=gf(t.containerInfo),dl(t,e),fl=a,ml(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(t){Uu(e,e.return,t)}Zc&&(Zc=!1,hl(e));break;case 4:r=fl,fl=gf(e.stateNode.containerInfo),dl(t,e),ml(e),fl=r;break;case 12:dl(t,e),ml(e);break;case 31:dl(t,e),ml(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 13:dl(t,e),ml(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zl=Se()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Yc,d=Xc;if(Yc=u||a,Xc=d||l,dl(t,e),Xc=d,Yc=u,ml(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Yc||Xc||_l(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Uu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Uu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?$d(m,!0):$d(l.stateNode,!1)}catch(e){Uu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ul(e,n))));break;case 19:dl(t,e),ml(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ul(e,r)));break;case 30:break;case 21:break;default:dl(t,e),ml(e)}}function ml(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Wc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;qc(e,Gc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Vt(o,``),n.flags&=-33),qc(e,Gc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Kc(e,Gc(e),s);break;default:throw Error(i(161))}}catch(t){Uu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)tl(e,t.alternate,t),t=t.sibling}function _l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Lc(4,t,t.return),_l(t);break;case 1:Vc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&zc(t,t.return,n),_l(t);break;case 27:pf(t.stateNode);case 26:case 5:Vc(t,t.return),_l(t);break;case 22:t.memoizedState===null&&_l(t);break;case 30:_l(t);break;default:_l(t)}e=e.sibling}}function vl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:vl(i,a,n),Ic(4,a);break;case 1:if(vl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Uu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ha(c[i],s)}catch(e){Uu(r,r.return,e)}}n&&o&64&&Rc(a),Bc(a,a.return);break;case 27:Jc(a);case 26:case 5:vl(i,a,n),n&&r===null&&o&4&&Hc(a),Bc(a,a.return);break;case 12:vl(i,a,n);break;case 31:vl(i,a,n),n&&o&4&&sl(i,a);break;case 13:vl(i,a,n),n&&o&4&&cl(i,a);break;case 22:a.memoizedState===null&&vl(i,a,n),Bc(a,a.return);break;case 30:break;default:vl(i,a,n)}t=t.sibling}}function yl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&aa(n))}function bl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&aa(e))}function xl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sl(e,t,n,r),t=t.sibling}function Sl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:xl(e,t,n,r),i&2048&&Ic(9,t);break;case 1:xl(e,t,n,r);break;case 3:xl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&aa(e)));break;case 12:if(i&2048){xl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Uu(t,t.return,e)}}else xl(e,t,n,r);break;case 31:xl(e,t,n,r);break;case 13:xl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?xl(e,t,n,r):(a._visibility|=2,Cl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?xl(e,t,n,r):wl(e,t),i&2048&&yl(o,t);break;case 24:xl(e,t,n,r),i&2048&&bl(t.alternate,t);break;default:xl(e,t,n,r)}}function Cl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Cl(a,o,s,c,i),Ic(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Cl(a,o,s,c,i)):u._visibility&2?Cl(a,o,s,c,i):wl(a,o),i&&l&2048&&yl(o.alternate,o);break;case 24:Cl(a,o,s,c,i),i&&l&2048&&bl(o.alternate,o);break;default:Cl(a,o,s,c,i)}t=t.sibling}}function wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:wl(n,r),i&2048&&yl(r.alternate,r);break;case 24:wl(n,r),i&2048&&bl(r.alternate,r);break;default:wl(n,r)}t=t.sibling}}var Tl=8192;function El(e,t,n){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)Dl(e,t,n),e=e.sibling}function Dl(e,t,n){switch(e.tag){case 26:El(e,t,n),e.flags&Tl&&e.memoizedState!==null&&Gf(n,fl,e.memoizedState,e.memoizedProps);break;case 5:El(e,t,n);break;case 3:case 4:var r=fl;fl=gf(e.stateNode.containerInfo),El(e,t,n),fl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,El(e,t,n),Tl=r):El(e,t,n));break;default:El(e,t,n)}}function Ol(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$c=r,Ml(r,e)}Ol(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Al(e),e=e.sibling}function Al(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&Lc(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):kl(e);break;default:kl(e)}}function jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];$c=r,Ml(r,e)}Ol(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Lc(8,t,t.return),jl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function Ml(e,t){for(;$c!==null;){var n=$c;switch(n.tag){case 0:case 11:case 15:Lc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:aa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,$c=r;else a:for(n=e;$c!==null;){r=$c;var i=r.sibling,a=r.return;if(nl(r),r===n){$c=null;break a}if(i!==null){i.return=a,$c=i;break a}$c=a}}}var Nl={getCacheForType:function(e){var t=Zi(ra),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Zi(ra).controller.signal}},Pl=typeof WeakMap==`function`?WeakMap:Map,Fl=0,Il=null,X=null,Z=0,Ll=0,Rl=null,zl=!1,Bl=!1,Vl=!1,Hl=0,Ul=0,Wl=0,Gl=0,Kl=0,ql=0,Q=0,Jl=null,Yl=null,Xl=!1,Zl=0,Ql=0,$l=1/0,eu=null,tu=null,nu=0,ru=null,iu=null,au=0,ou=0,su=null,cu=null,lu=0,uu=null;function du(){return Fl&2&&Z!==0?Z&-Z:F.T===null?et():ud()}function fu(){if(ql===0)if(!(Z&536870912)||U){var e=ze;ze<<=1,!(ze&3932160)&&(ze=262144),ql=e}else ql=536870912;return e=Ya.current,e!==null&&(e.flags|=32),ql}function pu(e,t,n){(e===Il&&(Ll===2||Ll===9)||e.cancelPendingCommit!==null)&&(bu(e,0),_u(e,Z,ql,!1)),qe(e,n),(!(Fl&2)||e!==Il)&&(e===Il&&(!(Fl&2)&&(Gl|=n),Ul===4&&_u(e,Z,ql,!1)),nd(e))}function mu(e,t,n){if(Fl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Ue(e,t),a=r?Ou(e,t):Eu(e,t,!0),o=r;do{if(a===0){Bl&&!r&&_u(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!gu(n)){a=Eu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Jl;var l=c.current.memoizedState.isDehydrated;if(l&&(bu(c,s).flags|=256),s=Eu(c,s,!1),s!==2){if(Vl&&!l){c.errorRecoveryDisabledLanes|=o,Gl|=o,a=4;break a}o=Yl,Yl=a,o!==null&&(Yl===null?Yl=o:Yl.push.apply(Yl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){bu(e,0),_u(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:_u(r,t,ql,!zl);break a;case 2:Yl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=Zl+300-Se(),10<a)){if(_u(r,t,ql,!zl),He(r,0,!0)!==0)break a;au=t,r.timeoutHandle=Kd(hu.bind(null,r,n,Yl,eu,Xl,t,ql,Gl,Q,zl,o,`Throttled`,-0,0),a);break a}hu(r,n,Yl,eu,Xl,t,ql,Gl,Q,zl,o,null,-0,0)}}break}while(1);nd(e)}function hu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},Dl(t,a,d);var m=(a&62914560)===a?Zl-Se():(a&4194048)===a?Ql-Se():0;if(m=qf(d,m),m!==null){au=a,e.cancelPendingCommit=m(Fu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),_u(e,a,o,!l);return}}Fu(e,t,a,n,r,i,o,s,c)}function gu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!vr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _u(e,t,n,r){t&=~Kl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Pe(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Ye(e,n,t)}function vu(){return Fl&6?!0:(rd(0,!1),!1)}function yu(){if(X!==null){if(Ll===0)var e=X.return;else e=X,Ui=Hi=null,Co(e),Da=null,Oa=0,e=X;for(;e!==null;)Fc(e.alternate,e),e=e.return;X=null}}function bu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),au=0,yu(),Il=e,X=n=oi(e.current,null),Z=t,Ll=0,Rl=null,zl=!1,Bl=Ue(e,t),Vl=!1,Q=ql=Kl=Gl=Wl=Ul=0,Yl=Jl=null,Xl=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Pe(r),a=1<<i;t|=e[i],r&=~a}return Hl=t,Xr(),n}function xu(e,t){J=null,F.H=Y,t===_a||t===ya?(t=Ta(),Ll=3):t===va?(t=Ta(),Ll=4):Ll=t===Xs?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Rl=t,X===null&&(Ul=1,Ws(e,mi(t,e.current)))}function Su(){var e=Ya.current;return e===null?!0:(Z&4194048)===Z?Xa===null:(Z&62914560)===Z||Z&536870912?e===Xa:!1}function Cu(){var e=F.H;return F.H=Y,e===null?Y:e}function wu(){var e=F.A;return F.A=Nl,e}function Tu(){Ul=4,zl||(Z&4194048)!==Z&&Ya.current!==null||(Bl=!0),!(Wl&134217727)&&!(Gl&134217727)||Il===null||_u(Il,Z,ql,!1)}function Eu(e,t,n){var r=Fl;Fl|=2;var i=Cu(),a=wu();(Il!==e||Z!==t)&&(eu=null,bu(e,t)),t=!1;var o=Ul;a:do try{if(Ll!==0&&X!==null){var s=X,c=Rl;switch(Ll){case 8:yu(),o=6;break a;case 3:case 2:case 9:case 6:Ya.current===null&&(t=!0);var l=Ll;if(Ll=0,Rl=null,Mu(e,s,c,l),n&&Bl){o=0;break a}break;default:l=Ll,Ll=0,Rl=null,Mu(e,s,c,l)}}Du(),o=Ul;break}catch(t){xu(e,t)}while(1);return t&&e.shellSuspendCounter++,Ui=Hi=null,Fl=r,F.H=i,F.A=a,X===null&&(Il=null,Z=0,Xr()),o}function Du(){for(;X!==null;)Au(X)}function Ou(e,t){var n=Fl;Fl|=2;var r=Cu(),a=wu();Il!==e||Z!==t?(eu=null,$l=Se()+500,bu(e,t)):Bl=Ue(e,t);a:do try{if(Ll!==0&&X!==null){t=X;var o=Rl;b:switch(Ll){case 1:Ll=0,Rl=null,Mu(e,t,o,1);break;case 2:case 9:if(xa(o)){Ll=0,Rl=null,ju(t);break}t=function(){Ll!==2&&Ll!==9||Il!==e||(Ll=7),nd(e)},o.then(t,t);break a;case 3:Ll=7;break a;case 4:Ll=5;break a;case 7:xa(o)?(Ll=0,Rl=null,ju(t)):(Ll=0,Rl=null,Mu(e,t,o,7));break;case 5:var s=null;switch(X.tag){case 26:s=X.memoizedState;case 5:case 27:var c=X;if(s?Wf(s):c.stateNode.complete){Ll=0,Rl=null;var l=c.sibling;if(l!==null)X=l;else{var u=c.return;u===null?X=null:(X=u,Nu(u))}break b}}Ll=0,Rl=null,Mu(e,t,o,5);break;case 6:Ll=0,Rl=null,Mu(e,t,o,6);break;case 8:yu(),Ul=6;break a;default:throw Error(i(462))}}ku();break}catch(t){xu(e,t)}while(1);return Ui=Hi=null,F.H=r,F.A=a,Fl=n,X===null?(Il=null,Z=0,Xr(),Ul):0}function ku(){for(;X!==null&&!be();)Au(X)}function Au(e){var t=Ec(e.alternate,e,Hl);e.memoizedProps=e.pendingProps,t===null?Nu(e):X=t}function ju(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=uc(n,t,t.pendingProps,t.type,void 0,Z);break;case 11:t=uc(n,t,t.pendingProps,t.type.render,t.ref,Z);break;case 5:Co(t);default:Fc(n,t),t=X=si(t,Hl),t=Ec(n,t,Hl)}e.memoizedProps=e.pendingProps,t===null?Nu(e):X=t}function Mu(e,t,n,r){Ui=Hi=null,Co(t),Da=null,Oa=0;var i=t.return;try{if(Ys(e,i,t,n,Z)){Ul=1,Ws(e,mi(n,e.current)),X=null;return}}catch(t){if(i!==null)throw X=i,t;Ul=1,Ws(e,mi(n,e.current)),X=null;return}t.flags&32768?(U||r===1?e=!0:Bl||Z&536870912?e=!1:(zl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ya.current,r!==null&&r.tag===13&&(r.flags|=16384))),Pu(t,e)):Nu(t)}function Nu(e){var t=e;do{if(t.flags&32768){Pu(t,zl);return}e=t.return;var n=Nc(t.alternate,t,Hl);if(n!==null){X=n;return}if(t=t.sibling,t!==null){X=t;return}X=t=e}while(t!==null);Ul===0&&(Ul=5)}function Pu(e,t){do{var n=Pc(e.alternate,e);if(n!==null){n.flags&=32767,X=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){X=e;return}X=e=n}while(e!==null);Ul=6,X=null}function Fu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Bu();while(nu!==0);if(Fl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Yr,Je(e,n,o,s,c,l),e===Il&&(X=Il=null,Z=0),iu=t,ru=e,au=n,ou=o,su=a,cu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Yu(Ee,function(){return Vu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=F.T,F.T=null,a=I.p,I.p=2,s=Fl,Fl|=4;try{el(e,t,n)}finally{Fl=s,I.p=a,F.T=r}}nu=1,Iu(),Lu(),Ru()}}function Iu(){if(nu===1){nu=0;var e=ru,t=iu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var r=I.p;I.p=2;var i=Fl;Fl|=4;try{pl(t,e);var a=zd,o=Cr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Sr(s.ownerDocument.documentElement,s)){if(c!==null&&wr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=xr(s,h),v=xr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}sp=!!Rd,zd=Rd=null}finally{Fl=i,I.p=r,F.T=n}}e.current=t,nu=2}}function Lu(){if(nu===2){nu=0;var e=ru,t=iu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var r=I.p;I.p=2;var i=Fl;Fl|=4;try{tl(e,t.alternate,t)}finally{Fl=i,I.p=r,F.T=n}}nu=3}}function Ru(){if(nu===4||nu===3){nu=0,xe();var e=ru,t=iu,n=au,r=cu;t.subtreeFlags&10256||t.flags&10256?nu=5:(nu=0,iu=ru=null,zu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(tu=null),$e(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot==`function`)try{Me.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=F.T,i=I.p,I.p=2,F.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{F.T=t,I.p=i}}au&3&&Bu(),nd(e),i=e.pendingLanes,n&261930&&i&42?e===uu?lu++:(lu=0,uu=e):lu=0,rd(0,!1)}}function zu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,aa(t)))}function Bu(){return Iu(),Lu(),Ru(),Vu()}function Vu(){if(nu!==5)return!1;var e=ru,t=ou;ou=0;var n=$e(au),r=F.T,a=I.p;try{I.p=32>n?32:n,F.T=null,n=su,su=null;var o=ru,s=au;if(nu=0,iu=ru=null,au=0,Fl&6)throw Error(i(331));var c=Fl;if(Fl|=4,Al(o.current),Sl(o,o.current,s,n),Fl=c,rd(0,!1),Me&&typeof Me.onPostCommitFiberRoot==`function`)try{Me.onPostCommitFiberRoot(je,o)}catch{}return!0}finally{I.p=a,F.T=r,zu(e,t)}}function Hu(e,t,n){t=mi(n,t),t=Ks(e.stateNode,t,2),e=K(e,t,2),e!==null&&(qe(e,2),nd(e))}function Uu(e,t,n){if(e.tag===3)Hu(e,e,n);else for(;t!==null;){if(t.tag===3){Hu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(tu===null||!tu.has(r))){e=mi(n,e),n=qs(2),r=K(t,n,2),r!==null&&(Js(n,r,t,e),qe(r,2),nd(r));break}}t=t.return}}function Wu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Vl=!0,i.add(n),e=Gu.bind(null,e,t,n),t.then(e,e))}function Gu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Il===e&&(Z&n)===n&&(Ul===4||Ul===3&&(Z&62914560)===Z&&300>Se()-Zl?!(Fl&2)&&bu(e,0):Kl|=n,Q===Z&&(Q=0)),nd(e)}function Ku(e,t){t===0&&(t=Ge()),e=$r(e,t),e!==null&&(qe(e,t),nd(e))}function qu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ku(e,n)}function Ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ku(e,n)}function Yu(e,t){return ve(e,t)}var Xu=null,Zu=null,Qu=!1,$u=!1,ed=!1,td=0;function nd(e){e!==Zu&&e.next===null&&(Zu===null?Xu=Zu=e:Zu=Zu.next=e),$u=!0,Qu||(Qu=!0,ld())}function rd(e,t){if(!ed&&$u){ed=!0;do for(var n=!1,r=Xu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Pe(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,cd(r,a))}else a=Z,a=He(r,r===Il?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ue(r,a)||(n=!0,cd(r,a));r=r.next}while(n);ed=!1}}function id(){ad()}function ad(){$u=Qu=!1;var e=0;td!==0&&Gd()&&(e=td);for(var t=Se(),n=null,r=Xu;r!==null;){var i=r.next,a=od(r,t);a===0?(r.next=null,n===null?Xu=i:n.next=i,i===null&&(Zu=n)):(n=r,(e!==0||a&3)&&($u=!0)),r=i}nu!==0&&nu!==5||rd(e,!1),td!==0&&(td=0)}function od(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Pe(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=We(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Il,n=Z,n=He(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ll===2||Ll===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ye(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ue(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ye(r),$e(n)){case 2:case 8:n=Te;break;case 32:n=Ee;break;case 268435456:n=Oe;break;default:n=Ee}return r=sd.bind(null,e),n=ve(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ye(r),e.callbackPriority=2,e.callbackNode=null,2}function sd(e,t){if(nu!==0&&nu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bu()&&e.callbackNode!==n)return null;var r=Z;return r=He(e,e===Il?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(mu(e,r,t),od(e,Se()),e.callbackNode!=null&&e.callbackNode===n?sd.bind(null,e):null)}function cd(e,t){if(Bu())return null;mu(e,t,!0)}function ld(){Yd(function(){Fl&6?ve(we,id):ad()})}function ud(){if(td===0){var e=ca;e===0&&(e=Re,Re<<=1,!(Re&261888)&&(Re=256)),td=e}return td}function dd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Jt(``+e)}function fd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function pd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=dd((i[it]||null).action),o=r.submitter;o&&(t=(t=o[it]||null)?dd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new _n(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(td!==0){var e=o?fd(i,o):new FormData(i);ys(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?fd(i,o):new FormData(i),ys(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var md=0;md<Wr.length;md++){var hd=Wr[md];Gr(hd.toLowerCase(),`on`+(hd[0].toUpperCase()+hd.slice(1)))}Gr(Ir,`onAnimationEnd`),Gr(Lr,`onAnimationIteration`),Gr(Rr,`onAnimationStart`),Gr(`dblclick`,`onDoubleClick`),Gr(`focusin`,`onFocus`),Gr(`focusout`,`onBlur`),Gr(zr,`onTransitionRun`),Gr(Br,`onTransitionStart`),Gr(Vr,`onTransitionCancel`),Gr(Hr,`onTransitionEnd`),yt(`onMouseEnter`,[`mouseout`,`mouseover`]),yt(`onMouseLeave`,[`mouseout`,`mouseover`]),yt(`onPointerEnter`,[`pointerout`,`pointerover`]),yt(`onPointerLeave`,[`pointerout`,`pointerover`]),vt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),vt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),vt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),vt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),vt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),vt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var gd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),_d=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(gd));function vd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Kr(e)}i.currentTarget=null,a=c}}}}function $(e,t){var n=t[ot];n===void 0&&(n=t[ot]=new Set);var r=e+`__bubble`;n.has(r)||(Sd(t,e,2,!1),n.add(r))}function yd(e,t,n){var r=0;t&&(r|=4),Sd(n,e,r,t)}var bd=`_reactListening`+Math.random().toString(36).slice(2);function xd(e){if(!e[bd]){e[bd]=!0,gt.forEach(function(t){t!==`selectionchange`&&(_d.has(t)||yd(t,!1,e),yd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bd]||(t[bd]=!0,yd(`selectionchange`,!1,t))}}function Sd(e,t,n,r){switch(mp(t)){case 2:var i=cp;break;case 8:i=lp;break;default:i=up}n=i.bind(null,t,n,e),i=void 0,!on||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Cd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=H(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}nn(function(){var r=a,i=Zt(n),s=[];a:{var c=Ur.get(e);if(c!==void 0){var l=_n,u=e;switch(e){case`keypress`:if(fn(n)===0)break a;case`keydown`:case`keyup`:l=Fn;break;case`focusin`:u=`focus`,l=En;break;case`focusout`:u=`blur`,l=En;break;case`beforeblur`:case`afterblur`:l=En;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=wn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Tn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Ln;break;case Ir:case Lr:case Rr:l=Dn;break;case Hr:l=Rn;break;case`scroll`:case`scrollend`:l=yn;break;case`wheel`:l=zn;break;case`copy`:case`cut`:case`paste`:l=On;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=In;break;case`toggle`:case`beforetoggle`:l=Bn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=rn(m,p),g!=null&&d.push(wd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Xt&&(u=n.relatedTarget||n.fromElement)&&(H(u)||u[at]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?H(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=wn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=In,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:pt(l),h=u==null?c:pt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,H(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Ed,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Dd(s,c,l,d,!1),u!==null&&f!==null&&Dd(s,f,u,d,!0)}}a:{if(c=r?pt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=or;else if(er(c))if(sr)v=gr;else{v=mr;var y=pr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Gt(r.elementType)&&(v=or):v=hr;if(v&&=v(e,r)){tr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Lt(c,`number`,c.value)}switch(y=r?pt(r):window,e){case`focusin`:(er(y)||y.contentEditable===`true`)&&(Er=y,Dr=r,Or=null);break;case`focusout`:Or=Dr=Er=null;break;case`mousedown`:kr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:kr=!1,Ar(s,n,i);break;case`selectionchange`:if(Tr)break;case`keydown`:case`keyup`:Ar(s,n,i)}var b;if(Hn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Xn?Jn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Gn&&n.locale!==`ko`&&(Xn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Xn&&(b=dn()):(cn=i,ln=`value`in cn?cn.value:cn.textContent,Xn=!0)),y=Td(r,x),0<y.length&&(x=new kn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Yn(n),b!==null&&(x.data=b)))),(b=Wn?Zn(e,n):Qn(e,n))&&(x=Td(r,`onBeforeInput`),0<x.length&&(y=new kn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),pd(s,e,r,n,i)}vd(s,t)})}function wd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Td(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=rn(e,n),i!=null&&r.unshift(wd(e,i,a)),i=rn(e,t),i!=null&&r.push(wd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Ed(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=rn(n,a),l!=null&&o.unshift(wd(n,l,c))):i||(l=rn(n,a),l!=null&&o.push(wd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Od=/\r\n?/g,kd=/\u0000|\uFFFD/g;function Ad(e){return(typeof e==`string`?e:``+e).replace(Od,`
`).replace(kd,``)}function jd(e,t){return t=Ad(t),Ad(e)===t}function Md(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Vt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Vt(e,``+r);break;case`className`:Tt(e,`class`,r);break;case`tabIndex`:Tt(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Tt(e,n,r);break;case`style`:Wt(e,r,o);break;case`data`:if(t!==`object`){Tt(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Jt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Md(e,t,`name`,a.name,a,null),Md(e,t,`formEncType`,a.formEncType,a,null),Md(e,t,`formMethod`,a.formMethod,a,null),Md(e,t,`formTarget`,a.formTarget,a,null)):(Md(e,t,`encType`,a.encType,a,null),Md(e,t,`method`,a.method,a,null),Md(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Jt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=Yt);break;case`onScroll`:r!=null&&$(`scroll`,e);break;case`onScrollEnd`:r!=null&&$(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Jt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:$(`beforetoggle`,e),$(`toggle`,e),wt(e,`popover`,r);break;case`xlinkActuate`:Et(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:Et(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:Et(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:Et(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:Et(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:Et(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:Et(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:Et(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:Et(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:wt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Kt.get(n)||n,wt(e,n,r))}}function Nd(e,t,n,r,a,o){switch(n){case`style`:Wt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Vt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Vt(e,``+r);break;case`onScroll`:r!=null&&$(`scroll`,e);break;case`onScrollEnd`:r!=null&&$(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=Yt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!_t.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[it]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):wt(e,n,r)}}}function Pd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:$(`error`,e),$(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Md(e,t,o,s,n,null)}}a&&Md(e,t,`srcSet`,n.srcSet,n,null),r&&Md(e,t,`src`,n.src,n,null);return;case`input`:$(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Md(e,t,r,d,n,null)}}It(e,o,c,l,u,s,a,!1);return;case`select`:for(a in $(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Md(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Rt(e,!!r,n,!0):Rt(e,!!r,t,!1);return;case`textarea`:for(s in $(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Md(e,t,s,c,n,null)}Bt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Md(e,t,l,r,n,null)}return;case`dialog`:$(`beforetoggle`,e),$(`toggle`,e),$(`cancel`,e),$(`close`,e);break;case`iframe`:case`object`:$(`load`,e);break;case`video`:case`audio`:for(r=0;r<gd.length;r++)$(gd[r],e);break;case`image`:$(`error`,e),$(`load`,e);break;case`details`:$(`toggle`,e);break;case`embed`:case`source`:case`link`:$(`error`,e),$(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Md(e,t,u,r,n,null)}return;default:if(Gt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Nd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Md(e,t,c,r,n,null))}function Fd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Md(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Md(e,t,p,m,r,f)}}Ft(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Md(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Md(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Rt(e,!!n,n?[]:``,!1):Rt(e,!!n,t,!0)):Rt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Md(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Md(e,t,s,a,r,o)}zt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Md(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Md(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Md(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Md(e,t,u,p,r,m)}return;default:if(Gt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Nd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Nd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Md(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Md(e,t,f,p,r,m)}function Id(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Ld(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Id(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Id(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Rd=null,zd=null;function Bd(e){return e.nodeType===9?e:e.ownerDocument}function Vd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Hd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Ud(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Gd(){var e=window.event;return e&&e.type===`popstate`?e===Wd?!1:(Wd=e,!0):(Wd=null,!1)}var Kd=typeof setTimeout==`function`?setTimeout:void 0,qd=typeof clearTimeout==`function`?clearTimeout:void 0,Jd=typeof Promise==`function`?Promise:void 0,Yd=typeof queueMicrotask==`function`?queueMicrotask:Jd===void 0?Kd:function(e){return Jd.resolve(null).then(e).catch(Xd)};function Xd(e){setTimeout(function(){throw e})}function Zd(e){return e===`head`}function Qd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Np(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)pf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,pf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[ut]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&pf(e.ownerDocument.body);n=i}while(n);Np(t)}function $d(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function ef(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:ef(n),dt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function tf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[ut])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=cf(e.nextSibling),e===null)break}return null}function nf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=cf(e.nextSibling),e===null))return null;return e}function rf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=cf(e.nextSibling),e===null))return null;return e}function af(e){return e.data===`$?`||e.data===`$~`}function of(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function sf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var lf=null;function uf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return cf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function ff(e,t,n){switch(t=Bd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function pf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);dt(e)}var mf=new Map,hf=new Set;function gf(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _f=I.d;I.d={f:vf,r:yf,D:Sf,C:Cf,L:wf,m:Tf,X:Df,S:Ef,M:Of};function vf(){var e=_f.f(),t=vu();return e||t}function yf(e){var t=ft(e);t!==null&&t.tag===5&&t.type===`form`?xs(t):_f.r(e)}var bf=typeof document>`u`?null:document;function xf(e,t,n){var r=bf;if(r&&typeof t==`string`&&t){var i=Pt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),hf.has(i)||(hf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Pd(t,`link`,e),ht(t),r.head.appendChild(t)))}}function Sf(e){_f.D(e),xf(`dns-prefetch`,e,null)}function Cf(e,t){_f.C(e,t),xf(`preconnect`,e,t)}function wf(e,t,n){_f.L(e,t,n);var r=bf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Pt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Pt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Pt(n.imageSizes)+`"]`)):i+=`[href="`+Pt(e)+`"]`;var a=i;switch(t){case`style`:a=Af(e);break;case`script`:a=Pf(e)}mf.has(a)||(e=m({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),mf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(jf(a))||t===`script`&&r.querySelector(Ff(a))||(t=r.createElement(`link`),Pd(t,`link`,e),ht(t),r.head.appendChild(t)))}}function Tf(e,t){_f.m(e,t);var n=bf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Pt(r)+`"][href="`+Pt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Pf(e)}if(!mf.has(a)&&(e=m({rel:`modulepreload`,href:e},t),mf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Ff(a)))return}r=n.createElement(`link`),Pd(r,`link`,e),ht(r),n.head.appendChild(r)}}}function Ef(e,t,n){_f.S(e,t,n);var r=bf;if(r&&e){var i=mt(r).hoistableStyles,a=Af(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(jf(a)))s.loading=5;else{e=m({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=mf.get(a))&&Rf(e,n);var c=o=r.createElement(`link`);ht(c),Pd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Lf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Df(e,t){_f.X(e,t);var n=bf;if(n&&e){var r=mt(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=m({src:e,async:!0},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),ht(a),Pd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Of(e,t){_f.M(e,t);var n=bf;if(n&&e){var r=mt(n).hoistableScripts,i=Pf(e),a=r.get(i);a||(a=n.querySelector(Ff(i)),a||(e=m({src:e,async:!0,type:`module`},t),(t=mf.get(i))&&zf(e,t),a=n.createElement(`script`),ht(a),Pd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t,n,r){var a=(a=ae.current)?gf(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Af(n.href),n=mt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Af(n.href);var o=mt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(jf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),mf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mf.set(e,n),o||Nf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Pf(n),n=mt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Af(e){return`href="`+Pt(e)+`"`}function jf(e){return`link[rel="stylesheet"][`+e+`]`}function Mf(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Nf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Pd(t,`link`,n),ht(t),e.head.appendChild(t))}function Pf(e){return`[src="`+Pt(e)+`"]`}function Ff(e){return`script[async]`+e}function If(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Pt(n.href)+`"]`);if(r)return t.instance=r,ht(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),ht(r),Pd(r,`style`,a),Lf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Af(n.href);var o=e.querySelector(jf(a));if(o)return t.state.loading|=4,t.instance=o,ht(o),o;r=Mf(n),(a=mf.get(a))&&Rf(r,a),o=(e.ownerDocument||e).createElement(`link`),ht(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Pd(o,`link`,r),t.state.loading|=4,Lf(o,n.precedence,e),t.instance=o;case`script`:return o=Pf(n.src),(a=e.querySelector(Ff(o)))?(t.instance=a,ht(a),a):(r=n,(a=mf.get(o))&&(r=m({},n),zf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),ht(a),Pd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Lf(r,n.precedence,e));return t.instance}function Lf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Bf=null;function Vf(e,t,n){if(Bf===null){var r=new Map,i=Bf=new Map;i.set(n,r)}else i=Bf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ut]||a[rt]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Hf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Uf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Wf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Gf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Af(r.href),a=t.querySelector(jf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Jf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,ht(a);return}a=t.ownerDocument||t,r=Mf(r),(i=mf.get(i))&&Rf(r,i),a=a.createElement(`link`),ht(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Pd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Jf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var Kf=0;function qf(e,t){return e.stylesheets&&e.count===0&&Xf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&Kf===0&&(Kf=62500*Ld());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>Kf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Jf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yf=null;function Xf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yf=new Map,t.forEach(Zf,e),Yf=null,Jf.call(e))}function Zf(e,t){if(!(t.state.loading&4)){var n=Yf.get(e);if(n)var r=n.get(null);else{n=new Map,Yf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Jf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Qf={$$typeof:C,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function $f(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function ep(e,t,n,r,i,a,o,s,c,l,u,d){return e=new $f(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=ii(3,null,null,t),e.current=a,a.stateNode=e,t=ia(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ia(a),e}function tp(e){return e?(e=ni,e):ni}function np(e,t,n,r,i,a){i=tp(i),r.context===null?r.context=i:r.pendingContext=i,r=G(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=K(e,r,t),n!==null&&(pu(n,e,t),q(n,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ip(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function ap(e){if(e.tag===13||e.tag===31){var t=$r(e,67108864);t!==null&&pu(t,e,67108864),ip(e,67108864)}}function op(e){if(e.tag===13||e.tag===31){var t=du();t=Qe(t);var n=$r(e,t);n!==null&&pu(n,e,t),ip(e,t)}}var sp=!0;function cp(e,t,n,r){var i=F.T;F.T=null;var a=I.p;try{I.p=2,up(e,t,n,r)}finally{I.p=a,F.T=i}}function lp(e,t,n,r){var i=F.T;F.T=null;var a=I.p;try{I.p=8,up(e,t,n,r)}finally{I.p=a,F.T=i}}function up(e,t,n,r){if(sp){var i=dp(r);if(i===null)Cd(e,t,r,fp,n),Cp(e,r);else if(Tp(i,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var a=ft(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ve(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Pe(o);s.entanglements[1]|=c,o&=~c}nd(a),!(Fl&6)&&($l=Se()+500,rd(0,!1))}}break;case 31:case 13:s=$r(a,2),s!==null&&pu(s,a,2),vu(),ip(a,2)}if(a=dp(r),a===null&&Cd(e,t,r,fp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Cd(e,t,r,null,n)}}function dp(e){return e=Zt(e),pp(e)}var fp=null;function pp(e){if(fp=null,e=H(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fp=e,null}function mp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Ce()){case we:return 2;case Te:return 8;case Ee:case De:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var hp=!1,gp=null,_p=null,vp=null,yp=new Map,bp=new Map,xp=[],Sp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Cp(e,t){switch(e){case`focusin`:case`focusout`:gp=null;break;case`dragenter`:case`dragleave`:_p=null;break;case`mouseover`:case`mouseout`:vp=null;break;case`pointerover`:case`pointerout`:yp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:bp.delete(t.pointerId)}}function wp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ft(t),t!==null&&ap(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tp(e,t,n,r,i){switch(t){case`focusin`:return gp=wp(gp,e,t,n,r,i),!0;case`dragenter`:return _p=wp(_p,e,t,n,r,i),!0;case`mouseover`:return vp=wp(vp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return yp.set(a,wp(yp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,bp.set(a,wp(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=H(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,tt(e.priority,function(){op(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,tt(e.priority,function(){op(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Xt=r,n.target.dispatchEvent(r),Xt=null}else return t=ft(n),t!==null&&ap(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Dp(e)&&n.delete(t)}function kp(){hp=!1,gp!==null&&Dp(gp)&&(gp=null),_p!==null&&Dp(_p)&&(_p=null),vp!==null&&Dp(vp)&&(vp=null),yp.forEach(Op),bp.forEach(Op)}function Ap(e,n){e.blockedOn===n&&(e.blockedOn=null,hp||(hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kp)))}var jp=null;function Mp(e){jp!==e&&(jp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(pp(r||n)===null)continue;break}var a=ft(n);a!==null&&(e.splice(t,3),t-=3,ys(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Np(e){function t(t){return Ap(t,e)}gp!==null&&Ap(gp,e),_p!==null&&Ap(_p,e),vp!==null&&Ap(vp,e),yp.forEach(t),bp.forEach(t);for(var n=0;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xp.length&&(n=xp[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[it]||null;if(typeof a==`function`)o||Mp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[it]||null)s=o.formAction;else if(pp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Mp(n)}}}function Pp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Fp(e){this._internalRoot=e}Ip.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;np(n,du(),e,t,null,null)},Ip.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),vu(),t[at]=null}};function Ip(e){this._internalRoot=e}Ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xp.length&&t!==0&&t<xp[n].priority;n++);xp.splice(n,0,e),n===0&&Ep(e)}};var Lp=n.version;if(Lp!==`19.2.3`)throw Error(i(527,Lp,`19.2.3`));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:f(e),e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:F,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{je=zp.inject(Rp),Me=zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Vs,s=Hs,c=Us;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=ep(e,1,!1,null,null,n,r,null,o,s,c,Pp),e[at]=t.current,xd(e),new Fp(t)}})),_=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()}))(),v=d(),y=h();function b(){var e=[...arguments];return(0,v.useMemo)(()=>t=>{e.forEach(e=>e(t))},e)}var x=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function S(e){let t=Object.prototype.toString.call(e);return t===`[object Window]`||t===`[object global]`}function C(e){return`nodeType`in e}function w(e){return e?S(e)?e:C(e)?e.ownerDocument?.defaultView??window:window:window}function T(e){let{Document:t}=w(e);return e instanceof t}function E(e){return S(e)?!1:e instanceof w(e).HTMLElement}function D(e){return e instanceof w(e).SVGElement}function O(e){return e?S(e)?e.document:C(e)?T(e)?e:E(e)||D(e)?e.ownerDocument:document:document:document}var k=x?v.useLayoutEffect:v.useEffect;function A(e){let t=(0,v.useRef)(e);return k(()=>{t.current=e}),(0,v.useCallback)(function(){var e=[...arguments];return t.current==null?void 0:t.current(...e)},[])}function j(){let e=(0,v.useRef)(null);return[(0,v.useCallback)((t,n)=>{e.current=setInterval(t,n)},[]),(0,v.useCallback)(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[])]}function M(e,t){t===void 0&&(t=[e]);let n=(0,v.useRef)(e);return k(()=>{n.current!==e&&(n.current=e)},t),n}function ee(e,t){let n=(0,v.useRef)();return(0,v.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function N(e){let t=A(e),n=(0,v.useRef)(null);return[n,(0,v.useCallback)(e=>{e!==n.current&&t?.(e,n.current),n.current=e},[])]}function P(e){let t=(0,v.useRef)();return(0,v.useEffect)(()=>{t.current=e},[e]),t.current}var F={};function I(e,t){return(0,v.useMemo)(()=>{if(t)return t;let n=F[e]==null?0:F[e]+1;return F[e]=n,e+`-`+n},[e,t])}function L(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>{let r=Object.entries(n);for(let[n,i]of r){let r=t[n];r!=null&&(t[n]=r+e*i)}return t},{...t})}}var R=L(1),z=L(-1);function te(e){return`clientX`in e&&`clientY`in e}function ne(e){if(!e)return!1;let{KeyboardEvent:t}=w(e.target);return t&&e instanceof t}function B(e){if(!e)return!1;let{TouchEvent:t}=w(e.target);return t&&e instanceof t}function re(e){if(B(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return te(e)?{x:e.clientX,y:e.clientY}:null}var ie=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return`translate3d(`+(t?Math.round(t):0)+`px, `+(n?Math.round(n):0)+`px, 0)`}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return`scaleX(`+t+`) scaleY(`+n+`)`}},Transform:{toString(e){if(e)return[ie.Translate.toString(e),ie.Scale.toString(e)].join(` `)}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+` `+n+`ms `+r}}}),ae=`a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]`;function oe(e){return e.matches(ae)?e:e.querySelector(ae)}var V={display:`none`};function se(e){let{id:t,value:n}=e;return v.createElement(`div`,{id:t,style:V},n)}function ce(e){let{id:t,announcement:n,ariaLiveType:r=`assertive`}=e;return v.createElement(`div`,{id:t,style:{position:`fixed`,top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:`hidden`,clip:`rect(0 0 0 0)`,clipPath:`inset(100%)`,whiteSpace:`nowrap`},role:`status`,"aria-live":r,"aria-atomic":!0},n)}function le(){let[e,t]=(0,v.useState)(``);return{announce:(0,v.useCallback)(e=>{e!=null&&t(e)},[]),announcement:e}}var ue=(0,v.createContext)(null);function de(e){let t=(0,v.useContext)(ue);(0,v.useEffect)(()=>{if(!t)throw Error(`useDndMonitor must be used within a children of <DndContext>`);return t(e)},[e,t])}function fe(){let[e]=(0,v.useState)(()=>new Set),t=(0,v.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,v.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>e[n]?.call(e,r))},[e]),t]}var pe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},me={onDragStart(e){let{active:t}=e;return`Picked up draggable item `+t.id+`.`},onDragOver(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was moved over droppable area `+n.id+`.`:`Draggable item `+t.id+` is no longer over a droppable area.`},onDragEnd(e){let{active:t,over:n}=e;return n?`Draggable item `+t.id+` was dropped over droppable area `+n.id:`Draggable item `+t.id+` was dropped.`},onDragCancel(e){let{active:t}=e;return`Dragging was cancelled. Draggable item `+t.id+` was dropped.`}};function he(e){let{announcements:t=me,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=pe}=e,{announce:a,announcement:o}=le(),s=I(`DndLiveRegion`),[c,l]=(0,v.useState)(!1);if((0,v.useEffect)(()=>{l(!0)},[]),de((0,v.useMemo)(()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}}),[a,t])),!c)return null;let u=v.createElement(v.Fragment,null,v.createElement(se,{id:r,value:i.draggable}),v.createElement(ce,{id:s,announcement:o}));return n?(0,y.createPortal)(u,n):u}var ge;(function(e){e.DragStart=`dragStart`,e.DragMove=`dragMove`,e.DragEnd=`dragEnd`,e.DragCancel=`dragCancel`,e.DragOver=`dragOver`,e.RegisterDroppable=`registerDroppable`,e.SetDroppableDisabled=`setDroppableDisabled`,e.UnregisterDroppable=`unregisterDroppable`})(ge||={});function _e(){}function ve(e,t){return(0,v.useMemo)(()=>({sensor:e,options:t??{}}),[e,t])}function ye(){var e=[...arguments];return(0,v.useMemo)(()=>[...e].filter(e=>e!=null),[...e])}var be=Object.freeze({x:0,y:0});function xe(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function Se(e,t){let n=re(e);if(!n)return`0 0`;let r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+`% `+r.y+`%`}function Ce(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function we(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Te(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function Ee(e,t){if(!e||e.length===0)return null;let[n]=e;return t?n[t]:n}var De=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=Te(t),a=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){let n=Te(r),o=i.reduce((e,t,r)=>e+xe(n[r],t),0),s=Number((o/4).toFixed(4));a.push({id:t,data:{droppableContainer:e,value:s}})}}return a.sort(Ce)};function Oe(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,s=a-n;if(r<i&&n<a){let n=t.width*t.height,r=e.width*e.height,i=o*s,a=i/(n+r-i);return Number(a.toFixed(4))}return 0}var ke=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,i=[];for(let e of r){let{id:r}=e,a=n.get(r);if(a){let n=Oe(a,t);n>0&&i.push({id:r,data:{droppableContainer:e,value:n}})}}return i.sort(we)};function Ae(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function je(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:be}function Me(e){return function(t){return[...arguments].slice(1).reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}var Ne=Me(1);function Pe(e){if(e.startsWith(`matrix3d(`)){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith(`matrix(`)){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Fe(e,t,n){let r=Pe(t);if(!r)return e;let{scaleX:i,scaleY:a,x:o,y:s}=r,c=e.left-o-(1-i)*parseFloat(n),l=e.top-s-(1-a)*parseFloat(n.slice(n.indexOf(` `)+1)),u=i?e.width/i:e.width,d=a?e.height/a:e.height;return{width:u,height:d,top:l,right:c+u,bottom:l+d,left:c}}var Ie={ignoreTransform:!1};function Le(e,t){t===void 0&&(t=Ie);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=w(e).getComputedStyle(e);t&&(n=Fe(n,t,r))}let{top:r,left:i,width:a,height:o,bottom:s,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:s,right:c}}function Re(e){return Le(e,{ignoreTransform:!0})}function ze(e){let t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Be(e,t){return t===void 0&&(t=w(e).getComputedStyle(e)),t.position===`fixed`}function Ve(e,t){t===void 0&&(t=w(e).getComputedStyle(e));let n=/(auto|scroll|overlay)/;return[`overflow`,`overflowX`,`overflowY`].some(e=>{let r=t[e];return typeof r==`string`?n.test(r):!1})}function He(e,t){let n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(T(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!E(i)||D(i)||n.includes(i))return n;let a=w(e).getComputedStyle(i);return i!==e&&Ve(i,a)&&n.push(i),Be(i,a)?n:r(i.parentNode)}return e?r(e):n}function Ue(e){let[t]=He(e,1);return t??null}function We(e){return!x||!e?null:S(e)?e:C(e)?T(e)||e===O(e).scrollingElement?window:E(e)?e:null:null}function Ge(e){return S(e)?e.scrollX:e.scrollLeft}function Ke(e){return S(e)?e.scrollY:e.scrollTop}function qe(e){return{x:Ge(e),y:Ke(e)}}var Je;(function(e){e[e.Forward=1]=`Forward`,e[e.Backward=-1]=`Backward`})(Je||={});function Ye(e){return!x||!e?!1:e===document.scrollingElement}function Xe(e){let t={x:0,y:0},n=Ye(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}var Ze={x:.2,y:.2};function Qe(e,t,n,r,i){let{top:a,left:o,right:s,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=Ze);let{isTop:l,isBottom:u,isLeft:d,isRight:f}=Xe(e),p={x:0,y:0},m={x:0,y:0},h={height:t.height*i.y,width:t.width*i.x};return!l&&a<=t.top+h.height?(p.y=Je.Backward,m.y=r*Math.abs((t.top+h.height-a)/h.height)):!u&&c>=t.bottom-h.height&&(p.y=Je.Forward,m.y=r*Math.abs((t.bottom-h.height-c)/h.height)),!f&&s>=t.right-h.width?(p.x=Je.Forward,m.x=r*Math.abs((t.right-h.width-s)/h.width)):!d&&o<=t.left+h.width&&(p.x=Je.Backward,m.x=r*Math.abs((t.left+h.width-o)/h.width)),{direction:p,speed:m}}function $e(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function et(e){return e.reduce((e,t)=>R(e,qe(t)),be)}function tt(e){return e.reduce((e,t)=>e+Ge(t),0)}function nt(e){return e.reduce((e,t)=>e+Ke(t),0)}function rt(e,t){if(t===void 0&&(t=Le),!e)return;let{top:n,left:r,bottom:i,right:a}=t(e);Ue(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:`center`,inline:`center`})}var it=[[`x`,[`left`,`right`],tt],[`y`,[`top`,`bottom`],nt]],at=class{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let n=He(t),r=et(n);this.rect={...e},this.width=e.width,this.height=e.height;for(let[e,t,i]of it)for(let a of t)Object.defineProperty(this,a,{get:()=>{let t=i(n),o=r[e]-t;return this.rect[a]+o},enumerable:!0});Object.defineProperty(this,`rect`,{enumerable:!1})}},ot=class{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>this.target?.removeEventListener(...e))},this.target=e}add(e,t,n){var r;(r=this.target)==null||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}};function st(e){let{EventTarget:t}=w(e);return e instanceof t?e:O(e)}function ct(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return typeof t==`number`?Math.sqrt(n**2+r**2)>t:`x`in t&&`y`in t?n>t.x&&r>t.y:`x`in t?n>t.x:`y`in t?r>t.y:!1}var lt;(function(e){e.Click=`click`,e.DragStart=`dragstart`,e.Keydown=`keydown`,e.ContextMenu=`contextmenu`,e.Resize=`resize`,e.SelectionChange=`selectionchange`,e.VisibilityChange=`visibilitychange`})(lt||={});function ut(e){e.preventDefault()}function dt(e){e.stopPropagation()}var H;(function(e){e.Space=`Space`,e.Down=`ArrowDown`,e.Right=`ArrowRight`,e.Left=`ArrowLeft`,e.Up=`ArrowUp`,e.Esc=`Escape`,e.Enter=`Enter`,e.Tab=`Tab`})(H||={});var ft={start:[H.Space,H.Enter],cancel:[H.Esc],end:[H.Space,H.Enter,H.Tab]},pt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case H.Right:return{...n,x:n.x+25};case H.Left:return{...n,x:n.x-25};case H.Down:return{...n,y:n.y+25};case H.Up:return{...n,y:n.y-25}}},mt=class{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new ot(O(t)),this.windowListeners=new ot(w(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(lt.Resize,this.handleCancel),this.windowListeners.add(lt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(lt.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&rt(n),t(be)}handleKeyDown(e){if(ne(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:i=ft,coordinateGetter:a=pt,scrollBehavior:o=`smooth`}=r,{code:s}=e;if(i.end.includes(s)){this.handleEnd(e);return}if(i.cancel.includes(s)){this.handleCancel(e);return}let{collisionRect:c}=n.current,l=c?{x:c.left,y:c.top}:be;this.referenceCoordinates||=l;let u=a(e,{active:t,context:n.current,currentCoordinates:l});if(u){let t=z(u,l),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(let n of i){let i=e.code,{isTop:a,isRight:s,isLeft:c,isBottom:l,maxScroll:d,minScroll:f}=Xe(n),p=$e(n),m={x:Math.min(i===H.Right?p.right-p.width/2:p.right,Math.max(i===H.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(i===H.Down?p.bottom-p.height/2:p.bottom,Math.max(i===H.Down?p.top:p.top+p.height/2,u.y))},h=i===H.Right&&!s||i===H.Left&&!c,g=i===H.Down&&!l||i===H.Up&&!a;if(h&&m.x!==u.x){let e=n.scrollLeft+t.x,a=i===H.Right&&e<=d.x||i===H.Left&&e>=f.x;if(a&&!t.y){n.scrollTo({left:e,behavior:o});return}a?r.x=n.scrollLeft-e:r.x=i===H.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:o});break}else if(g&&m.y!==u.y){let e=n.scrollTop+t.y,a=i===H.Down&&e<=d.y||i===H.Up&&e>=f.y;if(a&&!t.x){n.scrollTo({top:e,behavior:o});return}a?r.y=n.scrollTop-e:r.y=i===H.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:o});break}}this.handleMove(e,R(z(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};mt.activators=[{eventName:`onKeyDown`,handler:(e,t,n)=>{let{keyboardCodes:r=ft,onActivation:i}=t,{active:a}=n,{code:o}=e.nativeEvent;if(r.start.includes(o)){let t=a.activatorNode.current;return t&&e.target!==t?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function ht(e){return!!(e&&`distance`in e)}function gt(e){return!!(e&&`delay`in e)}var _t=class{constructor(e,t,n){n===void 0&&(n=st(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:r}=e,{target:i}=r;this.props=e,this.events=t,this.document=O(i),this.documentListeners=new ot(this.document),this.listeners=new ot(n),this.windowListeners=new ot(w(i)),this.initialCoordinates=re(r)??be,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(lt.Resize,this.handleCancel),this.windowListeners.add(lt.DragStart,ut),this.windowListeners.add(lt.VisibilityChange,this.handleCancel),this.windowListeners.add(lt.ContextMenu,ut),this.documentListeners.add(lt.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(gt(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(ht(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(lt.Click,dt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(lt.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){let{activated:t,initialCoordinates:n,props:r}=this,{onMove:i,options:{activationConstraint:a}}=r;if(!n)return;let o=re(e)??be,s=z(n,o);if(!t&&a){if(ht(a)){if(a.tolerance!=null&&ct(s,a.tolerance))return this.handleCancel();if(ct(s,a.distance))return this.handleStart()}if(gt(a)&&ct(s,a.tolerance))return this.handleCancel();this.handlePending(a,s);return}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===H.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}},vt={cancel:{name:`pointercancel`},move:{name:`pointermove`},end:{name:`pointerup`}},yt=class extends _t{constructor(e){let{event:t}=e,n=O(t.target);super(e,vt,n)}};yt.activators=[{eventName:`onPointerDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];var bt={move:{name:`mousemove`},end:{name:`mouseup`}},xt;(function(e){e[e.RightClick=2]=`RightClick`})(xt||={});var St=class extends _t{constructor(e){super(e,bt,O(e.event.target))}};St.activators=[{eventName:`onMouseDown`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===xt.RightClick?!1:(r?.({event:n}),!0)}}];var Ct={cancel:{name:`touchcancel`},move:{name:`touchmove`},end:{name:`touchend`}},wt=class extends _t{constructor(e){super(e,Ct)}static setup(){return window.addEventListener(Ct.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ct.move.name,e)};function e(){}}};wt.activators=[{eventName:`onTouchStart`,handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t,{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Tt;(function(e){e[e.Pointer=0]=`Pointer`,e[e.DraggableRect=1]=`DraggableRect`})(Tt||={});var Et;(function(e){e[e.TreeOrder=0]=`TreeOrder`,e[e.ReversedTreeOrder=1]=`ReversedTreeOrder`})(Et||={});function Dt(e){let{acceleration:t,activator:n=Tt.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:s=Et.TreeOrder,pointerCoordinates:c,scrollableAncestors:l,scrollableAncestorRects:u,delta:d,threshold:f}=e,p=kt({delta:d,disabled:!a}),[m,h]=j(),g=(0,v.useRef)({x:0,y:0}),_=(0,v.useRef)({x:0,y:0}),y=(0,v.useMemo)(()=>{switch(n){case Tt.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Tt.DraggableRect:return i}},[n,i,c]),b=(0,v.useRef)(null),x=(0,v.useCallback)(()=>{let e=b.current;if(!e)return;let t=g.current.x*_.current.x,n=g.current.y*_.current.y;e.scrollBy(t,n)},[]),S=(0,v.useMemo)(()=>s===Et.TreeOrder?[...l].reverse():l,[s,l]);(0,v.useEffect)(()=>{if(!a||!l.length||!y){h();return}for(let e of S){if(r?.(e)===!1)continue;let n=u[l.indexOf(e)];if(!n)continue;let{direction:i,speed:a}=Qe(e,n,y,t,f);for(let e of[`x`,`y`])p[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0){h(),b.current=e,m(x,o),g.current=a,_.current=i;return}}g.current={x:0,y:0},_.current={x:0,y:0},h()},[t,x,r,h,a,o,JSON.stringify(y),JSON.stringify(p),m,l,S,u,JSON.stringify(f)])}var Ot={x:{[Je.Backward]:!1,[Je.Forward]:!1},y:{[Je.Backward]:!1,[Je.Forward]:!1}};function kt(e){let{delta:t,disabled:n}=e,r=P(t);return ee(e=>{if(n||!r||!e)return Ot;let i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Je.Backward]:e.x[Je.Backward]||i.x===-1,[Je.Forward]:e.x[Je.Forward]||i.x===1},y:{[Je.Backward]:e.y[Je.Backward]||i.y===-1,[Je.Forward]:e.y[Je.Forward]||i.y===1}}},[n,t,r])}function At(e,t){let n=t==null?void 0:e.get(t),r=n?n.node.current:null;return ee(e=>t==null?null:r??e??null,[r,t])}function jt(e,t){return(0,v.useMemo)(()=>e.reduce((e,n)=>{let{sensor:r}=n,i=r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}));return[...e,...i]},[]),[e,t])}var Mt;(function(e){e[e.Always=0]=`Always`,e[e.BeforeDragging=1]=`BeforeDragging`,e[e.WhileDragging=2]=`WhileDragging`})(Mt||={});var Nt;(function(e){e.Optimized=`optimized`})(Nt||={});var Pt=new Map;function Ft(e,t){let{dragging:n,dependencies:r,config:i}=t,[a,o]=(0,v.useState)(null),{frequency:s,measure:c,strategy:l}=i,u=(0,v.useRef)(e),d=g(),f=M(d),p=(0,v.useCallback)(function(e){e===void 0&&(e=[]),!f.current&&o(t=>t===null?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),m=(0,v.useRef)(null),h=ee(t=>{if(d&&!n)return Pt;if(!t||t===Pt||u.current!==e||a!=null){let t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new at(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,n,d,c]);return(0,v.useEffect)(()=>{u.current=e},[e]),(0,v.useEffect)(()=>{d||p()},[n,d]),(0,v.useEffect)(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),(0,v.useEffect)(()=>{d||typeof s!=`number`||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},s))},[s,d,p,...r]),{droppableRects:h,measureDroppableContainers:p,measuringScheduled:a!=null};function g(){switch(l){case Mt.Always:return!1;case Mt.BeforeDragging:return n;default:return!n}}}function It(e,t){return ee(n=>e?n||(typeof t==`function`?t(e):e):null,[t,e])}function Lt(e,t){return It(e,t)}function Rt(e){let{callback:t,disabled:n}=e,r=A(t),i=(0,v.useMemo)(()=>{if(n||typeof window>`u`||window.MutationObserver===void 0)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,v.useEffect)(()=>()=>i?.disconnect(),[i]),i}function zt(e){let{callback:t,disabled:n}=e,r=A(t),i=(0,v.useMemo)(()=>{if(n||typeof window>`u`||window.ResizeObserver===void 0)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,v.useEffect)(()=>()=>i?.disconnect(),[i]),i}function Bt(e){return new at(Le(e),e)}function Vt(e,t,n){t===void 0&&(t=Bt);let[r,i]=(0,v.useState)(null);function a(){i(r=>{if(!e)return null;if(e.isConnected===!1)return r??n??null;let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let o=Rt({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if(t===`childList`&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),s=zt({callback:a});return k(()=>{a(),e?(s?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(s?.disconnect(),o?.disconnect())},[e]),r}function Ht(e){return je(e,It(e))}var Ut=[];function Wt(e){let t=(0,v.useRef)(e),n=ee(n=>e?n&&n!==Ut&&e&&t.current&&e.parentNode===t.current.parentNode?n:He(e):Ut,[e]);return(0,v.useEffect)(()=>{t.current=e},[e]),n}function Gt(e){let[t,n]=(0,v.useState)(null),r=(0,v.useRef)(e),i=(0,v.useCallback)(e=>{let t=We(e.target);t&&n(e=>e?(e.set(t,qe(t)),new Map(e)):null)},[]);return(0,v.useEffect)(()=>{let t=r.current;if(e!==t){a(t);let o=e.map(e=>{let t=We(e);return t?(t.addEventListener(`scroll`,i,{passive:!0}),[t,qe(t)]):null}).filter(e=>e!=null);n(o.length?new Map(o):null),r.current=e}return()=>{a(e),a(t)};function a(e){e.forEach(e=>{We(e)?.removeEventListener(`scroll`,i)})}},[i,e]),(0,v.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>R(e,t),be):et(e):be,[e,t])}function Kt(e,t){t===void 0&&(t=[]);let n=(0,v.useRef)(null);return(0,v.useEffect)(()=>{n.current=null},t),(0,v.useEffect)(()=>{let t=e!==be;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?z(e,n.current):be}function qt(e){(0,v.useEffect)(()=>{if(!x)return;let t=e.map(e=>{let{sensor:t}=e;return t.setup==null?void 0:t.setup()});return()=>{for(let e of t)e?.()}},e.map(e=>{let{sensor:t}=e;return t}))}function Jt(e,t){return(0,v.useMemo)(()=>e.reduce((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e},{}),[e,t])}function Yt(e){return(0,v.useMemo)(()=>e?ze(e):null,[e])}var Xt=[];function Zt(e,t){t===void 0&&(t=Le);let[n]=e,r=Yt(n?w(n):null),[i,a]=(0,v.useState)(Xt);function o(){a(()=>e.length?e.map(e=>Ye(e)?r:new at(t(e),e)):Xt)}let s=zt({callback:o});return k(()=>{s?.disconnect(),o(),e.forEach(e=>s?.observe(e))},[e]),i}function Qt(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return E(t)?t:e}function $t(e){let{measure:t}=e,[n,r]=(0,v.useState)(null),i=zt({callback:(0,v.useCallback)(e=>{for(let{target:n}of e)if(E(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[a,o]=N((0,v.useCallback)(e=>{let n=Qt(e);i?.disconnect(),n&&i?.observe(n),r(n?t(n):null)},[t,i]));return(0,v.useMemo)(()=>({nodeRef:a,rect:n,setRef:o}),[n,a,o])}var en=[{sensor:yt,options:{}},{sensor:mt,options:{}}],tn={current:{}},nn={draggable:{measure:Re},droppable:{measure:Re,strategy:Mt.WhileDragging,frequency:Nt.Optimized},dragOverlay:{measure:Le}},rn=class extends Map{get(e){return e==null?void 0:super.get(e)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){return this.get(e)?.node.current??void 0}},an={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_e},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nn,measureDroppableContainers:_e,windowRect:null,measuringScheduled:!1},on={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:``},dispatch:_e,draggableNodes:new Map,over:null,measureDroppableContainers:_e},sn=(0,v.createContext)(on),cn=(0,v.createContext)(an);function ln(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rn}}}function un(e,t){switch(t.type){case ge.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ge.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ge.DragEnd:case ge.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ge.RegisterDroppable:{let{element:n}=t,{id:r}=n,i=new rn(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case ge.SetDroppableDisabled:{let{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;let o=new rn(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case ge.UnregisterDroppable:{let{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new rn(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function dn(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:i}=(0,v.useContext)(sn),a=P(r),o=P(n?.id);return(0,v.useEffect)(()=>{if(!t&&!r&&a&&o!=null){if(!ne(a)||document.activeElement===a.target)return;let e=i.get(o);if(!e)return;let{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=oe(e);if(t){t.focus();break}}})}},[r,t,i,o,a]),null}function fn(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}function pn(e){return(0,v.useMemo)(()=>({draggable:{...nn.draggable,...e?.draggable},droppable:{...nn.droppable,...e?.droppable},dragOverlay:{...nn.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function mn(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e,a=(0,v.useRef)(!1),{x:o,y:s}=typeof i==`boolean`?{x:i,y:i}:i;k(()=>{if(!o&&!s||!t){a.current=!1;return}if(a.current||!r)return;let e=t?.node.current;if(!e||e.isConnected===!1)return;let i=je(n(e),r);if(o||(i.x=0),s||(i.y=0),a.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){let t=Ue(e);t&&t.scrollBy({top:i.y,left:i.x})}},[t,o,s,r,n])}var hn=(0,v.createContext)({...be,scaleX:1,scaleY:1}),gn;(function(e){e[e.Uninitialized=0]=`Uninitialized`,e[e.Initializing=1]=`Initializing`,e[e.Initialized=2]=`Initialized`})(gn||={});var _n=(0,v.memo)(function(e){let{id:t,accessibility:n,autoScroll:r=!0,children:i,sensors:a=en,collisionDetection:o=ke,measuring:s,modifiers:c,...l}=e,[u,d]=(0,v.useReducer)(un,void 0,ln),[f,p]=fe(),[m,h]=(0,v.useState)(gn.Uninitialized),g=m===gn.Initialized,{draggable:{active:_,nodes:b,translate:x},droppable:{containers:S}}=u,C=_==null?null:b.get(_),T=(0,v.useRef)({initial:null,translated:null}),E=(0,v.useMemo)(()=>_==null?null:{id:_,data:C?.data??tn,rect:T},[_,C]),D=(0,v.useRef)(null),[O,A]=(0,v.useState)(null),[j,ee]=(0,v.useState)(null),N=M(l,Object.values(l)),P=I(`DndDescribedBy`,t),F=(0,v.useMemo)(()=>S.getEnabled(),[S]),L=pn(s),{droppableRects:z,measureDroppableContainers:te,measuringScheduled:ne}=Ft(F,{dragging:g,dependencies:[x.x,x.y],config:L.droppable}),B=At(b,_),ie=(0,v.useMemo)(()=>j?re(j):null,[j]),ae=Ue(),oe=Lt(B,L.draggable.measure);mn({activeNode:_==null?null:b.get(_),config:ae.layoutShiftCompensation,initialRect:oe,measure:L.draggable.measure});let V=Vt(B,L.draggable.measure,oe),se=Vt(B?B.parentElement:null),ce=(0,v.useRef)({activatorEvent:null,active:null,activeNode:B,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:S,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),le=S.getNodeFor(ce.current.over?.id),de=$t({measure:L.dragOverlay.measure}),pe=de.nodeRef.current??B,me=g?de.rect??V:null,_e=!!(de.nodeRef.current&&de.rect),ve=Ht(_e?null:V),ye=Yt(pe?w(pe):null),be=Wt(g?le??B:null),xe=Zt(be),Se=fn(c,{transform:{x:x.x-ve.x,y:x.y-ve.y,scaleX:1,scaleY:1},activatorEvent:j,active:E,activeNodeRect:V,containerNodeRect:se,draggingNodeRect:me,over:ce.current.over,overlayNodeRect:de.rect,scrollableAncestors:be,scrollableAncestorRects:xe,windowRect:ye}),Ce=ie?R(ie,x):null,we=Gt(be),Te=Kt(we),De=Kt(we,[V]),Oe=R(Se,Te),je=me?Ne(me,Se):null,Me=E&&je?o({active:E,collisionRect:je,droppableRects:z,droppableContainers:F,pointerCoordinates:Ce}):null,Pe=Ee(Me,`id`),[Fe,Ie]=(0,v.useState)(null),Le=Ae(_e?Se:R(Se,De),Fe?.rect??null,V),Re=(0,v.useRef)(null),ze=(0,v.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(D.current==null)return;let i=b.get(D.current);if(!i)return;let a=e.nativeEvent;Re.current=new n({active:D.current,activeNode:i,event:a,options:r,context:ce,onAbort(e){if(!b.get(e))return;let{onDragAbort:t}=N.current,n={id:e};t?.(n),f({type:`onDragAbort`,event:n})},onPending(e,t,n,r){if(!b.get(e))return;let{onDragPending:i}=N.current,a={id:e,constraint:t,initialCoordinates:n,offset:r};i?.(a),f({type:`onDragPending`,event:a})},onStart(e){let t=D.current;if(t==null)return;let n=b.get(t);if(!n)return;let{onDragStart:r}=N.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:T}};(0,y.unstable_batchedUpdates)(()=>{r?.(i),h(gn.Initializing),d({type:ge.DragStart,initialCoordinates:e,active:t}),f({type:`onDragStart`,event:i}),A(Re.current),ee(a)})},onMove(e){d({type:ge.DragMove,coordinates:e})},onEnd:o(ge.DragEnd),onCancel:o(ge.DragCancel)});function o(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=ce.current,o=null;if(t&&i){let{cancelDrop:s}=N.current;o={activatorEvent:a,active:t,collisions:n,delta:i,over:r},e===ge.DragEnd&&typeof s==`function`&&await Promise.resolve(s(o))&&(e=ge.DragCancel)}D.current=null,(0,y.unstable_batchedUpdates)(()=>{d({type:e}),h(gn.Uninitialized),Ie(null),A(null),ee(null),Re.current=null;let t=e===ge.DragEnd?`onDragEnd`:`onDragCancel`;if(o){let e=N.current[t];e?.(o),f({type:t,event:o})}})}}},[b]),Be=jt(a,(0,v.useCallback)((e,t)=>(n,r)=>{let i=n.nativeEvent,a=b.get(r);if(D.current!==null||!a||i.dndKit||i.defaultPrevented)return;let o={active:a};e(n,t.options,o)===!0&&(i.dndKit={capturedBy:t.sensor},D.current=r,ze(n,t))},[b,ze]));qt(a),k(()=>{V&&m===gn.Initializing&&h(gn.Initialized)},[V,m]),(0,v.useEffect)(()=>{let{onDragMove:e}=N.current,{active:t,activatorEvent:n,collisions:r,over:i}=ce.current;if(!t||!n)return;let a={active:t,activatorEvent:n,collisions:r,delta:{x:Oe.x,y:Oe.y},over:i};(0,y.unstable_batchedUpdates)(()=>{e?.(a),f({type:`onDragMove`,event:a})})},[Oe.x,Oe.y]),(0,v.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=ce.current;if(!e||D.current==null||!t||!i)return;let{onDragOver:a}=N.current,o=r.get(Pe),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};(0,y.unstable_batchedUpdates)(()=>{Ie(s),a?.(c),f({type:`onDragOver`,event:c})})},[Pe]),k(()=>{ce.current={activatorEvent:j,active:E,activeNode:B,collisionRect:je,collisions:Me,droppableRects:z,draggableNodes:b,draggingNode:pe,draggingNodeRect:me,droppableContainers:S,over:Fe,scrollableAncestors:be,scrollAdjustedTranslate:Oe},T.current={initial:me,translated:je}},[E,B,Me,je,b,pe,me,z,S,Fe,be,Oe]),Dt({...ae,delta:x,draggingRect:je,pointerCoordinates:Ce,scrollableAncestors:be,scrollableAncestorRects:xe});let Ve=(0,v.useMemo)(()=>({active:E,activeNode:B,activeNodeRect:V,activatorEvent:j,collisions:Me,containerNodeRect:se,dragOverlay:de,draggableNodes:b,droppableContainers:S,droppableRects:z,over:Fe,measureDroppableContainers:te,scrollableAncestors:be,scrollableAncestorRects:xe,measuringConfiguration:L,measuringScheduled:ne,windowRect:ye}),[E,B,V,j,Me,se,de,b,S,z,Fe,te,be,xe,L,ne,ye]),He=(0,v.useMemo)(()=>({activatorEvent:j,activators:Be,active:E,activeNodeRect:V,ariaDescribedById:{draggable:P},dispatch:d,draggableNodes:b,over:Fe,measureDroppableContainers:te}),[j,Be,E,V,d,P,b,Fe,te]);return v.createElement(ue.Provider,{value:p},v.createElement(sn.Provider,{value:He},v.createElement(cn.Provider,{value:Ve},v.createElement(hn.Provider,{value:Le},i)),v.createElement(dn,{disabled:n?.restoreFocus===!1})),v.createElement(he,{...n,hiddenTextDescribedById:P}));function Ue(){let e=O?.autoScrollEnabled===!1,t=typeof r==`object`?r.enabled===!1:r===!1,n=g&&!e&&!t;return typeof r==`object`?{...r,enabled:n}:{enabled:n}}}),vn=(0,v.createContext)(null),yn=`button`,bn=`Draggable`;function xn(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e,a=I(bn),{activators:o,activatorEvent:s,active:c,activeNodeRect:l,ariaDescribedById:u,draggableNodes:d,over:f}=(0,v.useContext)(sn),{role:p=yn,roleDescription:m=`draggable`,tabIndex:h=0}=i??{},g=c?.id===t,_=(0,v.useContext)(g?hn:vn),[y,b]=N(),[x,S]=N(),C=Jt(o,t),w=M(n);return k(()=>(d.set(t,{id:t,key:a,node:y,activatorNode:x,data:w}),()=>{let e=d.get(t);e&&e.key===a&&d.delete(t)}),[d,t]),{active:c,activatorEvent:s,activeNodeRect:l,attributes:(0,v.useMemo)(()=>({role:p,tabIndex:h,"aria-disabled":r,"aria-pressed":g&&p===yn?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,p,h,g,m,u.draggable]),isDragging:g,listeners:r?void 0:C,node:y,over:f,setNodeRef:b,setActivatorNodeRef:S,transform:_}}function Sn(){return(0,v.useContext)(cn)}var Cn=`Droppable`,wn={timeout:25};function Tn(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e,a=I(Cn),{active:o,dispatch:s,over:c,measureDroppableContainers:l}=(0,v.useContext)(sn),u=(0,v.useRef)({disabled:n}),d=(0,v.useRef)(!1),f=(0,v.useRef)(null),p=(0,v.useRef)(null),{disabled:m,updateMeasurementsFor:h,timeout:g}={...wn,...i},_=M(h??r),y=zt({callback:(0,v.useCallback)(()=>{if(!d.current){d.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(_.current)?_.current:[_.current]),p.current=null},g)},[g]),disabled:m||!o}),[b,x]=N((0,v.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),d.current=!1),e&&y.observe(e))},[y])),S=M(t);return(0,v.useEffect)(()=>{!y||!b.current||(y.disconnect(),d.current=!1,y.observe(b.current))},[b,y]),(0,v.useEffect)(()=>(s({type:ge.RegisterDroppable,element:{id:r,key:a,disabled:n,node:b,rect:f,data:S}}),()=>s({type:ge.UnregisterDroppable,key:a,id:r})),[r]),(0,v.useEffect)(()=>{n!==u.current.disabled&&(s({type:ge.SetDroppableDisabled,id:r,key:a,disabled:n}),u.current.disabled=n)},[r,a,n,s]),{active:o,rect:f,isOver:c?.id===r,node:b,over:c,setNodeRef:x}}function En(e){let{animation:t,children:n}=e,[r,i]=(0,v.useState)(null),[a,o]=(0,v.useState)(null),s=P(n);return!n&&!r&&s&&i(s),k(()=>{if(!a)return;let e=r?.key,n=r?.props.id;if(e==null||n==null){i(null);return}Promise.resolve(t(n,a)).then(()=>{i(null)})},[t,r,a]),v.createElement(v.Fragment,null,n,r?(0,v.cloneElement)(r,{ref:o}):null)}var Dn={x:0,y:0,scaleX:1,scaleY:1};function On(e){let{children:t}=e;return v.createElement(sn.Provider,{value:on},v.createElement(hn.Provider,{value:Dn},t))}var kn={position:`fixed`,touchAction:`none`},An=e=>ne(e)?`transform 250ms ease`:void 0,jn=(0,v.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:s,style:c,transform:l,transition:u=An}=e;if(!s)return null;let d=i?l:{...l,scaleX:1,scaleY:1},f={...kn,width:s.width,height:s.height,top:s.top,left:s.left,transform:ie.Transform.toString(d),transformOrigin:i&&r?Se(r,s):void 0,transition:typeof u==`function`?u(r):u,...c};return v.createElement(n,{className:o,style:f,ref:t},a)}),Mn=e=>t=>{let{active:n,dragOverlay:r}=t,i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(let[e,t]of Object.entries(a.active))t!==void 0&&(i[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(a!=null&&a.dragOverlay)for(let[e,t]of Object.entries(a.dragOverlay))t!==void 0&&r.node.style.setProperty(e,t);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(let[e,t]of Object.entries(i))n.node.style.setProperty(e,t);o!=null&&o.active&&n.node.classList.remove(o.active)}},Nn={duration:250,easing:`ease`,keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ie.Transform.toString(t)},{transform:ie.Transform.toString(n)}]},sideEffects:Mn({styles:{active:{opacity:`0`}}})};function Pn(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return A((e,a)=>{if(t===null)return;let o=n.get(e);if(!o)return;let s=o.node.current;if(!s)return;let c=Qt(a);if(!c)return;let{transform:l}=w(a).getComputedStyle(a),u=Pe(l);if(!u)return;let d=typeof t==`function`?t:Fn(t);return rt(s,i.draggable.measure),d({active:{id:e,data:o.data,node:s,rect:i.draggable.measure(s)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(c)},droppableContainers:r,measuringConfiguration:i,transform:u})})}function Fn(e){let{duration:t,easing:n,sideEffects:r,keyframes:i}={...Nn,...e};return e=>{let{active:a,dragOverlay:o,transform:s,...c}=e;if(!t)return;let l={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},u={scaleX:s.scaleX===1?1:a.rect.width*s.scaleX/o.rect.width,scaleY:s.scaleY===1?1:a.rect.height*s.scaleY/o.rect.height},d={x:s.x-l.x,y:s.y-l.y,...u},f=i({...c,active:a,dragOverlay:o,transform:{initial:s,final:d}}),[p]=f,m=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(m))return;let h=r?.({active:a,dragOverlay:o,...c}),g=o.node.animate(f,{duration:t,easing:n,fill:`forwards`});return new Promise(e=>{g.onfinish=()=>{h?.(),e()}})}}var In=0;function Ln(e){return(0,v.useMemo)(()=>{if(e!=null)return In++,In},[e])}var Rn=v.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:s=`div`,className:c,zIndex:l=999}=e,{activatorEvent:u,active:d,activeNodeRect:f,containerNodeRect:p,draggableNodes:m,droppableContainers:h,dragOverlay:g,over:_,measuringConfiguration:y,scrollableAncestors:b,scrollableAncestorRects:x,windowRect:S}=Sn(),C=(0,v.useContext)(hn),w=Ln(d?.id),T=fn(o,{activatorEvent:u,active:d,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:g.rect,over:_,overlayNodeRect:g.rect,scrollableAncestors:b,scrollableAncestorRects:x,transform:C,windowRect:S}),E=It(f),D=Pn({config:r,draggableNodes:m,droppableContainers:h,measuringConfiguration:y}),O=E?g.setRef:void 0;return v.createElement(On,null,v.createElement(En,{animation:D},d&&w?v.createElement(jn,{key:w,id:d.id,ref:O,as:s,activatorEvent:u,adjustScale:t,className:c,transition:a,rect:E,style:{zIndex:l,...i},transform:T},n):null))});function zn(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Bn(e,t){return e.reduce((e,n,r)=>{let i=t.get(n);return i&&(e[r]=i),e},Array(e.length))}function Vn(e){return e!==null&&e>=0}function Hn(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Un(e){return typeof e==`boolean`?{draggable:e,droppable:e}:e}var Wn=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e,a=zn(t,r,n),o=t[i],s=a[i];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},Gn=`Sortable`,Kn=v.createContext({activeIndex:-1,containerId:Gn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Wn,disabled:{draggable:!1,droppable:!1}});function qn(e){let{children:t,id:n,items:r,strategy:i=Wn,disabled:a=!1}=e,{active:o,dragOverlay:s,droppableRects:c,over:l,measureDroppableContainers:u}=Sn(),d=I(Gn,n),f=s.rect!==null,p=(0,v.useMemo)(()=>r.map(e=>typeof e==`object`&&`id`in e?e.id:e),[r]),m=o!=null,h=o?p.indexOf(o.id):-1,g=l?p.indexOf(l.id):-1,_=(0,v.useRef)(p),y=!Hn(p,_.current),b=g!==-1&&h===-1||y,x=Un(a);k(()=>{y&&m&&u(p)},[y,p,m,u]),(0,v.useEffect)(()=>{_.current=p},[p]);let S=(0,v.useMemo)(()=>({activeIndex:h,containerId:d,disabled:x,disableTransforms:b,items:p,overIndex:g,useDragOverlay:f,sortedRects:Bn(p,c),strategy:i}),[h,d,x.draggable,x.droppable,b,p,g,c,f,i]);return v.createElement(Kn.Provider,{value:S},t)}var Jn=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return zn(n,r,i).indexOf(t)},Yn=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:s,previousContainerId:c,transition:l}=e;return!l||!r||s!==a&&i===o?!1:n?!0:o!==i&&t===c},Xn={duration:200,easing:`ease`},Zn=`transform`,Qn=ie.Transition.toString({property:Zn,duration:0,easing:`linear`}),$n={roleDescription:`sortable`};function er(e){let{disabled:t,index:n,node:r,rect:i}=e,[a,o]=(0,v.useState)(null),s=(0,v.useRef)(n);return k(()=>{if(!t&&n!==s.current&&r.current){let e=i.current;if(e){let t=Le(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&o(n)}}n!==s.current&&(s.current=n)},[t,n,r,i]),(0,v.useEffect)(()=>{a&&o(null)},[a]),a}function tr(e){let{animateLayoutChanges:t=Yn,attributes:n,disabled:r,data:i,getNewIndex:a=Jn,id:o,strategy:s,resizeObserverConfig:c,transition:l=Xn}=e,{items:u,containerId:d,activeIndex:f,disabled:p,disableTransforms:m,sortedRects:h,overIndex:g,useDragOverlay:_,strategy:y}=(0,v.useContext)(Kn),x=nr(r,p),S=u.indexOf(o),C=(0,v.useMemo)(()=>({sortable:{containerId:d,index:S,items:u},...i}),[d,i,S,u]),w=(0,v.useMemo)(()=>u.slice(u.indexOf(o)),[u,o]),{rect:T,node:E,isOver:D,setNodeRef:O}=Tn({id:o,data:C,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...c}}),{active:k,activatorEvent:A,activeNodeRect:j,attributes:M,setNodeRef:ee,listeners:N,isDragging:P,over:F,setActivatorNodeRef:I,transform:L}=xn({id:o,data:C,attributes:{...$n,...n},disabled:x.draggable}),R=b(O,ee),z=!!k,te=z&&!m&&Vn(f)&&Vn(g),B=!_&&P,re=te?(B&&te?L:null)??(s??y)({rects:h,activeNodeRect:j,activeIndex:f,overIndex:g,index:S}):null,ae=Vn(f)&&Vn(g)?a({id:o,items:u,activeIndex:f,overIndex:g}):S,oe=k?.id,V=(0,v.useRef)({activeId:oe,items:u,newIndex:ae,containerId:d}),se=u!==V.current.items,ce=t({active:k,containerId:d,isDragging:P,isSorting:z,id:o,index:S,items:u,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:l,wasDragging:V.current.activeId!=null}),le=er({disabled:!ce,index:S,node:E,rect:T});return(0,v.useEffect)(()=>{z&&V.current.newIndex!==ae&&(V.current.newIndex=ae),d!==V.current.containerId&&(V.current.containerId=d),u!==V.current.items&&(V.current.items=u)},[z,ae,d,u]),(0,v.useEffect)(()=>{if(oe===V.current.activeId)return;if(oe!=null&&V.current.activeId==null){V.current.activeId=oe;return}let e=setTimeout(()=>{V.current.activeId=oe},50);return()=>clearTimeout(e)},[oe]),{active:k,activeIndex:f,attributes:M,data:C,rect:T,index:S,newIndex:ae,items:u,isOver:D,isSorting:z,isDragging:P,listeners:N,node:E,overIndex:g,over:F,setNodeRef:R,setActivatorNodeRef:I,setDroppableNodeRef:O,setDraggableNodeRef:ee,transform:le??re,transition:ue()};function ue(){if(le||se&&V.current.newIndex===S)return Qn;if(!(B&&!ne(A)||!l)&&(z||ce))return ie.Transition.toString({...l,property:Zn})}}function nr(e,t){return typeof e==`boolean`?{draggable:e,droppable:!1}:{draggable:e?.draggable??t.draggable,droppable:e?.droppable??t.droppable}}function rr(e){if(!e)return!1;let t=e.data.current;return!!(t&&`sortable`in t&&typeof t.sortable==`object`&&`containerId`in t.sortable&&`items`in t.sortable&&`index`in t.sortable)}var ir=[H.Down,H.Right,H.Up,H.Left],ar=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:s}}=t;if(ir.includes(e.code)){if(e.preventDefault(),!n||!r)return;let t=[];a.getEnabled().forEach(n=>{if(!n||n!=null&&n.disabled)return;let a=i.get(n.id);if(a)switch(e.code){case H.Down:r.top<a.top&&t.push(n);break;case H.Up:r.top>a.top&&t.push(n);break;case H.Left:r.left>a.left&&t.push(n);break;case H.Right:r.left<a.left&&t.push(n);break}});let c=De({active:n,collisionRect:r,droppableRects:i,droppableContainers:t,pointerCoordinates:null}),l=Ee(c,`id`);if(l===o?.id&&c.length>1&&(l=c[1].id),l!=null){let e=a.get(n.id),t=a.get(l),o=t?i.get(t.id):null,c=t?.node.current;if(c&&o&&e&&t){let n=He(c).some((e,t)=>s[t]!==e),i=or(e,t),a=sr(e,t),l=n||!i?{x:0,y:0}:{x:a?r.width-o.width:0,y:a?r.height-o.height:0},u={x:o.left,y:o.top};return l.x&&l.y?u:z(u,l)}}}};function or(e,t){return!rr(e)||!rr(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function sr(e,t){return!rr(e)||!rr(t)||!or(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}var cr=function(e,t){return Number(e.toFixed(t))},lr=function(e,t){return typeof e==`number`?e:t},ur=function(e,t,n){n&&typeof n==`function`&&n(e,t)},dr={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},fr=function(e){typeof e==`number`&&cancelAnimationFrame(e)},pr=function(e){e.mounted&&(fr(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function mr(e,t,n,r){if(e.mounted){var i=new Date().getTime(),a=1;pr(e),e.animation=function(){if(!e.mounted)return fr(e.animation);var o=new Date().getTime()-i,s=o/n,c=dr[t],l=c(s);o>=n?(r(a),e.animation=null):e.animation&&(r(l),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function hr(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function gr(e,t,n,r){var i=hr(t);if(!(!e.mounted||!i)){var a=e.setTransformState,o=e.transformState,s=o.scale,c=o.positionX,l=o.positionY,u=t.scale-s,d=t.positionX-c,f=t.positionY-l;n===0?a(t.scale,t.positionX,t.positionY):mr(e,r,n,function(e){a(s+u*e,c+d*e,l+f*e)})}}function _r(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,a=t.offsetWidth,o=t.offsetHeight,s=a*n,c=o*n;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:s,newDiffWidth:r-s,newContentHeight:c,newDiffHeight:i-c}}var vr=function(e,t,n,r,i,a,o){var s=e>t?n*(o?1:.5):0,c=r>i?a*(o?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:r-i-c,maxPositionY:c}},yr=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw Error(`Components are not mounted`);var a=_r(n,r,t),o=a.wrapperWidth,s=a.wrapperHeight,c=a.newContentWidth,l=a.newDiffWidth,u=a.newContentHeight,d=a.newDiffHeight;return vr(o,c,l,s,u,d,!!i)},br=function(e,t,n,r){return cr(r?e<t?t:e>n?n:e:e,2)},xr=function(e,t){var n=yr(e,t);return e.bounds=n,n};function Sr(e,t,n,r,i,a,o){var s=n.minPositionX,c=n.minPositionY,l=n.maxPositionX,u=n.maxPositionY,d=0,f=0;return o&&(d=i,f=a),{x:br(e,s-d,l+d,r),y:br(t,c-f,u+f,r)}}function Cr(e,t,n,r,i,a){var o=e.transformState,s=o.scale,c=o.positionX,l=o.positionY,u=r-s;return typeof t!=`number`||typeof n!=`number`?(console.error(`Mouse X and Y position were not provided!`),{x:c,y:l}):Sr(c-t*u,l-n*u,i,a,0,0,null)}function wr(e,t,n,r,i){var a=t-(i?r:0);return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=a?a:e}var Tr=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,a=t.target,o=`shadowRoot`in a&&`composedPath`in t?t.composedPath().some(function(e){return e instanceof Element?i?.contains(e):!1}):i?.contains(a);return!(!(r&&a&&o)||gi(a,n))},Er=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup.panning.disabled;return!!(t&&n&&!r)},Dr=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var a=t.clientX,o=t.clientY;e.startCoords={x:a-r,y:o-i}},Or=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,a=r.positionY;if(e.isPanning=!0,n.length===1){var o=n[0].clientX,s=n[0].clientY;e.startCoords={x:o-i,y:s-a}}};function kr(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,a=e.setup,o=a.disabled,s=a.limitToBounds,c=a.centerZoomedOut,l=e.wrapperComponent;if(!(o||!l||!e.bounds)){var u=e.bounds,d=u.maxPositionX,f=u.minPositionX,p=u.maxPositionY,m=u.minPositionY,h=n>d||n<f,g=r>p||r<m,_=Cr(e,n>d?l.offsetWidth:e.setup.minPositionX||0,r>p?l.offsetHeight:e.setup.minPositionY||0,i,e.bounds,s||c),v=_.x,y=_.y;return{scale:i,positionX:h?v:n,positionY:g?y:r}}}function Ar(e,t,n,r,i){var a=e.setup.limitToBounds,o=e.wrapperComponent,s=e.bounds,c=e.transformState,l=c.scale,u=c.positionX,d=c.positionY;if(!(o===null||s===null||t===u&&n===d)){var f=Sr(t,n,s,a,r,i,o),p=f.x,m=f.y;e.setTransformState(l,p,m)}}var jr=function(e,t,n){var r=e.startCoords,i=e.transformState,a=e.setup.panning,o=a.lockAxisX,s=a.lockAxisY,c=i.positionX,l=i.positionY;if(!r)return{x:c,y:l};var u=t-r.x,d=n-r.y;return{x:o?c:u,y:s?l:d}},Mr=function(e,t){var n=e.setup,r=e.transformState.scale,i=n.minScale,a=n.disablePadding;return t>0&&r>=i&&!a?t:0},Nr=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,a=e.transformState.scale;return!!(!i.disabled||a>1||!r||t)},Pr=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,a=i.disabled,o=i.velocityAnimation,s=e.transformState.scale;return!(!(!o.disabled||s>1||!a||t)||!n||!r)};function Fr(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,a=n.sensitivity;return r?i*t*a:i}function Ir(e,t,n,r,i,a,o,s,c,l){if(i){if(t>o&&n>o){var u=o+(e-o)*l;return u>c?c:u<o?o:u}if(t<a&&n<a){var u=a+(e-a)*l;return u<s?s:u>a?a:u}}return r?t:br(e,a,o,i)}function Lr(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function Rr(e,t){if(Nr(e)){var n=e.lastMousePosition,r=e.velocityTime,i=e.setup,a=e.wrapperComponent,o=i.velocityAnimation.equalToMove,s=Date.now();if(n&&r&&a){var c=Lr(a,o),l=t.x-n.x,u=t.y-n.y,d=l/c,f=u/c,p=s-r,m=l*l+u*u;e.velocity={velocityX:d,velocityY:f,total:Math.sqrt(m)/p}}e.lastMousePosition=t,e.velocityTime=s}}function zr(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent;if(!(!Pr(e)||!t||!n||!i)){var a=t.velocityX,o=t.velocityY,s=t.total,c=n.maxPositionX,l=n.minPositionX,u=n.maxPositionY,d=n.minPositionY,f=r.limitToBounds,p=r.alignmentAnimation,m=r.zoomAnimation,h=r.panning,g=h.lockAxisY,_=h.lockAxisX,v=m.animationType,y=p.sizeX,b=p.sizeY,x=p.velocityAlignmentTime,S=Fr(e,s),C=Math.max(S,x),w=Mr(e,y),T=Mr(e,b),E=w*i.offsetWidth/100,D=T*i.offsetHeight/100,O=c+E,k=l-E,A=u+D,j=d-D,M=e.transformState,ee=new Date().getTime();mr(e,v,C,function(t){var n=e.transformState,r=n.scale,i=n.positionX,s=n.positionY,m=(new Date().getTime()-ee)/x,h=dr[p.animationType],v=1-h(Math.min(1,m)),y=1-t,b=i+a*y,S=s+o*y,C=Ir(b,M.positionX,i,_,f,l,c,k,O,v),w=Ir(S,M.positionY,s,g,f,d,u,j,A,v);(i!==b||s!==S)&&e.setTransformState(r,C,w)})}}function Br(e,t){var n=e.transformState.scale;pr(e),xr(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?Or(e,t):Dr(e,t)}function Vr(e,t){var n=e.transformState.scale,r=e.setup,i=r.minScale,a=r.alignmentAnimation,o=a.disabled,s=a.sizeX,c=a.sizeY,l=a.animationTime,u=a.animationType;if(!(o||n<i||!s&&!c)){var d=kr(e);d&&gr(e,d,t??l,u)}}function Hr(e,t,n){var r=e.startCoords,i=e.setup.alignmentAnimation,a=i.sizeX,o=i.sizeY;if(r){var s=jr(e,t,n),c=s.x,l=s.y,u=Mr(e,a),d=Mr(e,o);Rr(e,{x:c,y:l}),Ar(e,c,l,u,d)}}function Ur(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var a=r?.getBoundingClientRect(),o=i?.getBoundingClientRect(),s=a?.width||0,c=a?.height||0,l=o?.width||0,u=o?.height||0,d=s<l||c<u;!t&&n&&n?.total>.1&&d?zr(e):Vr(e)}}function Wr(e,t,n,r){var i=e.setup,a=i.minScale,o=i.maxScale,s=i.limitToBounds,c=wr(cr(t,2),a,o,0,!1),l=Cr(e,n,r,c,xr(e,c),s);return{scale:c,positionX:l.x,positionY:l.y}}function Gr(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,o=a.minScale,s=a.limitToBounds,c=a.zoomAnimation,l=c.disabled,u=c.animationTime,d=c.animationType,f=l||r>=o;if((r>=1||s)&&Vr(e),!(f||!i||!e.mounted)){var p=Wr(e,o,t||i.offsetWidth/2,n||i.offsetHeight/2);p&&gr(e,p,u,d)}}var Kr=function(){return Kr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kr.apply(this,arguments)};function qr(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Jr={previousScale:1,scale:1,positionX:0,positionY:0},Yr={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:`zoomIn`,animationType:`easeOut`,animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:`easeOut`},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:`easeOut`},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:`easeOut`,equalToMove:!0}},Xr={wrapperClass:`react-transform-wrapper`,contentClass:`react-transform-component`},Zr=function(e){return{previousScale:e.initialScale??Jr.scale,scale:e.initialScale??Jr.scale,positionX:e.initialPositionX??Jr.positionX,positionY:e.initialPositionY??Jr.positionY}},Qr=function(e){var t=Kr({},Yr);return Object.keys(e).forEach(function(n){var r=e[n]!==void 0;if(Yr[n]!==void 0&&r){var i=Object.prototype.toString.call(Yr[n]);i===`[object Object]`?t[n]=Kr(Kr({},Yr[n]),e[n]):i===`[object Array]`?t[n]=qr(qr([],Yr[n],!0),e[n],!0):t[n]=e[n]}}),t},$r=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,a=e.setup,o=a.maxScale,s=a.minScale,c=a.zoomAnimation,l=a.smooth,u=c.size;if(!i)throw Error(`Wrapper is not mounted`);return wr(cr(l?r*Math.exp(t*n):r+t*n,3),s,o,u,!1)};function ei(e,t,n,r,i){var a=e.wrapperComponent,o=e.transformState,s=o.scale,c=o.positionX,l=o.positionY;if(!a)return console.error(`No WrapperComponent found`);var u=a.offsetWidth,d=a.offsetHeight,f=(u/2-c)/s,p=(d/2-l)/s,m=Wr(e,$r(e,t,n),f,p);if(!m)return console.error(`Error during zoom event. New transformation state was not calculated.`);gr(e,m,r,i)}function ti(e,t,n,r){var i=e.setup,a=e.wrapperComponent,o=i.limitToBounds,s=Zr(e.props),c=e.transformState,l=c.scale,u=c.positionX,d=c.positionY;if(a){var f=yr(e,s.scale),p=Sr(s.positionX,s.positionY,f,o,0,0,a),m={scale:s.scale,positionX:p.x,positionY:p.y};l===s.scale&&u===s.positionX&&d===s.positionY||(r?.(),gr(e,m,t,n))}}function ni(e,t,n,r){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),o=n.getBoundingClientRect(),s=a.x*r.scale,c=a.y*r.scale;return{x:(i.x-o.x+s)/r.scale,y:(i.y-o.y+c)/r.scale}}function ri(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,a=e.transformState,o=e.setup,s=o.limitToBounds,c=o.minScale,l=o.maxScale;if(!r||!i)return a;var u=r.getBoundingClientRect(),d=t.getBoundingClientRect(),f=ni(t,r,i,a),p=f.x,m=f.y,h=d.width/a.scale,g=d.height/a.scale,_=r.offsetWidth/h,v=r.offsetHeight/g,y=wr(n||Math.min(_,v),c,l,0,!1),b=(u.width-h*y)/2,x=(u.height-g*y)/2,S=Sr((u.left-p)*y+b,(u.top-m)*y+x,yr(e,y),s,0,0,r);return{positionX:S.x,positionY:S.y,scale:y}}var ii=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r=`easeOut`),ei(e,1,t,n,r)}},ai=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r=`easeOut`),ei(e,-1,t,n,r)}},oi=function(e){return function(t,n,r,i,a){i===void 0&&(i=300),a===void 0&&(a=`easeOut`);var o=e.transformState,s=o.positionX,c=o.positionY,l=o.scale,u=e.wrapperComponent,d=e.contentComponent;e.setup.disabled||!u||!d||gr(e,{positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(n)?c:n,scale:Number.isNaN(r)?l:r},i,a)}},si=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n=`easeOut`),ti(e,t,n)}},ci=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r=`easeOut`);var i=e.transformState,a=e.wrapperComponent,o=e.contentComponent;a&&o&&gr(e,yi(t||i.scale,a,o),n,r)}},li=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i=`easeOut`),pr(e);var a=e.wrapperComponent,o=typeof t==`string`?document.getElementById(t):t;a&&o&&a.contains(o)&&gr(e,ri(e,o,n),r,i)}},ui=function(e){return{instance:e,zoomIn:ii(e),zoomOut:ai(e),setTransform:oi(e),resetTransform:si(e),centerView:ci(e),zoomToElement:li(e)}},di=function(e){return{instance:e,state:e.transformState}},fi=function(e){var t={};return Object.assign(t,di(e)),Object.assign(t,ui(e)),t},pi=!1;function mi(){try{return{get passive(){return pi=!0,!1}}}catch{return pi=!1,pi}}var hi=`.${Xr.wrapperClass}`,gi=function(e,t){return t.some(function(t){return e.matches(`${hi} ${t}, ${hi} .${t}, ${hi} ${t} *, ${hi} .${t} *`)})},_i=function(e){e&&clearTimeout(e)},vi=function(e,t,n){return`translate(${e}px, ${t}px) scale(${n})`},yi=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-r)/2,positionY:(t.offsetHeight-i)/2}};function bi(e){return function(t){e.forEach(function(e){typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var xi=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,a=n.touchPadDisabled,o=n.excluded,s=e.isInitialized,c=e.isPanning,l=t.target;return!(!(s&&!c&&!r&&l)||i&&!t.ctrlKey||a&&t.ctrlKey||gi(l,o))},Si=function(e){return e?e.deltaY<0?1:-1:0};function Ci(e,t){return lr(t,Si(e))}function wi(e,t,n){var r=t.getBoundingClientRect(),i=0,a=0;if(`clientX`in e)i=(e.clientX-r.left)/n,a=(e.clientY-r.top)/n;else{var o=e.touches[0];i=(o.clientX-r.left)/n,a=(o.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(a))&&console.error(`No mouse or touch offset found`),{x:i,y:a}}var Ti=function(e,t,n,r,i){var a=e.transformState.scale,o=e.wrapperComponent,s=e.setup,c=s.maxScale,l=s.minScale,u=s.zoomAnimation,d=s.disablePadding,f=u.size,p=u.disabled;if(!o)throw Error(`Wrapper is not mounted`);var m=a+t*n;if(i)return m;var h=r?!1:!p;return wr(cr(m,3),l,c,f,h&&!d)},Ei=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,a=i.maxScale,o=i.minScale;return n?r<a||r>o||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},Di=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,a=e.isInitialized,o=t.target;return!(!(a&&!r&&o)||gi(o,i))},Oi=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance;return!!(n&&!t&&r)},ki=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,a=cr(i[0].clientX-r.left,5),o=cr(i[0].clientY-r.top,5),s=cr(i[1].clientX-r.left,5),c=cr(i[1].clientY-r.top,5);return{x:(a+s)/2/t,y:(o+c)/2/t}},Ai=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)**2+(e.touches[0].pageY-e.touches[1].pageY)**2)},U=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,a=i.maxScale,o=i.minScale,s=i.zoomAnimation,c=i.disablePadding,l=s.size,u=s.disabled;if(!n||r===null||!t)throw Error(`Pinch touches distance was not provided`);return t<0?e.transformState.scale:wr(cr(t/r*n,2),o,a,l,!u&&!c)},ji=160,Mi=100,Ni=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(pr(e),ur(fi(e),t,r),ur(fi(e),t,i))},Pi=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,a=e.contentComponent,o=e.setup,s=e.transformState.scale,c=o.limitToBounds,l=o.centerZoomedOut,u=o.zoomAnimation,d=o.wheel,f=o.disablePadding,p=o.smooth,m=u.size,h=u.disabled,g=d.step,_=d.smoothStep;if(!a)throw Error(`Component not mounted`);t.preventDefault(),t.stopPropagation();var v=Ti(e,Ci(t,null),p?_*Math.abs(t.deltaY):g,!t.ctrlKey);if(s!==v){var y=xr(e,v),b=wi(t,a,s),x=c&&(h||m===0||l||f),S=Cr(e,b.x,b.y,v,y,x),C=S.x,w=S.y;e.previousWheelEvent=t,e.setTransformState(v,C,w),ur(fi(e),t,r),ur(fi(e),t,i)}},Fi=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;_i(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(Gr(e,t.x,t.y),e.wheelAnimationTimer=null)},Mi),Ei(e,t)&&(_i(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,ur(fi(e),t,r),ur(fi(e),t,i))},ji))},Ii=function(e){for(var t=0,n=0,r=0;r<2;r+=1)t+=e.touches[r].clientX,n+=e.touches[r].clientY;return{x:t/2,y:n/2}},Li=function(e,t){var n=Ai(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var r=Ii(t);e.pinchLastCenterX=r.x,e.pinchLastCenterY=r.y,pr(e)},Ri=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.wrapperComponent,a=e.transformState.scale,o=e.setup,s=o.limitToBounds,c=o.centerZoomedOut,l=o.zoomAnimation,u=o.alignmentAnimation,d=l.disabled,f=l.size;if(!(r===null||!n)){var p=ki(t,a,n);if(!(!Number.isFinite(p.x)||!Number.isFinite(p.y))){var m=Ai(t),h=U(e,m),g=Ii(t),_=g.x-(e.pinchLastCenterX||0),v=g.y-(e.pinchLastCenterY||0);if(!(h===a&&_===0&&v===0)){e.pinchLastCenterX=g.x,e.pinchLastCenterY=g.y;var y=xr(e,h),b=s&&(d||f===0||c),x=Cr(e,p.x,p.y,h,y,b),S=x.x,C=x.y;e.pinchMidpoint=p,e.lastDistance=m;var w=u.sizeX,T=u.sizeY,E=Mr(e,w),D=Mr(e,T),O=Sr(S+_,C+v,y,s,E,D,i),k=O.x,A=O.y;e.setTransformState(h,k,A)}}}},zi=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,Gr(e,t?.x,t?.y)},Bi=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;_i(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,ur(fi(e),t,n)},r)},Vi=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,a=e.setup.doubleClick,o=a.animationTime,s=a.animationType;ur(fi(e),t,r),ti(e,o,s,function(){return ur(fi(e),t,i)}),Bi(e,t)};function Hi(e,t){return e===`toggle`?t===1?1:-1:e===`zoomOut`?-1:1}function Ui(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,a=e.contentComponent,o=i.scale,s=e.props,c=s.onZoomStart,l=s.onZoom,u=n.doubleClick,d=u.disabled,f=u.mode,p=u.step,m=u.animationTime,h=u.animationType;if(!d&&!r){if(f===`reset`)return Vi(e,t);if(!a)return console.error(`No ContentComponent found`);var g=$r(e,Hi(f,e.transformState.scale),p);if(o!==g){ur(fi(e),t,c);var _=wi(t,a,o),v=Wr(e,g,_.x,_.y);if(!v)return console.error(`Error during zoom event. New transformation state was not calculated.`);ur(fi(e),t,l),gr(e,v,m,h),Bi(e,t)}}}var Wi=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,a=r.doubleClick,o=a.disabled,s=a.excluded,c=t.target,l=i?.contains(c);return!(!(n&&c&&l&&!o)||gi(c,s))},Gi=function(){function e(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){t.props=e,xr(t,t.transformState.scale),t.setup=Qr(e)},this.initializeWindowEvents=function(){var e,n=mi(),r=t.wrapperComponent?.ownerDocument,i=r?.defaultView;(e=t.wrapperComponent)==null||e.addEventListener(`wheel`,t.onWheelPanning,n),i?.addEventListener(`mousedown`,t.onPanningStart,n),i?.addEventListener(`mousemove`,t.onPanning,n),i?.addEventListener(`mouseup`,t.onPanningStop,n),r?.addEventListener(`mouseleave`,t.clearPanning,n),i?.addEventListener(`keyup`,t.setKeyUnPressed,n),i?.addEventListener(`keydown`,t.setKeyPressed,n)},this.cleanupWindowEvents=function(){var e,n=mi(),r=t.wrapperComponent?.ownerDocument,i=r?.defaultView;i?.removeEventListener(`mousedown`,t.onPanningStart,n),i?.removeEventListener(`mousemove`,t.onPanning,n),i?.removeEventListener(`mouseup`,t.onPanningStop,n),r?.removeEventListener(`mouseleave`,t.clearPanning,n),i?.removeEventListener(`keyup`,t.setKeyUnPressed,n),i?.removeEventListener(`keydown`,t.setKeyPressed,n),document.removeEventListener(`mouseleave`,t.clearPanning,n),pr(t),(e=t.observer)==null||e.disconnect()},this.handleInitializeWrapperEvents=function(e){var n=mi();e.addEventListener(`wheel`,t.onWheelZoom,n),e.addEventListener(`dblclick`,t.onDoubleClick,n),e.addEventListener(`touchstart`,t.onTouchPanningStart,n),e.addEventListener(`touchmove`,t.onTouchPanning,n),e.addEventListener(`touchend`,t.onTouchPanningStop,n)},this.handleInitialize=function(e,n){var r=!1,i=t.setup.centerOnInit,a=function(e,t){for(var n=0,r=e;n<r.length;n++)if(r[n].target===t)return!0;return!1};t.applyTransformation(),t.onInitCallbacks.forEach(function(e){e(fi(t))}),t.observer=new ResizeObserver(function(o){if(a(o,e)||a(o,n))if(i&&!r){var s=n.offsetWidth,c=n.offsetHeight;(s>0||c>0)&&(r=!0,t.setCenter())}else pr(t),xr(t,t.transformState.scale),Vr(t,0)}),t.observer.observe(e),t.observer.observe(n)},this.onWheelZoom=function(e){t.setup.disabled||xi(t,e)&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(Ni(t,e),Pi(t,e),Fi(t,e))},this.onWheelPanning=function(e){var n=t.setup,r=n.disabled,i=n.wheel,a=n.panning;if(!(!t.wrapperComponent||!t.contentComponent||r||!i.wheelDisabled||a.disabled||!a.wheelPanning||e.ctrlKey)){e.preventDefault(),e.stopPropagation();var o=t.transformState,s=o.positionX,c=o.positionY,l=s-e.deltaX,u=c-e.deltaY,d=a.lockAxisX?s:l,f=a.lockAxisY?c:u,p=t.setup.alignmentAnimation,m=p.sizeX,h=p.sizeY,g=Mr(t,m),_=Mr(t,h);d===s&&f===c||Ar(t,d,f,g,_)}},this.onPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;n||Tr(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.button===0&&!t.setup.panning.allowLeftClickPan||e.button===1&&!t.setup.panning.allowMiddleClickPan||e.button===2&&!t.setup.panning.allowRightClickPan||(e.preventDefault(),e.stopPropagation(),pr(t),Br(t,e),ur(fi(t),e,r)))},this.onPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;n||Er(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),Hr(t,e.clientX,e.clientY),ur(fi(t),e,r))},this.onPanningStop=function(e){var n=t.props.onPanningStop;t.isPanning&&(Ur(t),ur(fi(t),e,n))},this.onPinchStart=function(e){var n=t.setup.disabled,r=t.props,i=r.onPinchingStart,a=r.onZoomStart;n||Di(t,e)&&(Li(t,e),pr(t),ur(fi(t),e,i),ur(fi(t),e,a))},this.onPinch=function(e){var n=t.setup.disabled,r=t.props,i=r.onPinching,a=r.onZoom;n||Oi(t)&&(e.preventDefault(),e.stopPropagation(),Ri(t,e),ur(fi(t),e,i),ur(fi(t),e,a))},this.onPinchStop=function(e){var n=t.props,r=n.onPinchingStop,i=n.onZoomStop;t.pinchStartScale&&(zi(t),ur(fi(t),e,r),ur(fi(t),e,i))},this.onTouchPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;if(!n&&Tr(t,e)&&!(t.lastTouch&&+new Date-t.lastTouch<200&&e.touches.length===1)){t.lastTouch=+new Date,pr(t);var i=e.touches,a=i.length===1,o=i.length===2;a&&(pr(t),Br(t,e),ur(fi(t),e,r)),o&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;if(t.isPanning&&e.touches.length===1){if(n||!Er(t))return;e.preventDefault(),e.stopPropagation();var i=e.touches[0];Hr(t,i.clientX,i.clientY),ur(fi(t),e,r)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){t.setup.disabled||Wi(t,e)&&Ui(t,e)},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return e.length?!!e.find(function(e){return t.pressedKeys[e]}):!0},this.setTransformState=function(e,n,r){var i=t.props.onTransformed;if(!Number.isNaN(e)&&!Number.isNaN(n)&&!Number.isNaN(r)){e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=n,t.transformState.positionY=r,t.applyTransformation();var a=fi(t);t.onChangeCallbacks.forEach(function(e){return e(a)}),ur(a,{scale:e,positionX:n,positionY:r},i)}else console.error(`Detected NaN set state values`)},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=yi(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,n,r){return t.props.customTransform?t.props.customTransform(e,n,r):vi(e,n,r)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var e=t.transformState,n=e.scale,r=e.positionX,i=e.positionY,a=t.handleTransformStyles(r,i,n);t.contentComponent.style.transform=a}},this.getContext=function(){return fi(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.onInit=function(e){return t.onInitCallbacks.has(e)||t.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},this.init=function(e,n){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=n,xr(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(e,n),t.initializeWindowEvents(),t.isInitialized=!0,ur(fi(t),void 0,t.props.onInit)},this.props=e,this.setup=Qr(this.props),this.transformState=Zr(this.props)}return e}(),Ki=v.createContext(null),qi=function(e,t){return typeof e==`function`?e(t):e},Ji=v.forwardRef(function(e,t){var n=(0,v.useRef)(new Gi(e)).current,r=qi(e.children,ui(n));return(0,v.useImperativeHandle)(t,function(){return ui(n)},[n]),(0,v.useEffect)(function(){n.update(e)},[n,e]),v.createElement(Ki.Provider,{value:n},r)});v.forwardRef(function(e,t){var n=(0,v.useRef)(null),r=(0,v.useContext)(Ki);return(0,v.useEffect)(function(){return r.onChange(function(e){if(n.current){var t=0,i=0;n.current.style.transform=r.handleTransformStyles(t,i,1/e.instance.transformState.scale)}})},[r]),v.createElement(`div`,Kr({},e,{ref:bi([n,t])}))});function Yi(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>`u`)){var r=document.head||document.getElementsByTagName(`head`)[0],i=document.createElement(`style`);i.type=`text/css`,n===`top`&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Xi=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Zi={wrapper:`transform-component-module_wrapper__SPB86`,content:`transform-component-module_content__FBWxo`};Yi(Xi);var Qi=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?``:n,i=e.contentClass,a=i===void 0?``:i,o=e.wrapperStyle,s=e.contentStyle,c=e.wrapperProps,l=c===void 0?{}:c,u=e.contentProps,d=u===void 0?{}:u,f=(0,v.useContext)(Ki),p=f.init,m=f.cleanupWindowEvents,h=(0,v.useRef)(null),g=(0,v.useRef)(null);return(0,v.useEffect)(function(){var e=h.current,t=g.current;return e!==null&&t!==null&&p&&p?.(e,t),function(){m?.()}},[]),v.createElement(`div`,Kr({},l,{ref:h,className:`${Xr.wrapperClass} ${Zi.wrapper} ${r}`,style:o}),v.createElement(`div`,Kr({},d,{ref:g,className:`${Xr.contentClass} ${Zi.content} ${a}`,style:s}),t))},$i=function(){var e=(0,v.useContext)(Ki);if(!e)throw Error(`Transform context must be placed inside TransformWrapper`);return e},ea=c(o(((e,t)=>{(function(n){typeof e==`object`&&t!==void 0?t.exports=n():typeof define==`function`&&define.amd?define([],n):(typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:this).JSZip=n()})(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var c=typeof l==`function`&&l;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=Error(`Cannot find module '`+o+`'`);throw u.code=`MODULE_NOT_FOUND`,u}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return i(n||e)},d,d.exports,e,t,n,r)}return n[o].exports}for(var a=typeof l==`function`&&l,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r=e(`./utils`),i=e(`./support`),a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`;n.encode=function(e){for(var t,n,i,o,s,c,l,u=[],d=0,f=e.length,p=f,m=r.getTypeOf(e)!==`string`;d<e.length;)p=f-d,i=m?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|i>>6:64,l=2<p?63&i:64,u.push(a.charAt(o)+a.charAt(s)+a.charAt(c)+a.charAt(l));return u.join(``)},n.decode=function(e){var t,n,r,o,s,c,l=0,u=0,d=`data:`;if(e.substr(0,d.length)===d)throw Error(`Invalid base64 input, it looks like a data url.`);var f,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,``)).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw Error(`Invalid base64 input, bad content length.`);for(f=i.uint8array?new Uint8Array(0|p):Array(0|p);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(l++)))>>2,r=(3&s)<<6|(c=a.indexOf(e.charAt(l++))),f[u++]=t,s!==64&&(f[u++]=n),c!==64&&(f[u++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){var r=e(`./external`),i=e(`./stream/DataWorker`),a=e(`./stream/Crc32Probe`),o=e(`./stream/DataLengthProbe`);function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o(`data_length`)),t=this;return e.on(`end`,function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw Error(`Bug : uncompressed data size mismatch`)}),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo(`compressedSize`,this.compressedSize).withStreamInfo(`uncompressedSize`,this.uncompressedSize).withStreamInfo(`crc32`,this.crc32).withStreamInfo(`compression`,this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o(`uncompressedSize`)).pipe(t.compressWorker(n)).pipe(new o(`compressedSize`)).withStreamInfo(`compression`,t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var r=e(`./stream/GenericWorker`);n.STORE={magic:`\0\0`,compressWorker:function(){return new r(`STORE compression`)},uncompressWorker:function(){return new r(`STORE decompression`)}},n.DEFLATE=e(`./flate`)},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var r=e(`./utils`),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return e!==void 0&&e.length?r.getTypeOf(e)===`string`?function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var r=null;r=typeof Promise<`u`?Promise:e(`lie`),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){var r=typeof Uint8Array<`u`&&typeof Uint16Array<`u`&&typeof Uint32Array<`u`,i=e(`pako`),a=e(`./utils`),o=e(`./stream/GenericWorker`),s=r?`uint8array`:`array`;function c(e,t){o.call(this,`FlateWorker/`+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic=`\b\0`,a.inherits(c,o),c.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c(`Deflate`,e)},n.uncompressWorker=function(){return new c(`Inflate`,{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function r(e,t){var n,r=``;for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,u){var d,f,p=e.file,m=e.compression,h=u!==s.utf8encode,g=a.transformTo(`string`,u(p.name)),_=a.transformTo(`string`,s.utf8encode(p.name)),v=p.comment,y=a.transformTo(`string`,u(v)),b=a.transformTo(`string`,s.utf8encode(v)),x=_.length!==p.name.length,S=b.length!==v.length,C=``,w=``,T=``,E=p.dir,D=p.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var k=0;t&&(k|=8),h||!x&&!S||(k|=2048);var A=0,j=0;E&&(A|=16),o===`UNIX`?(j=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,E)):(j=20,A|=function(e){return 63&(e||0)}(p.dosPermissions)),d=D.getUTCHours(),d<<=6,d|=D.getUTCMinutes(),d<<=5,d|=D.getUTCSeconds()/2,f=D.getUTCFullYear()-1980,f<<=4,f|=D.getUTCMonth()+1,f<<=5,f|=D.getUTCDate(),x&&(w=r(1,1)+r(c(g),4)+_,C+=`up`+r(w.length,2)+w),S&&(T=r(1,1)+r(c(y),4)+b,C+=`uc`+r(T.length,2)+T);var M=``;return M+=`
\0`,M+=r(k,2),M+=m.magic,M+=r(d,2),M+=r(f,2),M+=r(O.crc32,4),M+=r(O.compressedSize,4),M+=r(O.uncompressedSize,4),M+=r(g.length,2),M+=r(C.length,2),{fileRecord:l.LOCAL_FILE_HEADER+M+g+C,dirRecord:l.CENTRAL_FILE_HEADER+r(j,2)+M+r(y.length,2)+`\0\0\0\0`+r(A,4)+r(i,4)+g+C+y}}var a=e(`../utils`),o=e(`../stream/GenericWorker`),s=e(`../utf8`),c=e(`../crc32`),l=e(`../signature`);function u(e,t,n,r){o.call(this,`ZipFileWorker`),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(u,o),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var s=a.transformTo(`string`,o(i));return l.CENTRAL_DIRECTORY_END+`\0\0\0\0`+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on(`data`,function(e){t.processChunk(e)}),e.on(`end`,function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on(`error`,function(e){t.error(e)}),this},u.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch{}return!0},u.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var r=e(`../compressions`),i=e(`./ZipFileWorker`);n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw Error(n+` is not a valid compression method !`);return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo(`file`,{name:e,dir:c,date:l,comment:n.comment||``,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw Error(`The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.`);this.files=Object.create(null),this.comment=null,this.root=``,this.clone=function(){var e=new r;for(var t in this)typeof this[t]!=`function`&&(e[t]=this[t]);return e}}(r.prototype=e(`./object`)).loadAsync=e(`./load`),r.support=e(`./support`),r.defaults=e(`./defaults`),r.version=`3.10.1`,r.loadAsync=function(e,t){return new r().loadAsync(e,t)},r.external=e(`./external`),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var r=e(`./utils`),i=e(`./external`),a=e(`./utf8`),o=e(`./zipEntries`),s=e(`./stream/Crc32Probe`),c=e(`./nodejsUtils`);function l(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on(`error`,function(e){n(e)}).on(`end`,function(){r.streamInfo.crc32===e.decompressed.crc32?t():n(Error(`Corrupted zip : CRC32 mismatch`))}).resume()})}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(Error(`JSZip can't accept a stream when loading a zip file.`)):r.prepareContent(`the loaded zip file`,e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(l(r[a]));return i.Promise.all(n)}).then(function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],c=s.fileNameStr,l=r.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var r=e(`../utils`),i=e(`../stream/GenericWorker`);function a(e,t){i.call(this,`Nodejs stream input adapter for `+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on(`data`,function(e){t.push({data:e,meta:{percent:0}})}).on(`error`,function(e){t.isPaused?this.generatedError=e:t.error(e)}).on(`end`,function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var r=e(`readable-stream`).Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on(`data`,function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on(`error`,function(e){i.emit(`error`,e)}).on(`end`,function(){i.push(null)})}e(`../utils`).inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:typeof Buffer<`u`,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if(typeof e==`number`)throw Error(`The "data" argument must not be a number`);return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on==`function`&&typeof e.pause==`function`&&typeof e.resume==`function`}}},{}],15:[function(e,t,n){function r(e,t,n){var r,i=a.getTypeOf(t),s=a.extend(n||{},c);s.date=s.date||new Date,s.compression!==null&&(s.compression=s.compression.toUpperCase()),typeof s.unixPermissions==`string`&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=h(e)),s.createFolders&&(r=m(e))&&g.call(this,r,!0);var d=i===`string`&&!1===s.binary&&!1===s.base64;n&&n.binary!==void 0||(s.binary=!d),(t instanceof l&&t.uncompressedSize===0||s.dir||!t||t.length===0)&&(s.base64=!1,s.binary=!0,t=``,s.compression=`STORE`,i=`string`);var _=null;_=t instanceof l||t instanceof o?t:f.isNode&&f.isStream(t)?new p(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new u(e,_,s);this.files[e]=v}var i=e(`./utf8`),a=e(`./utils`),o=e(`./stream/GenericWorker`),s=e(`./stream/StreamHelper`),c=e(`./defaults`),l=e(`./compressedObject`),u=e(`./zipObject`),d=e(`./generate`),f=e(`./nodejsUtils`),p=e(`./nodejs/NodejsStreamInputAdapter`),m=function(e){e.slice(-1)===`/`&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf(`/`);return 0<t?e.substring(0,t):``},h=function(e){return e.slice(-1)!==`/`&&(e+=`/`),e},g=function(e,t){return t=t===void 0?c.createFolders:t,e=h(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function _(e){return Object.prototype.toString.call(e)===`[object RegExp]`}t.exports={load:function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(arguments.length!==1)return e=this.root+e,r.call(this,e,t,n),this;if(_(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(_(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||=(e.slice(-1)!==`/`&&(e+=`/`),this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:`STORE`,compressionOptions:null,type:``,platform:`DOS`,comment:null,mimeType:`application/zip`,encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),n.type===`binarystring`&&(n.type=`string`),!n.type)throw Error(`No output type specified.`);a.checkSupport(n.type),n.platform!==`darwin`&&n.platform!==`freebsd`&&n.platform!==`linux`&&n.platform!==`sunos`||(n.platform=`UNIX`),n.platform===`win32`&&(n.platform=`DOS`);var r=n.comment||this.comment||``;t=d.generateWorker(this,n,r)}catch(e){(t=new o(`error`)).error(e)}return new s(t,n.type||`string`,n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e||={}).type||(e.type=`nodebuffer`),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e(`stream`)},{stream:void 0}],17:[function(e,t,n){var r=e(`./DataReader`);function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e(`../utils`).inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var r=e(`../utils`);function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw Error(`End of data reached (data length = `+this.length+`, asked index = `+e+`). Corrupted zip ?`)},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo(`string`,this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){var r=e(`./Uint8ArrayReader`);function i(e){r.call(this,e)}e(`../utils`).inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var r=e(`./DataReader`);function i(e){r.call(this,e)}e(`../utils`).inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var r=e(`./ArrayReader`);function i(e){r.call(this,e)}e(`../utils`).inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array;var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var r=e(`../utils`),i=e(`../support`),a=e(`./ArrayReader`),o=e(`./StringReader`),s=e(`./NodeBufferReader`),c=e(`./Uint8ArrayReader`);t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),t!==`string`||i.uint8array?t===`nodebuffer`?new s(e):i.uint8array?new c(r.transformTo(`uint8array`,e)):new a(r.transformTo(`array`,e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER=`PK`,n.CENTRAL_FILE_HEADER=`PK`,n.CENTRAL_DIRECTORY_END=`PK`,n.ZIP64_CENTRAL_DIRECTORY_LOCATOR=`PK\x07`,n.ZIP64_CENTRAL_DIRECTORY_END=`PK`,n.DATA_DESCRIPTOR=`PK\x07\b`},{}],24:[function(e,t,n){var r=e(`./GenericWorker`),i=e(`../utils`);function a(e){r.call(this,`ConvertWorker to `+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var r=e(`./GenericWorker`),i=e(`../crc32`);function a(){r.call(this,`Crc32Probe`),this.withStreamInfo(`crc32`,0)}e(`../utils`).inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var r=e(`../utils`),i=e(`./GenericWorker`);function a(e){i.call(this,`DataLengthProbe for `+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var r=e(`../utils`),i=e(`./GenericWorker`);function a(e){i.call(this,`DataWorker`);var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=``,this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case`string`:e=this.data.substring(this.index,t);break;case`uint8array`:e=this.data.subarray(this.index,t);break;case`array`:case`nodebuffer`:e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function r(e){this.name=e||`default`,this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit(`data`,e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(`end`),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(`error`,e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(`error`,e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw Error(`The stream '`+this+`' has already been used.`);this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on(`data`,function(e){t.processChunk(e)}),e.on(`end`,function(){t.end()}),e.on(`error`,function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw Error(`The stream '`+this+`' has already been used.`);this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e=`Worker `+this.name;return this.previous?this.previous+` -> `+e:e}},t.exports=r},{}],29:[function(e,t,n){var r=e(`../utils`),i=e(`./ConvertWorker`),a=e(`./GenericWorker`),o=e(`../base64`),s=e(`../support`),c=e(`../external`),l=null;if(s.nodestream)try{l=e(`../nodejs/NodejsStreamOutputAdapter`)}catch{}function u(e,t){return new c.Promise(function(n,i){var a=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on(`data`,function(e,n){a.push(e),t&&t(n)}).on(`error`,function(e){a=[],i(e)}).on(`end`,function(){try{n(function(e,t,n){switch(e){case`blob`:return r.newBlob(r.transformTo(`arraybuffer`,t),n);case`base64`:return o.encode(t);default:return r.transformTo(e,t)}}(c,function(e,t){var n,r=0,i=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case`string`:return t.join(``);case`array`:return Array.prototype.concat.apply([],t);case`uint8array`:for(i=new Uint8Array(a),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case`nodebuffer`:return Buffer.concat(t);default:throw Error(`concat : unsupported type '`+e+`'`)}}(s,a),l))}catch(e){i(e)}a=[]}).resume()})}function d(e,t,n){var o=t;switch(t){case`blob`:case`arraybuffer`:o=`uint8array`;break;case`base64`:o=`string`}try{this._internalType=o,this._outputType=t,this._mimeType=n,r.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a(`error`),this._worker.error(e)}}d.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return e===`data`?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){r.delay(t,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport(`nodestream`),this._outputType!==`nodebuffer`)throw Error(this._outputType+` is not supported by this method`);return new l(this,{objectMode:this._outputType!==`nodebuffer`},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<`u`&&typeof Uint8Array<`u`,n.nodebuffer=typeof Buffer<`u`,n.uint8array=typeof Uint8Array<`u`,typeof ArrayBuffer>`u`)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:`application/zip`}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=i.getBlob(`application/zip`).size===0}catch{n.blob=!1}}}try{n.nodestream=!!e(`readable-stream`).Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var r=e(`./utils`),i=e(`./support`),a=e(`./nodejsUtils`),o=e(`./stream/GenericWorker`),s=Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;s[254]=s[254]=1;function l(){o.call(this,`utf-8 decode`),this.leftOver=null}function u(){o.call(this,`utf-8 encode`)}n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,`utf-8`):function(e){var t,n,r,a,o,s=e.length,c=0;for(a=0;a<s;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(r=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):Array(c),a=o=0;o<c;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(r=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo(`nodebuffer`,e).toString(`utf-8`):function(e){var t,n,i,a,o=e.length,c=Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)c[n++]=i;else if(4<(a=s[i]))c[n++]=65533,t+=a-1;else{for(i&=a===2?31:a===3?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?`uint8array`:`array`,e))},r.inherits(l,o),l.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?`uint8array`:`array`,e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t||=e.length)>e.length&&(t=e.length),n=t-1;0<=n&&(192&e[n])==128;)n--;return n<0||n===0?t:n+s[e[n]]>t?n:t}(t),c=t;o!==t.length&&(i.uint8array?(c=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(c=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,r.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var r=e(`./support`),i=e(`./base64`),a=e(`./nodejsUtils`),o=e(`./external`);function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e(`setimmediate`),n.newBlob=function(e,t){n.checkSupport(`blob`);try{return new Blob([e],{type:t})}catch{try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch{throw Error(`Bug : can't construct the Blob.`)}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)t===`array`||t===`nodebuffer`?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join(``)},stringifyByChar:function(e){for(var t=``,n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function u(e){var t=65536,r=n.getTypeOf(e),i=!0;if(r===`uint8array`?i=l.applyCanBeUsed.uint8array:r===`nodebuffer`&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,r,t)}catch{t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:s,array:function(e){return c(e,Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},f.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return d(e,Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){return t||=``,e?(n.checkSupport(e),f[n.getTypeOf(t)][e](t)):t},n.resolve=function(e){for(var t=e.split(`/`),n=[],r=0;r<t.length;r++){var i=t[r];i===`.`||i===``&&r!==0&&r!==t.length-1||(i===`..`?n.pop():n.push(i))}return n.join(`/`)},n.getTypeOf=function(e){return typeof e==`string`?`string`:Object.prototype.toString.call(e)===`[object Array]`?`array`:r.nodebuffer&&a.isBuffer(e)?`nodebuffer`:r.uint8array&&e instanceof Uint8Array?`uint8array`:r.arraybuffer&&e instanceof ArrayBuffer?`arraybuffer`:void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw Error(e+` is not supported by this platform`)},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r=``;for(n=0;n<(e||``).length;n++)r+=`\\x`+((t=e.charCodeAt(n))<16?`0`:``)+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&n[t]===void 0&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,l){return o.Promise.resolve(t).then(function(e){return r.blob&&(e instanceof Blob||[`[object File]`,`[object Blob]`].indexOf(Object.prototype.toString.call(e))!==-1)&&typeof FileReader<`u`?new o.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(t){var u=n.getTypeOf(t);return u?(u===`arraybuffer`?t=n.transformTo(`uint8array`,t):u===`string`&&(l?t=i.decode(t):a&&!0!==s&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):Array(e.length))}(t))),t):o.Promise.reject(Error(`Can't read the data of '`+e+`'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?`))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var r=e(`./reader/readerFor`),i=e(`./utils`),a=e(`./signature`),o=e(`./zipEntry`),s=e(`./support`);function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw Error(`Corrupted zip or bug: unexpected signature (`+i.pretty(t)+`, expected `+i.pretty(e)+`)`)}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?`uint8array`:`array`,n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw Error(`Multi-volumes zip are not supported`)},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw Error(`Corrupted zip or bug: expected `+this.centralDirRecords+` records in central dir, got `+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?Error(`Corrupted zip: can't find end of central directory`):Error(`Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html`);this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw Error(`Corrupted zip: can't find the ZIP64 end of central directory locator`);if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw Error(`Corrupted zip: can't find the ZIP64 end of central directory`);this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw Error(`Corrupted zip: missing `+Math.abs(r)+` bytes.`)},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var r=e(`./reader/readerFor`),i=e(`./utils`),a=e(`./compressedObject`),o=e(`./crc32`),s=e(`./utf8`),c=e(`./compressions`),l=e(`./support`);function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw Error(`Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)`);if((t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod))===null)throw Error(`Corrupted zip : compression `+i.pretty(this.compressionMethod)+` unknown (inner file : `+i.transformTo(`string`,this.fileName)+`)`);this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw Error(`Encrypted zip are not supported`);e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!==`/`||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||={};e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=l.uint8array?`uint8array`:`array`;if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(r!==null)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return t.readInt(1)===1&&o(this.fileName)===t.readInt(4)?s.utf8decode(t.readData(e.length-5)):null}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return t.readInt(1)===1&&o(this.fileComment)===t.readInt(4)?s.utf8decode(t.readData(e.length-5)):null}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e(`./stream/StreamHelper`),a=e(`./stream/DataWorker`),o=e(`./utf8`),s=e(`./compressedObject`),c=e(`./stream/GenericWorker`);r.prototype={internalStream:function(e){var t=null,n=`string`;try{if(!e)throw Error(`No output type specified.`);var r=(n=e.toLowerCase())===`string`||n===`text`;n!==`binarystring`&&n!==`text`||(n=`string`),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new c(`error`)).error(e)}return new i(t,n,``)},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||`nodebuffer`).toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var l=[`asText`,`asBinary`,`asNodeBuffer`,`asUint8Array`,`asArrayBuffer`],u=function(){throw Error(`This method has been removed in JSZip 3.0, please check the upgrade guide.`)},d=0;d<l.length;d++)r.prototype[l[d]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(u),s=e.document.createTextNode(``);o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||e.MessageChannel===void 0)n=`document`in e&&`onreadystatechange`in e.document.createElement(`script`)?function(){var t=e.document.createElement(`script`);t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var c=new e.MessageChannel;c.port1.onmessage=u,n=function(){c.port2.postMessage(0)}}var l=[];function u(){var e,t;r=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}t.exports=function(e){l.push(e)!==1||r||n()}}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}],37:[function(e,t,n){var r=e(`immediate`);function i(){}var a={},o=[`REJECTED`],s=[`FULFILLED`],c=[`PENDING`];function l(e){if(typeof e!=`function`)throw TypeError(`resolver must be a function`);this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function u(e,t,n){this.promise=e,typeof t==`function`&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof n==`function`&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return a.reject(e,t)}r===e?a.reject(e,TypeError(`Cannot resolve promise with itself`)):a.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&(typeof e==`object`||typeof e==`function`)&&typeof t==`function`)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=m(function(){t(i,r)});o.status===`error`&&r(o.value)}function m(e,t){var n={};try{n.value=e(t),n.status=`success`}catch(e){n.status=`error`,n.value=e}return n}(t.exports=l).prototype.finally=function(e){if(typeof e!=`function`)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if(typeof e!=`function`&&this.state===s||typeof t!=`function`&&this.state===o)return this;var n=new this.constructor(i);return this.state===c?this.queue.push(new u(n,e,t)):d(n,this.state===s?e:t,this.outcome),n},u.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){a.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=m(f,t);if(n.status===`error`)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return a.reject(t,e)},l.all=function(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=Array(n),s=0,c=-1,l=new this(i);++c<n;)u(e[c],c);return l;function u(e,i){t.resolve(e).then(function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(l,o))},function(e){r||(r=!0,a.reject(l,e))})}},l.race=function(e){var t=this;if(Object.prototype.toString.call(e)!==`[object Array]`)return this.reject(TypeError(`must be an array`));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(i);++o<n;)c=e[o],t.resolve(c).then(function(e){r||(r=!0,a.resolve(s,e))},function(e){r||(r=!0,a.reject(s,e))});var c;return s}},{immediate:36}],38:[function(e,t,n){var r={};(0,e(`./lib/utils/common`).assign)(r,e(`./lib/deflate`),e(`./lib/inflate`),e(`./lib/zlib/constants`)),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var r=e(`./zlib/deflate`),i=e(`./utils/common`),a=e(`./utils/strings`),o=e(`./zlib/messages`),s=e(`./zlib/zstream`),c=Object.prototype.toString,l=0,u=-1,d=0,f=8;function p(e){if(!(this instanceof p))return new p(e);this.options=i.assign({level:u,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:``},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var m;if(m=typeof t.dictionary==`string`?a.string2buf(t.dictionary):c.call(t.dictionary)===`[object ArrayBuffer]`?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,m))!==l)throw Error(o[n]);this._dict_set=!0}}function m(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,typeof e==`string`?s.input=a.string2buf(e):c.call(e)===`[object ArrayBuffer]`?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(s.avail_out===0&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),(n=r.deflate(s,o))!==1&&n!==l)return this.onEnd(n),!(this.ended=!0);s.avail_out!==0&&(s.avail_in!==0||o!==4&&o!==2)||(this.options.to===`string`?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||s.avail_out===0)&&n!==1);return o===4?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):o!==2||(this.onEnd(l),!(s.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=m,n.deflateRaw=function(e,t){return(t||={}).raw=!0,m(e,t)},n.gzip=function(e,t){return(t||={}).gzip=!0,m(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var r=e(`./zlib/inflate`),i=e(`./utils/common`),a=e(`./utils/strings`),o=e(`./zlib/constants`),s=e(`./zlib/messages`),c=e(`./zlib/zstream`),l=e(`./zlib/gzheader`),u=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:``},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,l,d,f,p=this.strm,m=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,typeof e==`string`?p.input=a.binstring2buf(e):u.call(e)===`[object ArrayBuffer]`?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new i.Buf8(m),p.next_out=0,p.avail_out=m),(n=r.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&h&&(f=typeof h==`string`?a.string2buf(h):u.call(h)===`[object ArrayBuffer]`?new Uint8Array(h):h,n=r.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(p.avail_out!==0&&n!==o.Z_STREAM_END&&(p.avail_in!==0||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||(this.options.to===`string`?(c=a.utf8border(p.output,p.next_out),l=p.next_out-c,d=a.buf2string(p.output,c),p.next_out=l,p.avail_out=m-l,l&&i.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(i.shrinkBuf(p.output,p.next_out)))),p.avail_in===0&&p.avail_out===0&&(g=!0)}while((0<p.avail_in||p.avail_out===0)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t||={}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var r=typeof Uint8Array<`u`&&typeof Uint16Array<`u`&&typeof Int32Array<`u`;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if(typeof n!=`object`)throw TypeError(n+`must be non-object`);for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){var r=e(`./common`),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n=``,o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,c=0;for(a=0;a<s;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=o=0;o<c;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<s&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,l=Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)l[r++]=i;else if(4<(a=o[i]))l[r++]=65533,n+=a-1;else{for(i&=a===2?31:a===3?15:7;1<a&&n<s;)i=i<<6|63&e[n++],a--;1<a?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return c(l,r)},n.utf8border=function(e,t){var n;for((t||=e.length)>e.length&&(t=e.length),n=t-1;0<=n&&(192&e[n])==128;)n--;return n<0||n===0?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;n!==0;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var r,i=e(`../utils/common`),a=e(`./trees`),o=e(`./adler32`),s=e(`./crc32`),c=e(`./messages`),l=0,u=4,d=0,f=-2,p=-1,m=4,h=2,g=8,_=9,v=286,y=30,b=19,x=2*v+1,S=15,C=3,w=258,T=w+C+1,E=42,D=113,O=1,k=2,A=3,j=4;function M(e,t){return e.msg=c[t],t}function ee(e){return(e<<1)-(4<e?9:0)}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function P(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function F(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function I(e,t){e.pending_buf[e.pending++]=t}function L(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function R(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,l=e.window,u=e.w_mask,d=e.prev,f=e.strstart+w,p=l[a+o-1],m=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do if(l[(n=t)+o]===m&&l[n+o-1]===p&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do;while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<f);if(r=w-(f-a),a=f-w,o<r){if(e.match_start=t,s<=(o=r))break;p=l[a+o-1],m=l[a+o]}}while((t=d[t&u])>c&&--i!=0);return o<=e.lookahead?o:e.lookahead}function z(e){var t,n,r,a,c,l,u,d,f,p,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-T)){for(i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;r=e.head[--t],e.head[t]=m<=r?r-m:0,--n;);for(t=n=m;r=e.prev[--t],e.prev[t]=m<=r?r-m:0,--n;);a+=m}if(e.strm.avail_in===0)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=a,p=void 0,p=l.avail_in,f<p&&(p=f),n=p===0?0:(l.avail_in-=p,i.arraySet(u,l.input,l.next_in,p,d),l.state.wrap===1?l.adler=o(l.adler,u,p,d):l.state.wrap===2&&(l.adler=s(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=C)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+C-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<T&&e.strm.avail_in!==0)}function te(e,t){for(var n,r;;){if(e.lookahead<T){if(z(e),e.lookahead<T&&t===l)return O;if(e.lookahead===0)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-T&&(e.match_length=R(e,n)),e.match_length>=C)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,--e.match_length!=0;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(F(e,!1),e.strm.avail_out===0))return O}return e.insert=e.strstart<C-1?e.strstart:C-1,t===u?(F(e,!0),e.strm.avail_out===0?A:j):e.last_lit&&(F(e,!1),e.strm.avail_out===0)?O:k}function ne(e,t){for(var n,r,i;;){if(e.lookahead<T){if(z(e),e.lookahead<T&&t===l)return O;if(e.lookahead===0)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=R(e,n),e.match_length<=5&&(e.strategy===1||e.match_length===C&&4096<e.strstart-e.match_start)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-C,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),--e.prev_length!=0;);if(e.match_available=0,e.match_length=C-1,e.strstart++,r&&(F(e,!1),e.strm.avail_out===0))return O}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&F(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&=(r=a._tr_tally(e,0,e.window[e.strstart-1]),0),e.insert=e.strstart<C-1?e.strstart:C-1,t===u?(F(e,!0),e.strm.avail_out===0?A:j):e.last_lit&&(F(e,!1),e.strm.avail_out===0)?O:k}function B(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*x),this.dyn_dtree=new i.Buf16(2*(2*y+1)),this.bl_tree=new i.Buf16(2*(2*b+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*v+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=h,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:D,e.adler=t.wrap===2?0:1,t.last_flush=l,a._tr_init(t),d):M(e,f)}function ae(e){var t=ie(e);return t===d&&function(e){e.window_size=2*e.w_size,N(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0}(e.state),t}function oe(e,t,n,r,a,o){if(!e)return f;var s=1;if(t===p&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),a<1||_<a||n!==g||r<8||15<r||t<0||9<t||o<0||m<o)return M(e,f);r===8&&(r=9);var c=new re;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+C-1)/C),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,ae(e)}r=[new B(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(z(e),e.lookahead===0&&t===l)return O;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,F(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-T&&(F(e,!1),e.strm.avail_out===0))return O}return e.insert=0,t===u?(F(e,!0),e.strm.avail_out===0?A:j):(e.strstart>e.block_start&&(F(e,!1),e.strm.avail_out),O)}),new B(4,4,8,4,te),new B(4,5,16,8,te),new B(4,6,32,32,te),new B(4,4,16,16,ne),new B(8,16,32,32,ne),new B(8,16,128,128,ne),new B(8,32,128,256,ne),new B(32,128,258,1024,ne),new B(32,258,258,4096,ne)],n.deflateInit=function(e,t){return oe(e,t,g,15,8,0)},n.deflateInit2=oe,n.deflateReset=ae,n.deflateResetKeep=ie,n.deflateSetHeader=function(e,t){return e&&e.state&&e.state.wrap===2?(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,i,o,c;if(!e||!e.state||5<t||t<0)return e?M(e,f):f;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===666&&t!==u)return M(e,e.avail_out===0?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===E)if(i.wrap===2)e.adler=0,I(i,31),I(i,139),I(i,8),i.gzhead?(I(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),I(i,255&i.gzhead.time),I(i,i.gzhead.time>>8&255),I(i,i.gzhead.time>>16&255),I(i,i.gzhead.time>>24&255),I(i,i.level===9?2:2<=i.strategy||i.level<2?4:0),I(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(I(i,255&i.gzhead.extra.length),I(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(I(i,0),I(i,0),I(i,0),I(i,0),I(i,0),I(i,i.level===9?2:2<=i.strategy||i.level<2?4:0),I(i,3),i.status=D);else{var p=g+(i.w_bits-8<<4)<<8;p|=(2<=i.strategy||i.level<2?0:i.level<6?1:i.level===6?2:3)<<6,i.strstart!==0&&(p|=32),p+=31-p%31,i.status=D,L(i,p),i.strstart!==0&&(L(i,e.adler>>>16),L(i,65535&e.adler)),e.adler=1}if(i.status===69)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),P(e),o=i.pending,i.pending!==i.pending_buf_size));)I(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(i.status===73)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),P(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,I(i,c)}while(c!==0);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),c===0&&(i.gzindex=0,i.status=91)}else i.status=91;if(i.status===91)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),P(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,I(i,c)}while(c!==0);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),c===0&&(i.status=103)}else i.status=103;if(i.status===103&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&P(e),i.pending+2<=i.pending_buf_size&&(I(i,255&e.adler),I(i,e.adler>>8&255),e.adler=0,i.status=D)):i.status=D),i.pending!==0){if(P(e),e.avail_out===0)return i.last_flush=-1,d}else if(e.avail_in===0&&ee(t)<=ee(n)&&t!==u)return M(e,-5);if(i.status===666&&e.avail_in!==0)return M(e,-5);if(e.avail_in!==0||i.lookahead!==0||t!==l&&i.status!==666){var m=i.strategy===2?function(e,t){for(var n;;){if(e.lookahead===0&&(z(e),e.lookahead===0)){if(t===l)return O;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(F(e,!1),e.strm.avail_out===0))return O}return e.insert=0,t===u?(F(e,!0),e.strm.avail_out===0?A:j):e.last_lit&&(F(e,!1),e.strm.avail_out===0)?O:k}(i,t):i.strategy===3?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=w){if(z(e),e.lookahead<=w&&t===l)return O;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=C&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+w;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=w-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(n=a._tr_tally(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(F(e,!1),e.strm.avail_out===0))return O}return e.insert=0,t===u?(F(e,!0),e.strm.avail_out===0?A:j):e.last_lit&&(F(e,!1),e.strm.avail_out===0)?O:k}(i,t):r[i.level].func(i,t);if(m!==A&&m!==j||(i.status=666),m===O||m===A)return e.avail_out===0&&(i.last_flush=-1),d;if(m===k&&(t===1?a._tr_align(i):t!==5&&(a._tr_stored_block(i,0,0,!1),t===3&&(N(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),P(e),e.avail_out===0))return i.last_flush=-1,d}return t===u?i.wrap<=0?1:(i.wrap===2?(I(i,255&e.adler),I(i,e.adler>>8&255),I(i,e.adler>>16&255),I(i,e.adler>>24&255),I(i,255&e.total_in),I(i,e.total_in>>8&255),I(i,e.total_in>>16&255),I(i,e.total_in>>24&255)):(L(i,e.adler>>>16),L(i,65535&e.adler)),P(e),0<i.wrap&&(i.wrap=-i.wrap),i.pending===0?1:d):d},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&t!==69&&t!==73&&t!==91&&t!==103&&t!==D&&t!==666?M(e,f):(e.state=null,t===D?M(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,a,s,c,l,u,p,m=t.length;if(!e||!e.state||(s=(n=e.state).wrap)===2||s===1&&n.status!==E||n.lookahead)return f;for(s===1&&(e.adler=o(e.adler,t,m,0)),n.wrap=0,m>=n.w_size&&(s===0&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,m-n.w_size,n.w_size,0),t=p,m=n.w_size),c=e.avail_in,l=e.next_in,u=e.input,e.avail_in=m,e.next_in=0,e.input=t,z(n);n.lookahead>=C;){for(r=n.strstart,a=n.lookahead-(C-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+C-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=C-1,z(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,e.next_in=l,e.input=u,e.avail_in=c,n.wrap=s,d},n.deflateInfo=`pako deflate (from Nodeca project)`},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=``,this.comment=``,this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n=e.state,r=e.next_in,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T=e.input,E;i=r+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=n.dmax,l=n.wsize,u=n.whave,d=n.wnext,f=n.window,p=n.hold,m=n.bits,h=n.lencode,g=n.distcode,_=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{m<15&&(p+=T[r++]<<m,m+=8,p+=T[r++]<<m,m+=8),y=h[p&_];t:for(;;){if(p>>>=b=y>>>24,m-=b,(b=y>>>16&255)==0)E[a++]=65535&y;else{if(!(16&b)){if(!(64&b)){y=h[(65535&y)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg=`invalid literal/length code`,n.mode=30;break e}x=65535&y,(b&=15)&&(m<b&&(p+=T[r++]<<m,m+=8),x+=p&(1<<b)-1,p>>>=b,m-=b),m<15&&(p+=T[r++]<<m,m+=8,p+=T[r++]<<m,m+=8),y=g[p&v];r:for(;;){if(p>>>=b=y>>>24,m-=b,!(16&(b=y>>>16&255))){if(!(64&b)){y=g[(65535&y)+(p&(1<<b)-1)];continue r}e.msg=`invalid distance code`,n.mode=30;break e}if(S=65535&y,m<(b&=15)&&(p+=T[r++]<<m,(m+=8)<b&&(p+=T[r++]<<m,m+=8)),c<(S+=p&(1<<b)-1)){e.msg=`invalid distance too far back`,n.mode=30;break e}if(p>>>=b,m-=b,(b=a-o)<S){if(u<(b=S-b)&&n.sane){e.msg=`invalid distance too far back`,n.mode=30;break e}if(w=f,(C=0)===d){if(C+=l-b,b<x){for(x-=b;E[a++]=f[C++],--b;);C=a-S,w=E}}else if(d<b){if(C+=l+d-b,(b-=d)<x){for(x-=b;E[a++]=f[C++],--b;);if(C=0,d<x){for(x-=b=d;E[a++]=f[C++],--b;);C=a-S,w=E}}}else if(C+=d-b,b<x){for(x-=b;E[a++]=f[C++],--b;);C=a-S,w=E}for(;2<x;)E[a++]=w[C++],E[a++]=w[C++],E[a++]=w[C++],x-=3;x&&(E[a++]=w[C++],1<x&&(E[a++]=w[C++]))}else{for(C=a-S;E[a++]=E[C++],E[a++]=E[C++],E[a++]=E[C++],2<(x-=3););x&&(E[a++]=E[C++],1<x&&(E[a++]=E[C++]))}break}}break}}while(r<i&&a<s);r-=x=m>>3,p&=(1<<(m-=x<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=m}},{}],49:[function(e,t,n){var r=e(`../utils/common`),i=e(`./adler32`),a=e(`./crc32`),o=e(`./inffast`),s=e(`./inftrees`),c=1,l=2,u=0,d=-2,f=1,p=852,m=592;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg=``,t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(p),t.distcode=t.distdyn=new r.Buf32(m),t.sane=1,t.back=-1,u):d}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,_(e)):d}function y(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):d}function b(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=y(e,t))!==u&&(e.state=null),n):d}var x,S,C=!0;function w(e){if(C){var t;for(x=new r.Buf32(512),S=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,S,0,e.work,{bits:5}),C=!1}e.lencode=x,e.lenbits=9,e.distcode=S,e.distbits=5}function T(e,t,n,i){var a,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=v,n.inflateReset2=y,n.inflateResetKeep=_,n.inflateInit=function(e){return b(e,15)},n.inflateInit2=b,n.inflate=function(e,t){var n,p,m,g,_,v,y,b,x,S,C,E,D,O,k,A,j,M,ee,N,P,F,I,L,R=0,z=new r.Buf8(4),te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return d;(n=e.state).mode===12&&(n.mode=13),_=e.next_out,m=e.output,y=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,b=n.hold,x=n.bits,S=v,C=y,F=u;e:for(;;)switch(n.mode){case f:if(n.wrap===0){n.mode=13;break}for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(2&n.wrap&&b===35615){z[n.check=0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0),x=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg=`incorrect header check`,n.mode=30;break}if((15&b)!=8){e.msg=`unknown compression method`,n.mode=30;break}if(x-=4,P=8+(15&(b>>>=4)),n.wbits===0)n.wbits=P;else if(P>n.wbits){e.msg=`invalid window size`,n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&b?10:12,x=b=0;break;case 2:for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(n.flags=b,(255&n.flags)!=8){e.msg=`unknown compression method`,n.mode=30;break}if(57344&n.flags){e.msg=`unknown header flags set`,n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0)),x=b=0,n.mode=3;case 3:for(;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.head&&(n.head.time=b),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,z[2]=b>>>16&255,z[3]=b>>>24&255,n.check=a(n.check,z,4,0)),x=b=0,n.mode=4;case 4:for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0)),x=b=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(z[0]=255&b,z[1]=b>>>8&255,n.check=a(n.check,z,2,0)),x=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(E=n.length)&&(E=v),E&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=Array(n.head.extra_len)),r.arraySet(n.head.extra,p,g,E,P)),512&n.flags&&(n.check=a(n.check,p,E,g)),v-=E,g+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(v===0)break e;for(E=0;P=p[g+ E++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&E<v;);if(512&n.flags&&(n.check=a(n.check,p,E,g)),v-=E,g+=E,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(v===0)break e;for(E=0;P=p[g+ E++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&E<v;);if(512&n.flags&&(n.check=a(n.check,p,E,g)),v-=E,g+=E,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(b!==(65535&n.check)){e.msg=`header crc mismatch`,n.mode=30;break}x=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}e.adler=n.check=h(b),x=b=0,n.mode=11;case 11:if(n.havedict===0)return e.next_out=_,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=x,2;e.adler=n.check=1,n.mode=12;case 12:if(t===5||t===6)break e;case 13:if(n.last){b>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}switch(n.last=1&b,--x,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,t!==6)break;b>>>=2,x-=2;break e;case 2:n.mode=17;break;case 3:e.msg=`invalid block type`,n.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){e.msg=`invalid stored block lengths`,n.mode=30;break}if(n.length=65535&b,x=b=0,n.mode=15,t===6)break e;case 15:n.mode=16;case 16:if(E=n.length){if(v<E&&(E=v),y<E&&(E=y),E===0)break e;r.arraySet(m,p,g,E,_),v-=E,g+=E,y-=E,_+=E,n.length-=E;break}n.mode=12;break;case 17:for(;x<14;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(n.nlen=257+(31&b),b>>>=5,x-=5,n.ndist=1+(31&b),b>>>=5,x-=5,n.ncode=4+(15&b),b>>>=4,x-=4,286<n.nlen||30<n.ndist){e.msg=`too many length or distance symbols`,n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.lens[te[n.have++]]=7&b,b>>>=3,x-=3}for(;n.have<19;)n.lens[te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},F=s(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,F){e.msg=`invalid code lengths set`,n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(R=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,j=65535&R,!((k=R>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(j<16)b>>>=k,x-=k,n.lens[n.have++]=j;else{if(j===16){for(L=k+2;x<L;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(b>>>=k,x-=k,n.have===0){e.msg=`invalid bit length repeat`,n.mode=30;break}P=n.lens[n.have-1],E=3+(3&b),b>>>=2,x-=2}else if(j===17){for(L=k+3;x<L;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}x-=k,P=0,E=3+(7&(b>>>=k)),b>>>=3,x-=3}else{for(L=k+7;x<L;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}x-=k,P=0,E=11+(127&(b>>>=k)),b>>>=7,x-=7}if(n.have+E>n.nlen+n.ndist){e.msg=`invalid bit length repeat`,n.mode=30;break}for(;E--;)n.lens[n.have++]=P}}if(n.mode===30)break;if(n.lens[256]===0){e.msg=`invalid code -- missing end-of-block`,n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},F=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,F){e.msg=`invalid literal/lengths set`,n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},F=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,F){e.msg=`invalid distances set`,n.mode=30;break}if(n.mode=20,t===6)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=y){e.next_out=_,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=x,o(e,C),_=e.next_out,m=e.output,y=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,b=n.hold,x=n.bits,n.mode===12&&(n.back=-1);break}for(n.back=0;A=(R=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,j=65535&R,!((k=R>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(A&&!(240&A)){for(M=k,ee=A,N=j;A=(R=n.lencode[N+((b&(1<<M+ee)-1)>>M)])>>>16&255,j=65535&R,!(M+(k=R>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}b>>>=M,x-=M,n.back+=M}if(b>>>=k,x-=k,n.back+=k,n.length=j,A===0){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg=`invalid literal/length code`,n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(L=n.extra;x<L;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(R=n.distcode[b&(1<<n.distbits)-1])>>>16&255,j=65535&R,!((k=R>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(!(240&A)){for(M=k,ee=A,N=j;A=(R=n.distcode[N+((b&(1<<M+ee)-1)>>M)])>>>16&255,j=65535&R,!(M+(k=R>>>24)<=x);){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}b>>>=M,x-=M,n.back+=M}if(b>>>=k,x-=k,n.back+=k,64&A){e.msg=`invalid distance code`,n.mode=30;break}n.offset=j,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(L=n.extra;x<L;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg=`invalid distance too far back`,n.mode=30;break}n.mode=25;case 25:if(y===0)break e;if(E=C-y,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg=`invalid distance too far back`,n.mode=30;break}D=E>n.wnext?(E-=n.wnext,n.wsize-E):n.wnext-E,E>n.length&&(E=n.length),O=n.window}else O=m,D=_-n.offset,E=n.length;for(y<E&&(E=y),y-=E,n.length-=E;m[_++]=O[D++],--E;);n.length===0&&(n.mode=21);break;case 26:if(y===0)break e;m[_++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(v===0)break e;v--,b|=p[g++]<<x,x+=8}if(C-=y,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?a(n.check,m,C,_-C):i(n.check,m,C,_-C)),C=y,(n.flags?b:h(b))!==n.check){e.msg=`incorrect data check`,n.mode=30;break}x=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(v===0)break e;v--,b+=p[g++]<<x,x+=8}if(b!==(4294967295&n.total)){e.msg=`incorrect length check`,n.mode=30;break}x=b=0}n.mode=29;case 29:F=1;break e;case 30:F=-3;break e;case 31:return-4;case 32:default:return d}return e.next_out=_,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=b,n.bits=x,(n.wsize||C!==e.avail_out&&n.mode<30&&(n.mode<27||t!==4))&&T(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,C-=e.avail_out,e.total_in+=S,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?a(n.check,m,C,e.next_out-C):i(n.check,m,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(n.mode===12?128:0)+(n.mode===20||n.mode===15?256:0),(S==0&&C===0||t===4)&&F===u&&(F=-5),F)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&=null,e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,u):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?(n=e.state).wrap!==0&&n.mode!==11?d:n.mode===11&&i(1,t,r,0)!==n.check?-3:T(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):d},n.inflateInfo=`pako inflate (from Nodeca project)`},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var r=e(`../utils/common`),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,u,d,f){var p,m,h,g,_,v,y,b,x,S=f.bits,C=0,w=0,T=0,E=0,D=0,O=0,k=0,A=0,j=0,M=0,ee=null,N=0,P=new r.Buf16(16),F=new r.Buf16(16),I=null,L=0;for(C=0;C<=15;C++)P[C]=0;for(w=0;w<c;w++)P[t[n+w]]++;for(D=S,E=15;1<=E&&P[E]===0;E--);if(E<D&&(D=E),E===0)return l[u++]=20971520,l[u++]=20971520,f.bits=1,0;for(T=1;T<E&&P[T]===0;T++);for(D<T&&(D=T),C=A=1;C<=15;C++)if(A<<=1,(A-=P[C])<0)return-1;if(0<A&&(e===0||E!==1))return-1;for(F[1]=0,C=1;C<15;C++)F[C+1]=F[C]+P[C];for(w=0;w<c;w++)t[n+w]!==0&&(d[F[t[n+w]]++]=w);if(v=e===0?(ee=I=d,19):e===1?(ee=i,N-=257,I=a,L-=257,256):(ee=o,I=s,-1),C=T,_=u,k=w=M=0,h=-1,g=(j=1<<(O=D))-1,e===1&&852<j||e===2&&592<j)return 1;for(;;){for(y=C-k,x=d[w]<v?(b=0,d[w]):d[w]>v?(b=I[L+d[w]],ee[N+d[w]]):(b=96,0),p=1<<C-k,T=m=1<<O;l[_+(M>>k)+(m-=p)]=y<<24|b<<16|x|0,m!==0;);for(p=1<<C-1;M&p;)p>>=1;if(p===0?M=0:(M&=p-1,M+=p),w++,--P[C]==0){if(C===E)break;C=t[n+d[w]]}if(D<C&&(M&g)!==h){for(k===0&&(k=D),_+=T,A=1<<(O=C-k);O+k<E&&!((A-=P[O+k])<=0);)O++,A<<=1;if(j+=1<<O,e===1&&852<j||e===2&&592<j)return 1;l[h=M&g]=D<<24|O<<16|_-u|0}}return M!==0&&(l[_+M]=C-k<<24|4194304),f.bits=D,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:`need dictionary`,1:`stream end`,0:``,"-1":`file error`,"-2":`stream error`,"-3":`data error`,"-4":`insufficient memory`,"-5":`buffer error`,"-6":`incompatible version`}},{}],52:[function(e,t,n){var r=e(`../utils/common`),i=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,l=256,u=l+1+c,d=30,f=19,p=2*u+1,m=15,h=16,g=7,_=256,v=16,y=17,b=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=Array(2*(u+2));o(T);var E=Array(2*d);o(E);var D=Array(512);o(D);var O=Array(256);o(O);var k=Array(c);o(k);var A,j,M,ee=Array(d);function N(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?D[e]:D[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function L(e,t,n){e.bi_valid>h-n?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>h-e.bi_valid,e.bi_valid+=n-h):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function R(e,t,n){L(e,n[2*t],n[2*t+1])}function z(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function te(e,t,n){var r,i,a=Array(m+1),o=0;for(r=1;r<=m;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];s!==0&&(e[2*i]=z(a[s]++,s))}}function ne(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*_]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function B(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function re(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function ie(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&re(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!re(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function ae(e,t,n){var r,i,a,o,s=0;if(e.last_lit!==0)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,r===0?R(e,i,t):(R(e,(a=O[i])+l+1,t),(o=x[a])!==0&&L(e,i-=k[a],o),R(e,a=F(--r),n),(o=S[a])!==0&&L(e,r-=ee[a],o)),s<e.last_lit;);R(e,_,t)}function oe(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<c;n++)a[2*n]===0?a[2*n+1]=0:(e.heap[++e.heap_len]=l=n,e.depth[n]=0);for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)ie(e,a,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ie(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,ie(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,g=t.stat_desc.max_length,_=0;for(a=0;a<=m;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)g<(a=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(a=g,_++),c[2*r+1]=a,l<r||(e.bl_count[a]++,o=0,h<=r&&(o=f[r-h]),s=c[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(u[2*r+1]+o)));if(_!==0){do{for(a=g-1;e.bl_count[a]===0;)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,_-=2}while(0<_);for(a=g;a!==0;a--)for(r=e.bl_count[a];r!==0;)l<(i=e.heap[--n])||(c[2*i+1]!==a&&(e.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),r--)}}(e,t),te(a,l,e.bl_count)}function V(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<c&&i===o||(s<l?e.bl_tree[2*i]+=s:i===0?s<=10?e.bl_tree[2*y]++:e.bl_tree[2*b]++:(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*v]++),a=i,l=(s=0)===o?(c=138,3):i===o?(c=6,3):(c=7,4))}function se(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,l=4;for(o===0&&(c=138,l=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<c&&i===o)){if(s<l)for(;R(e,i,e.bl_tree),--s!=0;);else i===0?s<=10?(R(e,y,e.bl_tree),L(e,s-3,3)):(R(e,b,e.bl_tree),L(e,s-11,7)):(i!==a&&(R(e,i,e.bl_tree),s--),R(e,v,e.bl_tree),L(e,s-3,2));a=i,l=(s=0)===o?(c=138,3):i===o?(c=6,3):(c=7,4)}}o(ee);var ce=!1;function le(e,t,n,i){L(e,(s<<1)+(i?1:0),3),function(e,t,n,i){B(e),i&&(I(e,n),I(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){ce||=(function(){var e,t,n,r,i,a=Array(m+1);for(r=n=0;r<c-1;r++)for(k[r]=n,e=0;e<1<<x[r];e++)O[n++]=r;for(O[n-1]=r,r=i=0;r<16;r++)for(ee[r]=i,e=0;e<1<<S[r];e++)D[i++]=r;for(i>>=7;r<d;r++)for(ee[r]=i<<7,e=0;e<1<<S[r]-7;e++)D[256+ i++]=r;for(t=0;t<=m;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(te(T,u+1,a),e=0;e<d;e++)E[2*e+1]=5,E[2*e]=z(e,5);A=new N(T,x,l+1,u,m),j=new N(E,S,0,d,m),M=new N([],C,0,f,g)}(),!0),e.l_desc=new P(e.dyn_ltree,A),e.d_desc=new P(e.dyn_dtree,j),e.bl_desc=new P(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,ne(e)},n._tr_stored_block=le,n._tr_flush_block=function(e,t,n,r){var o,s,c=0;0<e.level?(e.strm.data_type===2&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&e.dyn_ltree[2*t]!==0)return i;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return a;for(t=32;t<l;t++)if(e.dyn_ltree[2*t]!==0)return a;return i}(e)),oe(e,e.l_desc),oe(e,e.d_desc),c=function(e){var t;for(V(e,e.dyn_ltree,e.l_desc.max_code),V(e,e.dyn_dtree,e.d_desc.max_code),oe(e,e.bl_desc),t=f-1;3<=t&&e.bl_tree[2*w[t]+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=n+5,n+4<=o&&t!==-1?le(e,t,n,r):e.strategy===4||s===o?(L(e,2+(r?1:0),3),ae(e,T,E)):(L(e,4+(r?1:0),3),function(e,t,n,r){var i;for(L(e,t-257,5),L(e,n-1,5),L(e,r-4,4),i=0;i<r;i++)L(e,e.bl_tree[2*w[i]+1],3);se(e,e.dyn_ltree,t-1),se(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),ae(e,e.dyn_ltree,e.dyn_dtree)),ne(e),r&&B(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,t===0?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+l+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){L(e,2,3),R(e,_,T),function(e){e.bi_valid===16?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=``,this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){(function(e,t){if(!e.setImmediate){var n,r,i,a,o=1,s={},c=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,n={}.toString.call(e.process)===`[object process]`?function(e){process.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage(``,`*`),e.onmessage=n,t}}()?(a=`setImmediate$`+Math.random()+`$`,e.addEventListener?e.addEventListener(`message`,p,!1):e.attachEvent(`onmessage`,p),function(t){e.postMessage(a+t,`*`)}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},function(e){i.port2.postMessage(e)}):l&&`onreadystatechange`in l.createElement(`script`)?(r=l.documentElement,function(e){var t=l.createElement(`script`);t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(f,0,e)},u.setImmediate=function(e){typeof e!=`function`&&(e=Function(``+e));for(var t=Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];return s[o]={callback:e,args:t},n(o),o++},u.clearImmediate=d}function d(e){delete s[e]}function f(e){if(c)setTimeout(f,0,e);else{var n=s[e];if(n){c=!0;try{(function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}})(n)}finally{d(e),c=!1}}}}function p(t){t.source===e&&typeof t.data==`string`&&t.data.indexOf(a)===0&&f(+t.data.slice(a.length))}})(typeof self>`u`?e===void 0?this:e:self)}).call(this,typeof global<`u`?global:typeof self<`u`?self:typeof window<`u`?window:{})},{}]},{},[10])(10)})}))(),1);let ta=function(e){return e.WIDE=`wide`,e.STD=`std`,e.SQUARE=`square`,e.TALL=`tall`,e.PORTRAIT=`portrait`,e}({});const na=()=>Math.random().toString(36).substring(2,9);function ra(e,t){let n={...e};switch(t.type){case`SET_ACTIVE_PROJECT`:{let r=e.projects.find(e=>e.id===t.id);n={...e,activeProjectId:t.id,activeIssueId:r?.issues[0]?.id||null,activePageId:r?.issues[0]?.pages[0]?.id||null};break}case`ADD_PROJECT`:{let r={id:na(),title:t.title,style:`classic-noir`,issueType:`issue`,imageProvider:`gemini`,fluxModel:`fal-ai/flux-pro`,replicateModel:`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`,characters:[],issues:[{id:na(),title:`Issue #1`,pages:[{id:na(),number:1,panels:[]}]}]};n={...e,projects:[...e.projects,r],activeProjectId:r.id,activeIssueId:r.issues[0].id,activePageId:r.issues[0].pages[0].id};break}case`UPDATE_PROJECT`:n.projects=e.projects.map(e=>e.id===t.id?{...e,...t.updates}:e);break;case`UPDATE_PROJECT_FAL_KEY`:n.projects=e.projects.map(e=>e.id===t.projectId?{...e,falApiKey:t.apiKey}:e);break;case`UPDATE_PROJECT_REPLICATE_KEY`:n.projects=e.projects.map(e=>e.id===t.projectId?{...e,replicateApiKey:t.apiKey}:e);break;case`UPDATE_PROJECT_REPLICATE_MODEL`:n.projects=e.projects.map(e=>e.id===t.projectId?{...e,replicateModel:t.model}:e);break;case`DELETE_PROJECT`:n.projects=e.projects.filter(e=>e.id!==t.id),e.activeProjectId===t.id&&(n.activeProjectId=n.projects[0]?.id||null);break;case`ADD_ISSUE`:n.projects=e.projects.map(e=>{if(e.id!==t.projectId)return e;let r=e.issueType===`issue`?`Issue`:`Chapter`,i=e.issues.length+1,a={id:na(),title:t.title||`${r} #${i}`,pages:[{id:na(),number:1,panels:[]}]};return n.activeIssueId=a.id,n.activePageId=a.pages[0].id,{...e,issues:[...e.issues,a]}});break;case`UPDATE_ISSUE`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>e.id===t.issueId?{...e,...t.updates}:e)}));break;case`DELETE_ISSUE`:n.projects=e.projects.map(r=>{let i=r.issues.filter(e=>e.id!==t.issueId);return e.activeIssueId===t.issueId&&(n.activeIssueId=i[0]?.id||null,n.activePageId=i[0]?.pages[0]?.id||null),{...r,issues:i}});break;case`SET_ACTIVE_ISSUE`:{let r=e.projects.find(e=>e.issues.some(e=>e.id===t.id))?.issues.find(e=>e.id===t.id);n.activeIssueId=t.id,n.activePageId=r?.pages[0]?.id||null;break}case`ADD_PAGE`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>{if(e.id!==t.issueId)return e;let r={id:na(),number:e.pages.length+1,panels:[]};return n.activePageId=r.id,{...e,pages:[...e.pages,r]}})}));break;case`SET_ACTIVE_PAGE`:n.activePageId=t.id;break;case`ADD_PANEL`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>{if(e.id!==t.pageId)return e;let n={id:na(),prompt:``,aspectRatio:ta.WIDE,characterIds:[],textElements:[]};return{...e,panels:[...e.panels,n]}})}))}));break;case`UPDATE_PANEL`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>({...e,panels:e.panels.map(e=>e.id===t.panelId?{...e,...t.updates}:e)}))}))}));break;case`DELETE_PANEL`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>e.id===t.pageId?{...e,panels:e.panels.filter(e=>e.id!==t.panelId)}:e)}))}));break;case`REORDER_PANELS`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>e.id===t.pageId?{...e,panels:t.panels}:e)}))}));break;case`ADD_CHARACTER`:n.projects=e.projects.map(n=>n.id===e.activeProjectId?{...n,characters:[...n.characters,{id:na(),name:t.name,description:t.description}]}:n);break;case`DELETE_CHARACTER`:n.projects=e.projects.map(n=>n.id===e.activeProjectId?{...n,characters:n.characters.filter(e=>e.id!==t.id),issues:n.issues.map(e=>({...e,pages:e.pages.map(e=>({...e,panels:e.panels.map(e=>({...e,characterIds:e.characterIds.filter(e=>e!==t.id)}))}))}))}:n);break;case`ADD_TEXT_ELEMENT`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>({...e,panels:e.panels.map(e=>e.id===t.panelId?{...e,textElements:[...e.textElements,t.element]}:e)}))}))}));break;case`UPDATE_TEXT_ELEMENT`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>({...e,panels:e.panels.map(e=>e.id===t.panelId?{...e,textElements:e.textElements.map(e=>e.id===t.elementId?{...e,...t.updates}:e)}:e)}))}))}));break;case`DELETE_TEXT_ELEMENT`:n.projects=e.projects.map(e=>({...e,issues:e.issues.map(e=>({...e,pages:e.pages.map(e=>({...e,panels:e.panels.map(e=>e.id===t.panelId?{...e,textElements:e.textElements.filter(e=>e.id!==t.elementId)}:e)}))}))}));break;case`IMPORT_ISSUE`:n.projects=e.projects.map(e=>e.id===t.projectId?{...e,issues:[...e.issues,t.issue],characters:[...e.characters,...t.characters.filter(t=>!e.characters.some(e=>e.name.toUpperCase()===t.name.toUpperCase()))]}:e),n.activeIssueId=t.issue.id,n.activePageId=t.issue.pages[0]?.id||null;break}return localStorage.setItem(`ink_tracker_data`,JSON.stringify(n)),n}const ia=()=>{let e=localStorage.getItem(`ink_tracker_data`);if(e)try{let t=JSON.parse(e);return t.projects.forEach(e=>{e.issueType||=`issue`,e.imageProvider||=`gemini`,e.fluxModel||=`fal-ai/flux-pro`,e.replicateModel||=`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`,e.issues.forEach(e=>{e.pages.forEach(e=>{e.panels.forEach(e=>{e.textElements||=[],e.characterIds||=[]})})})}),t}catch(e){console.error(`Load failed`,e)}return{projects:[{id:`p1`,title:`New Story`,style:`classic-noir`,issueType:`issue`,imageProvider:`gemini`,fluxModel:`fal-ai/flux-pro`,replicateModel:`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`,characters:[],issues:[{id:`i1`,title:`Issue #1`,pages:[{id:`pg1`,number:1,panels:[]}]}]}],activeProjectId:`p1`,activeIssueId:`i1`,activePageId:`pg1`}};var aa=`ink_tracker_images`,oa=`images`,sa=1,ca=null;function la(){return ca||(ca=new Promise((e,t)=>{let n=indexedDB.open(aa,sa);n.onerror=()=>t(n.error),n.onsuccess=()=>e(n.result),n.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(oa)||t.createObjectStore(oa,{keyPath:`id`})}}),ca)}async function ua(e,t){let n=(await la()).transaction(oa,`readwrite`).objectStore(oa);return await new Promise((r,i)=>{let a=n.put({id:e,data:t});a.onsuccess=()=>r(),a.onerror=()=>i(a.error)}),`idb://${e}`}async function da(e){let t=(await la()).transaction(oa,`readonly`).objectStore(oa);return new Promise((n,r)=>{let i=t.get(e);i.onsuccess=()=>n(i.result?.data||null),i.onerror=()=>r(i.error)})}var fa=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),W=o(((e,t)=>{t.exports=fa()}))();const pa=[{id:`classic-noir`,name:`Classic Film Noir`,prompt:`classic film noir comic book style, high contrast black and white ink, deep shadows, cinematic lighting, gritty texture, professional linework`},{id:`sin-city`,name:`Sin City Style`,prompt:`stark Sin City style high contrast black and white, heavy ink, deep blacks, selective red accents, silhouette lighting, minimalist grit`},{id:`crime-noir`,name:`Gritty Crime Noir`,prompt:`gritty urban crime comic art, hard-boiled detective noir, rainy city streets, fedoras and trench coats, dramatic shadows, moody palette`},{id:`will-eisner`,name:`Spirit Noir (Eisner)`,prompt:`Will Eisner Spirit-style noir, expressive cinematic storytelling, creative environmental integration, atmospheric urban settings, soft ink washes`},{id:`bronze-superhero`,name:`Bronze Age (1970s)`,prompt:`1970s bronze age superhero comic book art, dynamic action poses, thick ink outlines, vibrant flat colors with Ben-Day dots, expressive faces`},{id:`silver-superhero`,name:`Silver Age (1960s)`,prompt:`1960s silver age superhero comic book art, clean heroic proportions, bright primary colors, classic four-color printing look, optimistic heroic style`},{id:`kirby-cosmic`,name:`Kirby Cosmic`,prompt:`Jack Kirby style cosmic superhero art, bold blocky shapes, Kirby crackle energy, epic scale, hyper-dynamic anatomy, geometric power`},{id:`alex-ross`,name:`Painted Realism (Ross)`,prompt:`Alex Ross style hyper-realistic painted superhero art, photorealistic gouache painting, classical heroic lighting, masterpiece quality, cinematic realism`},{id:`frank-miller`,name:`Gritty Miller Style`,prompt:`Frank Miller gritty comic art, heavy expressionistic ink work, blocky angular shadows, dark brooding atmosphere, muscular silhouettes`},{id:`ec-horror`,name:`EC Horror (50s)`,prompt:`classic 1950s horror comic book style, detailed macabre illustrations, grotesque monsters, heavy ink shading, EC comics aesthetic, vibrant retro colors`},{id:`vertigo-horror`,name:`Vertigo Horror (90s)`,prompt:`moody 1990s Vertigo horror comic art, psychological dark fantasy, painterly textures, atmospheric and surreal lighting, sophisticated color palette`},{id:`mignola-hellboy`,name:`Hellboy Style (Mignola)`,prompt:`Mike Mignola style folk horror, blocky heavy shadows, simplified geometric shapes, high contrast flat colors, gothic atmosphere, minimalist shapes`},{id:`underground-comix`,name:`Underground Comix`,prompt:`1960s underground comix style, R. Crumb-inspired raw ink work, heavy cross-hatching, satirical distorted proportions, detailed messy textures`},{id:`indie-minimalist`,name:`Indie Minimalist`,prompt:`indie graphic novel style, clean minimalist line art, emotional realism, sophisticated composition, muted color palette, Chris Ware influence`},{id:`clear-line`,name:`Clear-Line (Tintin)`,prompt:`European clear-line (ligne claire) style, precise uniform ink outlines, flat colors, no hatching, clean readable backgrounds, Herg aesthetic`},{id:`european-bd`,name:`European BD Adventure`,prompt:`modern European BD adventure art, realistic proportions, intricate background details, sophisticated color grading, Moebius influence`},{id:`modern-alt`,name:`Modern Indie Alt`,prompt:`modern indie alt-comic style, loose sketchy line work, contemporary emotional storytelling, minimal shading, Adrian Tomine vibe`},{id:`erotic-realism`,name:`Photorealistic Erotic`,prompt:`ultra photorealistic sensual erotic portrait, detailed realistic skin texture and anatomy, soft intimate lighting, cinematic chiaroscuro, tasteful artistic sensual pose, high detail masterpiece, no cartoon elements`},{id:`pulp-adventure`,name:`Retro Pulp Adventure`,prompt:`retro 1930s pulp magazine cover art, dynamic adventure serials, warm vintage palette, hand-painted texture, dramatic heroic action`},{id:`cyberpunk-noir`,name:`Western Cyberpunk Noir`,prompt:`Western cyberpunk neon-noir comic art, intricate mechanical details, glowing accents, gritty high-tech low-life aesthetic, intense lighting`}],ma={[ta.WIDE]:{label:`Wide (16:9)`,class:`aspect-panel-wide`,ratio:`16:9`},[ta.STD]:{label:`Standard (4:3)`,class:`aspect-panel-std`,ratio:`4:3`},[ta.SQUARE]:{label:`Square (1:1)`,class:`aspect-panel-square`,ratio:`1:1`},[ta.TALL]:{label:`Tall (3:4)`,class:`aspect-panel-tall`,ratio:`3:4`},[ta.PORTRAIT]:{label:`Portrait (9:16)`,class:`aspect-panel-portrait`,ratio:`9:16`}},ha={Plus:()=>(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M12 4v16m8-8H4`})}),Trash:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16`})}),Magic:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M13 10V3L4 14h7v7l9-11h-7z`})}),Edit:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z`})}),Folder:()=>(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z`})}),ChevronLeft:()=>(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M15 19l-7-7 7-7`})}),ChevronRight:()=>(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M9 5l7 7-7 7`})}),User:()=>(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z`})}),Sparkle:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z`})}),X:()=>(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M6 18L18 6M6 6l12 12`})}),Loader:()=>(0,W.jsxs)(`svg`,{className:`w-5 h-5 animate-spin`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:[(0,W.jsx)(`circle`,{className:`opacity-25`,cx:`12`,cy:`12`,r:`10`,stroke:`currentColor`,strokeWidth:`4`}),(0,W.jsx)(`path`,{className:`opacity-75`,fill:`currentColor`,d:`M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z`})]}),Chat:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M8 10h.01M12 10h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z`})}),Phone:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z`})}),Caption:()=>(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M4 6h16M4 12h16m-7 6h7`})})};var ga=/^(?:PAGE|PG)\s+(ONE|TWO|THREE|FOUR|FIVE|SIX|SEVEN|EIGHT|NINE|TEN|ELEVEN|TWELVE|THIRTEEN|FOURTEEN|FIFTEEN|SIXTEEN|SEVENTEEN|EIGHTEEN|NINETEEN|TWENTY|TWENTY[- ]?ONE|TWENTY[- ]?TWO|TWENTY[- ]?THREE|TWENTY[- ]?FOUR|TWENTY[- ]?FIVE|TWENTY[- ]?SIX|TWENTY[- ]?SEVEN|TWENTY[- ]?EIGHT|\d+)(?:\s*[:\-\.])?/i,_a=/^(?:PANEL|P|FRAME|FR|BLOCK)\s*(\d+)\s*(?:\[([^\]]+)\]|\(([^)]+)\))?(?:\s*[:\-\.])?\s*(.*)/i,va=/^(\d+)\.\s*(.*)/,ya=/^([A-Z][A-Z0-9\s\-'\.]{1,25})(?:\s*[\(\[<]([^\)\]>]+)[\)\]>])?\s*[:\-\]\s*(.+)$/,ba=/^(?:Description|Action|Visuals)\s*:\s*(.*)/i,xa=/^(?:CAPTION|NARRATION|NARRATOR|VO|V\.O\.|OFF-SCREEN|O\.S\.)\s*[:\-\]\s*(.+)$/i,Sa=/^(?:SFX|SOUND)\s*[:\-\]\s*(.+)$/i,Ca=/^(?:Artist\s*note|NOTE|PROMPT|REF)\s*[:\-\]\s*(.+)$/i,wa=/^TITLE(?:\s*\([^)]*\))?\s*[:\-\]\s*(.+)$/i,Ta={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,"twenty-one":21,twentyone:21,"twenty one":21,"twenty-two":22,twentytwo:22,"twenty two":22};function Ea(e){let t=e.toLowerCase().trim().replace(/[-\s]+/g,``);for(let[e,n]of Object.entries(Ta))if(t===e.replace(/[-\s]+/g,``))return n;let n=parseInt(e,10);return isNaN(n)?0:n}function Da(e,t){let n=`${e} ${t}`.toLowerCase();return n.includes(`echo`)||n.includes(`shatter`)||n.includes(`fracture`)?`echo`:n.includes(`hitch`)||n.includes(`stutter`)||n.includes(`smear`)?`hitch`:n.includes(`overflow`)||n.includes(`bruise`)||n.includes(`lattice`)?`overflow`:n.includes(`split`)?`split`:n.includes(`splash`)||n.includes(`full-page`)||n.includes(`full page`)?`splash`:n.includes(`shattered`)?`shattered`:`standard`}function Oa(e){let t=e.toLowerCase();return t.includes(`wide`)||t.includes(`landscape`)||t.includes(`double`)||t.includes(`establishing`)||t.includes(`panoramic`)||t.includes(`16:9`)?ta.WIDE:t.includes(`tall`)||t.includes(`vertical`)||t.includes(`9:16`)?ta.PORTRAIT:t.includes(`close`)||t.includes(`face`)||t.includes(`portrait`)||t.includes(`4:3`)?ta.STD:t.includes(`square`)||t.includes(`1:1`)?ta.SQUARE:(t.includes(`large panel`)||t.includes(`splash`),ta.WIDE)}function ka(e){let t=[],n=[],r=[],i=new Map;try{let a=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/[ \t]+/g,` `).split(`
`),o=0,s=[],c=0,l=``,u=``,d=[],f=[],p=null,m=()=>{if(c>0&&(l.trim()||d.length>0)){let e=Da(l,u),t=Oa(l);s.push({panelNumber:c,description:l.trim(),bubbles:[...d],artistNotes:[...f],visualMarker:e,aspectRatio:t})}l=``,u=``,d=[],f=[],p=null},h=()=>{m(),o>0&&s.length>0&&r.push({pageNumber:o,panels:[...s]}),s=[]};for(let e=0;e<a.length;e++){let t=a[e].trim(),n=a[e];if(!t){p=null;continue}let r=t.match(ga);if(r){h(),o=Ea(r[1]);continue}let s=t.match(_a)||t.match(va);if(s){m(),s.length>2&&s[1]&&!t.match(va)?(c=parseInt(s[1],10),u=(s[2]||s[3]||``).trim(),l=(s[4]||``).trim()):(c=parseInt(s[1],10),l=(s[2]||``).trim());continue}if(c>0){let e=t.match(Ca);if(e){f.push(e[1].trim());continue}let r=t.match(xa);if(r){d.push({type:`caption`,text:r[1].trim()});continue}let a=t.match(Sa);if(a){d.push({type:`sfx`,text:a[1].trim()});continue}let o=t.match(ba);if(o){l+=` `+o[1].trim();continue}let s=t.match(wa);if(s){d.push({type:`caption`,text:`TITLE: ${s[1].trim()}`});continue}if(p&&(n.startsWith(`  `)||n.startsWith(`	`))){let e=t.trim(),n=i.get(p);n?n.count++:i.set(p,{count:1,first:l}),d.push({type:`dialogue`,text:e,character:p});continue}let c=t.match(ya);if(c){let[,e,t,n]=c,r=e.trim().toUpperCase(),a=(t||``).toLowerCase(),o=a.includes(`thought`)||a.includes(`inner`),s=i.get(r);s?s.count++:i.set(r,{count:1,first:l}),d.push({type:o?`thought`:`dialogue`,text:n.trim(),character:r}),p=null;continue}if(/^[A-Z][A-Z\s\-']{1,25}$/.test(t)){p=t.trim().toUpperCase();continue}l?l+=` `+t:l=t}}return h(),r.length===0?(t.push(`No story structure detected. Ensure pages start with "PAGE 1" and panels with "Panel 1" or "1."`),{success:!1,pages:[],characters:[],errors:t,warnings:n}):(r.sort((e,t)=>e.pageNumber-t.pageNumber),{success:!0,pages:r,characters:Array.from(i.entries()).map(([e,t])=>({name:e,lineCount:t.count,firstAppearance:t.first})).filter(e=>![`CAPTION`,`SFX`,`TITLE`,`SUBTITLE`,`TEXT`,`NARRATION`,`DESCRIPTION`,`ACTION`,`SOUND`].includes(e.name.toUpperCase())).sort((e,t)=>t.lineCount-e.lineCount),errors:t,warnings:n})}catch(e){return t.push(`Parser exception: ${e instanceof Error?e.message:`Unknown`}`),{success:!1,pages:[],characters:[],errors:t,warnings:n}}}var Aa={standard:`text-steel-400`,echo:`text-red-500`,hitch:`text-cyan-500`,overflow:`text-purple-500`,shattered:`text-red-400`,split:`text-amber-500`,splash:`text-emerald-500`};function ja({onClose:e,onImport:t}){let[n,r]=(0,v.useState)(``),[i,a]=(0,v.useState)(null),o=()=>{a(ka(n))},s=()=>{i?.success&&(t(i),e())},c=e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{r(e.target?.result||``),a(null)},e.readAsText(t)}},l=i?.pages.reduce((e,t)=>e+t.panels.length,0)||0,u=i?.pages.reduce((e,t)=>(t.panels.forEach(t=>{t.visualMarker!==`standard`&&(e[t.visualMarker]=(e[t.visualMarker]||0)+1)}),e),{})||{};return(0,W.jsx)(`div`,{className:`fixed inset-0 bg-ink-950/95 backdrop-blur-xl flex items-center justify-center z-[600] p-8`,children:(0,W.jsxs)(`div`,{className:`w-full max-w-5xl bg-ink-900 border-2 border-ink-700 rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]`,children:[(0,W.jsxs)(`div`,{className:`p-6 border-b border-ink-700 flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h2`,{className:`font-display text-3xl tracking-widest text-ember-500 uppercase`,children:`Script Import`}),(0,W.jsx)(`p`,{className:`text-[10px] font-mono text-steel-500 mt-1 uppercase tracking-widest`,children:`Paste script or upload .txt file`})]}),(0,W.jsx)(`button`,{onClick:e,className:`w-10 h-10 flex items-center justify-center rounded-full bg-ink-800 hover:bg-red-500 text-steel-400 hover:text-white transition-all text-xl font-bold`,children:``})]}),(0,W.jsxs)(`div`,{className:`flex-1 flex overflow-hidden`,children:[(0,W.jsxs)(`div`,{className:`flex-1 flex flex-col p-6 border-r border-ink-700`,children:[(0,W.jsx)(`div`,{className:`mb-4`,children:(0,W.jsx)(`input`,{type:`file`,accept:`.txt,.md`,onChange:c,className:`text-[10px] text-steel-400 file:mr-3 file:py-2 file:px-4 file:border file:border-ink-700 file:bg-ink-800 file:text-ember-500 file:font-bold file:text-[9px] file:uppercase file:cursor-pointer file:rounded-lg hover:file:bg-ink-700`})}),(0,W.jsx)(`textarea`,{value:n,onChange:e=>{r(e.target.value),a(null)},placeholder:`PAGE ONE

            Panel 1
            Wide shot. City street at night.
            CAPTION: Two hours earlier.

            Panel 2
            Close on DETECTIVE JACK, lighting a cigarette.
            JACK: This city never sleeps.
            JACK (thought): Neither do I anymore.

            Panel 3 [ECHO]
            Flash - Jack sees a body in the alley. Shattered panel edges.
            Artist note: Red tint, fractured borders.
            SFX: BANG`,className:`flex-1 w-full bg-ink-950 border border-ink-700 rounded-xl p-4 font-mono text-xs text-steel-300 outline-none resize-none focus:border-ember-500 transition-colors`})]}),(0,W.jsxs)(`div`,{className:`w-96 flex flex-col p-6 bg-ink-950/50`,children:[(0,W.jsx)(`button`,{onClick:o,disabled:!n.trim(),className:`w-full py-3 mb-6 bg-ember-500 hover:bg-ember-400 text-ink-950 font-bold text-xs uppercase tracking-widest rounded-lg disabled:opacity-30 transition-all`,children:`Parse Script`}),i&&(0,W.jsxs)(`div`,{className:`flex-1 overflow-y-auto space-y-4`,children:[(0,W.jsxs)(`div`,{className:`p-4 border rounded-lg ${i.success?`bg-green-950/30 border-green-700/50`:`bg-red-950/30 border-red-700/50`}`,children:[(0,W.jsx)(`p`,{className:`font-bold text-sm ${i.success?`text-green-400`:`text-red-400`}`,children:i.success?` Parse Successful`:` Parse Failed`}),i.errors.map((e,t)=>(0,W.jsx)(`p`,{className:`text-xs text-red-300 mt-1`,children:e},t))]}),i.success&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`grid grid-cols-3 gap-3`,children:[(0,W.jsxs)(`div`,{className:`bg-ink-800 rounded-lg p-3 text-center`,children:[(0,W.jsx)(`p`,{className:`text-2xl font-display text-ember-500`,children:i.pages.length}),(0,W.jsx)(`p`,{className:`text-[9px] font-mono text-steel-500 uppercase`,children:`Pages`})]}),(0,W.jsxs)(`div`,{className:`bg-ink-800 rounded-lg p-3 text-center`,children:[(0,W.jsx)(`p`,{className:`text-2xl font-display text-ember-500`,children:l}),(0,W.jsx)(`p`,{className:`text-[9px] font-mono text-steel-500 uppercase`,children:`Panels`})]}),(0,W.jsxs)(`div`,{className:`bg-ink-800 rounded-lg p-3 text-center`,children:[(0,W.jsx)(`p`,{className:`text-2xl font-display text-ember-500`,children:i.characters.length}),(0,W.jsx)(`p`,{className:`text-[9px] font-mono text-steel-500 uppercase`,children:`Characters`})]})]}),Object.keys(u).length>0&&(0,W.jsxs)(`div`,{className:`bg-ink-800 rounded-lg p-4`,children:[(0,W.jsx)(`p`,{className:`text-[10px] font-mono text-steel-500 uppercase mb-2`,children:`Visual Markers Detected`}),(0,W.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:Object.entries(u).map(([e,t])=>(0,W.jsxs)(`span`,{className:`text-[10px] font-mono px-2 py-1 rounded-full bg-ink-900 ${Aa[e]}`,children:[e,`: `,t]},e))})]}),(0,W.jsxs)(`div`,{className:`bg-ink-800 rounded-lg p-4`,children:[(0,W.jsx)(`p`,{className:`text-[10px] font-mono text-steel-500 uppercase mb-2`,children:`Cast Detected`}),(0,W.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:i.characters.map(e=>(0,W.jsxs)(`span`,{className:`text-[10px] font-mono px-2 py-1 rounded-full bg-ink-900 text-steel-300`,children:[e.name,` `,(0,W.jsxs)(`span`,{className:`text-steel-600`,children:[`(`,e.lineCount,`)`]})]},e.name))})]}),i.warnings.length>0&&(0,W.jsxs)(`div`,{className:`bg-amber-950/30 border border-amber-700/50 rounded-lg p-4`,children:[(0,W.jsx)(`p`,{className:`text-[10px] font-mono text-amber-500 uppercase mb-2`,children:`Warnings`}),i.warnings.map((e,t)=>(0,W.jsx)(`p`,{className:`text-xs text-amber-300`,children:e},t))]}),(0,W.jsxs)(`button`,{onClick:s,className:`w-full py-4 bg-green-600 hover:bg-green-500 text-white font-bold text-sm uppercase tracking-widest rounded-lg transition-all mt-4`,children:[`Import `,i.pages.length,` Pages  Storyboard`]})]})]})]})]})]})})}var Ma=({state:e,dispatch:t,onOpenProjects:n,onOpenScriptImport:r})=>{let i=e.projects.find(t=>t.id===e.activeProjectId),a=i?.issueType===`issue`?`Issue`:`Chapter`,o={"Noir & Crime":[`classic-noir`,`sin-city`,`crime-noir`,`will-eisner`],Superhero:[`bronze-superhero`,`silver-superhero`,`kirby-cosmic`,`alex-ross`,`frank-miller`],Horror:[`ec-horror`,`vertigo-horror`,`mignola-hellboy`],"Indie & European":[`underground-comix`,`indie-minimalist`,`clear-line`,`european-bd`,`modern-alt`],"Realistic & Experimental":[`erotic-realism`,`pulp-adventure`,`cyberpunk-noir`]},[s,c]=(0,v.useState)(``);(0,v.useEffect)(()=>{i?.imageProvider===`fal-flux`?c(i?.falApiKey||``):i?.imageProvider===`replicate-flux`&&c(i?.replicateApiKey||``)},[i?.falApiKey,i?.replicateApiKey,i?.imageProvider]);let[l,u]=(0,v.useState)(!1),[d,f]=(0,v.useState)(``),[p,m]=(0,v.useState)(``);return(0,W.jsxs)(`aside`,{className:`w-72 bg-ink-900 border-r border-ink-700 flex flex-col overflow-hidden z-30`,children:[(0,W.jsxs)(`div`,{className:`p-6 border-b border-ink-700`,children:[(0,W.jsx)(`h1`,{className:`font-display text-3xl tracking-widest text-ember-500 mb-1 text-center`,children:`INK TRACKER`}),(0,W.jsx)(`p`,{className:`font-mono text-[10px] text-steel-500 uppercase tracking-tighter text-center`,children:`Script System v1.6`})]}),(0,W.jsxs)(`div`,{className:`flex-1 overflow-y-auto p-4 space-y-8 scrollbar-none`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-1`,children:[(0,W.jsx)(`h2`,{className:`text-xs font-mono text-steel-500 uppercase tracking-widest`,children:`Story`}),(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsxs)(`button`,{onClick:()=>{let e=i?.issueType===`issue`?`chapter`:`issue`;i&&t({type:`UPDATE_PROJECT`,id:i.id,updates:{issueType:e}})},className:`text-[9px] font-mono text-steel-600 hover:text-ember-500 uppercase transition-colors`,title:`Switch Label Type`,children:[`Mode: `,i?.issueType]}),(0,W.jsx)(`button`,{onClick:n,className:`text-steel-400 hover:text-ember-500 transition-colors`,children:(0,W.jsx)(ha.Folder,{})})]})]}),(0,W.jsxs)(`div`,{className:`p-3 bg-ink-800 rounded border border-ink-700 shadow-inner flex flex-col gap-2`,children:[(0,W.jsx)(`p`,{className:`font-display text-lg text-steel-200 tracking-wide truncate`,children:i?.title}),(0,W.jsx)(`button`,{onClick:r,className:`w-full mt-2 py-2 text-[10px] font-mono text-cyan-500 border border-cyan-800/50 rounded-lg hover:bg-cyan-900/20 uppercase tracking-widest transition-colors`,children:` Import Script`}),(0,W.jsxs)(`div`,{className:`flex flex-col gap-1 mt-2`,children:[(0,W.jsxs)(`div`,{className:`flex gap-1`,children:[(0,W.jsx)(`button`,{onClick:()=>t({type:`UPDATE_PROJECT`,id:i.id,updates:{imageProvider:`gemini`}}),className:`flex-1 text-[8px] font-mono py-1 rounded transition-colors ${i?.imageProvider===`gemini`?`bg-ember-500 text-ink-950 font-bold`:`bg-ink-900 text-steel-600`}`,children:`GEMINI`}),(0,W.jsx)(`button`,{onClick:()=>t({type:`UPDATE_PROJECT`,id:i.id,updates:{imageProvider:`fal-flux`}}),className:`flex-1 text-[8px] font-mono py-1 rounded transition-colors ${i?.imageProvider===`fal-flux`?`bg-ember-500 text-ink-950 font-bold`:`bg-ink-900 text-steel-600`}`,children:`FAL.AI`})]}),(0,W.jsx)(`button`,{onClick:()=>t({type:`UPDATE_PROJECT`,id:i.id,updates:{imageProvider:`replicate-flux`}}),className:`w-full text-[8px] font-mono py-1 rounded transition-colors ${i?.imageProvider===`replicate-flux`?`bg-ember-500 text-ink-950 font-bold`:`bg-ink-900 text-steel-600`}`,children:`REPLICATE FLUX`})]}),(i?.imageProvider===`fal-flux`||i?.imageProvider===`replicate-flux`)&&(0,W.jsxs)(`div`,{className:`mt-1 pt-2 border-t border-ink-700 space-y-2`,children:[(0,W.jsxs)(`label`,{className:`text-[8px] font-mono text-steel-500 uppercase flex justify-between`,children:[(0,W.jsxs)(`span`,{children:[i?.imageProvider===`fal-flux`?`fal.ai`:`Replicate`,` Key`]}),!s&&(0,W.jsx)(`span`,{className:`text-red-500 font-bold`,children:`MISSING!`})]}),(0,W.jsxs)(`div`,{className:`flex gap-1`,children:[(0,W.jsx)(`input`,{type:`password`,placeholder:`Enter Key...`,value:s,onChange:e=>c(e.target.value),className:`flex-1 bg-ink-950 border border-ink-700 rounded px-2 py-1 text-[9px] text-steel-300 focus:border-ember-500 outline-none`}),(0,W.jsx)(`button`,{onClick:()=>{s.trim()&&(i?.imageProvider===`fal-flux`?t({type:`UPDATE_PROJECT_FAL_KEY`,projectId:i.id,apiKey:s.trim()}):t({type:`UPDATE_PROJECT_REPLICATE_KEY`,projectId:i.id,apiKey:s.trim()}),alert(`Key saved!`))},className:`bg-ink-700 hover:bg-ember-500 text-steel-400 hover:text-ink-950 px-2 rounded text-[8px] transition-colors font-bold`,children:`SET`})]})]})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-1`,children:[(0,W.jsxs)(`h2`,{className:`text-xs font-mono text-steel-500 uppercase tracking-widest`,children:[a,`s`]}),(0,W.jsxs)(`button`,{onClick:()=>i&&t({type:`ADD_ISSUE`,projectId:i.id}),className:`text-steel-400 hover:text-ember-500 transition-colors flex items-center gap-1 group`,children:[(0,W.jsx)(ha.Plus,{}),(0,W.jsx)(`span`,{className:`text-[9px] font-mono opacity-0 group-hover:opacity-100 transition-opacity`,children:`NEW`})]})]}),(0,W.jsx)(`div`,{className:`space-y-4`,children:i?.issues.map(n=>{let r=e.activeIssueId===n.id;return(0,W.jsxs)(`div`,{className:`rounded-lg overflow-hidden transition-all border ${r?`border-ember-500/30 bg-ember-500/5`:`border-ink-700`}`,children:[(0,W.jsxs)(`div`,{onClick:()=>t({type:`SET_ACTIVE_ISSUE`,id:n.id}),className:`px-3 py-2 flex items-center justify-between cursor-pointer group ${r?`bg-ember-500/10`:`hover:bg-ink-800`}`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2 overflow-hidden`,children:[(0,W.jsx)(`span`,{className:`text-[10px] font-mono ${r?`text-ember-500`:`text-steel-600`}`,children:r?``:``}),(0,W.jsx)(`p`,{className:`text-xs font-bold uppercase tracking-widest truncate ${r?`text-ember-500`:`text-steel-400 group-hover:text-steel-200`}`,children:n.title})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,W.jsxs)(`span`,{className:`text-[9px] font-mono text-steel-600`,children:[n.pages.length,`P`]}),(0,W.jsx)(`button`,{onClick:e=>{e.stopPropagation(),confirm(`Delete ${n.title}?`)&&t({type:`DELETE_ISSUE`,issueId:n.id})},className:`opacity-0 group-hover:opacity-100 p-1 text-steel-700 hover:text-red-500 transition-all`,children:(0,W.jsx)(ha.Trash,{})})]})]}),r&&(0,W.jsxs)(`div`,{className:`px-2 py-2 border-t border-ember-500/10 space-y-1 animate-fade-in`,children:[n.pages.map(n=>(0,W.jsxs)(`button`,{onClick:()=>t({type:`SET_ACTIVE_PAGE`,id:n.id}),className:`w-full text-left px-3 py-1.5 rounded text-[11px] font-mono transition-all flex justify-between items-center ${e.activePageId===n.id?`bg-ember-500 text-ink-950 font-bold`:`text-steel-500 hover:bg-ink-700`}`,children:[(0,W.jsxs)(`span`,{children:[`PAGE `,n.number]}),(0,W.jsxs)(`span`,{className:`opacity-40 text-[9px]`,children:[n.panels.length,`F`]})]},n.id)),(0,W.jsx)(`button`,{onClick:()=>t({type:`ADD_PAGE`,issueId:n.id}),className:`w-full py-1 text-center text-[10px] font-mono text-steel-600 hover:text-ember-500 hover:bg-ink-800 rounded transition-all mt-1 uppercase tracking-tighter`,children:`+ Add Page`})]})]},n.id)})})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3 px-1`,children:[(0,W.jsx)(`h2`,{className:`text-xs font-mono text-steel-500 uppercase tracking-widest`,children:`Cast`}),(0,W.jsx)(`button`,{onClick:()=>u(!l),className:`transition-colors ${l?`text-ember-500 rotate-45`:`text-steel-400 hover:text-ember-500`}`,children:(0,W.jsx)(ha.Plus,{})})]}),l&&(0,W.jsxs)(`div`,{className:`mb-4 p-3 bg-ink-800 border border-ember-500/30 rounded-lg space-y-3 animate-fade-in shadow-xl`,children:[(0,W.jsx)(`input`,{autoFocus:!0,placeholder:`Name (e.g. Detective Jack)`,value:d,onChange:e=>f(e.target.value),className:`w-full bg-ink-950 border border-ink-700 rounded px-3 py-1.5 text-xs text-steel-200 focus:border-ember-500 outline-none font-bold`}),(0,W.jsx)(`textarea`,{placeholder:`Description (age, vibe, key features...)`,value:p,onChange:e=>m(e.target.value),rows:2,className:`w-full bg-ink-950 border border-ink-700 rounded px-3 py-1.5 text-xs text-steel-400 focus:border-ember-500 outline-none resize-none italic`}),(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsx)(`button`,{onClick:()=>{d.trim()&&(t({type:`ADD_CHARACTER`,name:d.trim(),description:p.trim()}),f(``),m(``),u(!1))},className:`flex-1 bg-ember-500 text-ink-950 font-bold py-1.5 rounded text-[10px] uppercase tracking-widest hover:bg-ember-400 transition-colors`,children:`Save Cast`}),(0,W.jsx)(`button`,{onClick:()=>u(!1),className:`px-3 py-1.5 border border-ink-700 text-steel-500 rounded text-[10px] uppercase hover:bg-ink-700`,children:`Cancel`})]})]}),(0,W.jsxs)(`div`,{className:`space-y-2`,children:[i?.characters.map(e=>(0,W.jsxs)(`div`,{className:`group flex items-center justify-between p-2 bg-ink-800/50 rounded border border-ink-700/50`,children:[(0,W.jsxs)(`div`,{className:`overflow-hidden`,children:[(0,W.jsx)(`p`,{className:`text-[11px] text-steel-300 font-bold truncate`,children:e.name}),(0,W.jsx)(`p`,{className:`text-[9px] text-steel-600 truncate italic`,children:e.description})]}),(0,W.jsx)(`button`,{onClick:()=>t({type:`DELETE_CHARACTER`,id:e.id}),className:`opacity-0 group-hover:opacity-100 text-red-500/50 hover:text-red-500 transition-all p-1`,children:(0,W.jsx)(ha.Trash,{})})]},e.id)),!i?.characters.length&&!l&&(0,W.jsx)(`p`,{className:`text-[10px] text-steel-700 italic text-center py-4 px-2 border border-dashed border-ink-700 rounded-lg`,children:`No cast members added yet.`})]})]})]}),(0,W.jsxs)(`div`,{className:`p-6 border-t border-ink-700 bg-ink-950 space-y-3`,children:[(0,W.jsx)(`h2`,{className:`text-xs font-mono text-steel-500 uppercase tracking-widest px-1`,children:`Art Style`}),(0,W.jsx)(`select`,{value:i?.style,onChange:e=>t({type:`UPDATE_PROJECT`,id:i.id,updates:{style:e.target.value}}),className:`w-full bg-ink-800 border border-ink-700 rounded-lg px-2 py-2 text-xs text-steel-300 font-mono focus:outline-none focus:border-ember-500 transition-colors`,children:Object.entries(o).map(([e,t])=>(0,W.jsx)(`optgroup`,{label:e,children:t.map(e=>{let t=pa.find(t=>t.id===e);return t?(0,W.jsx)(`option`,{value:t.id,children:t.name},t.id):null})},e))})]})]})},Na=void 0,Pa=void 0;function Fa(){return{geminiUrl:Na,vertexUrl:Pa}}function Ia(e,t,n,r){if(!e?.baseUrl){let e=Fa();return t?e.vertexUrl??n:e.geminiUrl??r}return e.baseUrl}var La=class{};function G(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){let e=t[n];return e==null?``:String(e)}else throw Error(`Key '${n}' not found in valueMap.`)})}function K(e,t,n){for(let r=0;r<t.length-1;r++){let i=t[r];if(i.endsWith(`[]`)){let a=i.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw Error(`Value must be a list given an array path ${i}`);if(Array.isArray(e[a])){let i=e[a];if(Array.isArray(n))for(let e=0;e<i.length;e++){let a=i[e];K(a,t.slice(r+1),n[e])}else for(let e of i)K(e,t.slice(r+1),n)}return}else if(i.endsWith(`[0]`)){let a=i.slice(0,-3);a in e||(e[a]=[{}]);let o=e[a];K(o[0],t.slice(r+1),n);return}(!e[i]||typeof e[i]!=`object`)&&(e[i]={}),e=e[i]}let r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n==`object`&&Object.keys(n).length===0||n===i)return;if(typeof i==`object`&&typeof n==`object`&&i!==null&&n!==null)Object.assign(i,n);else throw Error(`Cannot set value for an existing key. Key: ${r}`)}else if(r===`_self`&&typeof n==`object`&&n&&!Array.isArray(n)){let t=n;Object.assign(e,t)}else e[r]=n}function q(e,t,n=void 0){try{if(t.length===1&&t[0]===`_self`)return e;for(let r=0;r<t.length;r++){if(typeof e!=`object`||!e)return n;let i=t[r];if(i.endsWith(`[]`)){let a=i.slice(0,-2);if(a in e){let i=e[a];return Array.isArray(i)?i.map(e=>q(e,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(e){if(e instanceof TypeError)return n;throw e}}function Ra(e,t){for(let[n,r]of Object.entries(t)){let t=n.split(`.`),i=r.split(`.`),a=new Set,o=-1;for(let e=0;e<t.length;e++)if(t[e]===`*`){o=e;break}if(o!==-1&&i.length>o)for(let e=o;e<i.length;e++){let t=i[e];t!==`*`&&!t.endsWith(`[]`)&&!t.endsWith(`[0]`)&&a.add(t)}za(e,t,i,0,a)}}function za(e,t,n,r,i){if(r>=t.length||typeof e!=`object`||!e)return;let a=t[r];if(a.endsWith(`[]`)){let o=a.slice(0,-2),s=e;if(o in s&&Array.isArray(s[o]))for(let e of s[o])za(e,t,n,r+1,i)}else if(a===`*`){if(typeof e==`object`&&e&&!Array.isArray(e)){let t=e,a=Object.keys(t).filter(e=>!e.startsWith(`_`)&&!i.has(e)),o={};for(let e of a)o[e]=t[e];for(let[e,i]of Object.entries(o)){let a=[];for(let t of n.slice(r))t===`*`?a.push(e):a.push(t);K(t,a,i)}for(let e of a)delete t[e]}}else{let o=e;a in o&&za(o[a],t,n,r+1,i)}}function Ba(e){if(typeof e!=`string`)throw Error(`fromImageBytes must be a string`);return e}function Va(e){let t={},n=q(e,[`operationName`]);n!=null&&K(t,[`operationName`],n);let r=q(e,[`resourceName`]);return r!=null&&K(t,[`_url`,`resourceName`],r),t}function Ha(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`,`generateVideoResponse`]);return o!=null&&K(t,[`response`],Wa(o)),t}function Ua(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`]);return o!=null&&K(t,[`response`],Ga(o)),t}function Wa(e){let t={},n=q(e,[`generatedSamples`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Ka(e))),K(t,[`generatedVideos`],e)}let r=q(e,[`raiMediaFilteredCount`]);r!=null&&K(t,[`raiMediaFilteredCount`],r);let i=q(e,[`raiMediaFilteredReasons`]);return i!=null&&K(t,[`raiMediaFilteredReasons`],i),t}function Ga(e){let t={},n=q(e,[`videos`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>qa(e))),K(t,[`generatedVideos`],e)}let r=q(e,[`raiMediaFilteredCount`]);r!=null&&K(t,[`raiMediaFilteredCount`],r);let i=q(e,[`raiMediaFilteredReasons`]);return i!=null&&K(t,[`raiMediaFilteredReasons`],i),t}function Ka(e){let t={},n=q(e,[`video`]);return n!=null&&K(t,[`video`],eo(n)),t}function qa(e){let t={},n=q(e,[`_self`]);return n!=null&&K(t,[`video`],to(n)),t}function Ja(e){let t={},n=q(e,[`operationName`]);return n!=null&&K(t,[`_url`,`operationName`],n),t}function Ya(e){let t={},n=q(e,[`operationName`]);return n!=null&&K(t,[`_url`,`operationName`],n),t}function Xa(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`]);return o!=null&&K(t,[`response`],Za(o)),t}function Za(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`parent`]);r!=null&&K(t,[`parent`],r);let i=q(e,[`documentName`]);return i!=null&&K(t,[`documentName`],i),t}function Qa(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`]);return o!=null&&K(t,[`response`],$a(o)),t}function $a(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`parent`]);r!=null&&K(t,[`parent`],r);let i=q(e,[`documentName`]);return i!=null&&K(t,[`documentName`],i),t}function eo(e){let t={},n=q(e,[`uri`]);n!=null&&K(t,[`uri`],n);let r=q(e,[`encodedVideo`]);r!=null&&K(t,[`videoBytes`],Ba(r));let i=q(e,[`encoding`]);return i!=null&&K(t,[`mimeType`],i),t}function to(e){let t={},n=q(e,[`gcsUri`]);n!=null&&K(t,[`uri`],n);let r=q(e,[`bytesBase64Encoded`]);r!=null&&K(t,[`videoBytes`],Ba(r));let i=q(e,[`mimeType`]);return i!=null&&K(t,[`mimeType`],i),t}var no;(function(e){e.OUTCOME_UNSPECIFIED=`OUTCOME_UNSPECIFIED`,e.OUTCOME_OK=`OUTCOME_OK`,e.OUTCOME_FAILED=`OUTCOME_FAILED`,e.OUTCOME_DEADLINE_EXCEEDED=`OUTCOME_DEADLINE_EXCEEDED`})(no||={});var ro;(function(e){e.LANGUAGE_UNSPECIFIED=`LANGUAGE_UNSPECIFIED`,e.PYTHON=`PYTHON`})(ro||={});var io;(function(e){e.SCHEDULING_UNSPECIFIED=`SCHEDULING_UNSPECIFIED`,e.SILENT=`SILENT`,e.WHEN_IDLE=`WHEN_IDLE`,e.INTERRUPT=`INTERRUPT`})(io||={});var J;(function(e){e.TYPE_UNSPECIFIED=`TYPE_UNSPECIFIED`,e.STRING=`STRING`,e.NUMBER=`NUMBER`,e.INTEGER=`INTEGER`,e.BOOLEAN=`BOOLEAN`,e.ARRAY=`ARRAY`,e.OBJECT=`OBJECT`,e.NULL=`NULL`})(J||={});var ao;(function(e){e.API_SPEC_UNSPECIFIED=`API_SPEC_UNSPECIFIED`,e.SIMPLE_SEARCH=`SIMPLE_SEARCH`,e.ELASTIC_SEARCH=`ELASTIC_SEARCH`})(ao||={});var oo;(function(e){e.AUTH_TYPE_UNSPECIFIED=`AUTH_TYPE_UNSPECIFIED`,e.NO_AUTH=`NO_AUTH`,e.API_KEY_AUTH=`API_KEY_AUTH`,e.HTTP_BASIC_AUTH=`HTTP_BASIC_AUTH`,e.GOOGLE_SERVICE_ACCOUNT_AUTH=`GOOGLE_SERVICE_ACCOUNT_AUTH`,e.OAUTH=`OAUTH`,e.OIDC_AUTH=`OIDC_AUTH`})(oo||={});var so;(function(e){e.HTTP_IN_UNSPECIFIED=`HTTP_IN_UNSPECIFIED`,e.HTTP_IN_QUERY=`HTTP_IN_QUERY`,e.HTTP_IN_HEADER=`HTTP_IN_HEADER`,e.HTTP_IN_PATH=`HTTP_IN_PATH`,e.HTTP_IN_BODY=`HTTP_IN_BODY`,e.HTTP_IN_COOKIE=`HTTP_IN_COOKIE`})(so||={});var co;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED=`PHISH_BLOCK_THRESHOLD_UNSPECIFIED`,e.BLOCK_LOW_AND_ABOVE=`BLOCK_LOW_AND_ABOVE`,e.BLOCK_MEDIUM_AND_ABOVE=`BLOCK_MEDIUM_AND_ABOVE`,e.BLOCK_HIGH_AND_ABOVE=`BLOCK_HIGH_AND_ABOVE`,e.BLOCK_HIGHER_AND_ABOVE=`BLOCK_HIGHER_AND_ABOVE`,e.BLOCK_VERY_HIGH_AND_ABOVE=`BLOCK_VERY_HIGH_AND_ABOVE`,e.BLOCK_ONLY_EXTREMELY_HIGH=`BLOCK_ONLY_EXTREMELY_HIGH`})(co||={});var lo;(function(e){e.UNSPECIFIED=`UNSPECIFIED`,e.BLOCKING=`BLOCKING`,e.NON_BLOCKING=`NON_BLOCKING`})(lo||={});var uo;(function(e){e.MODE_UNSPECIFIED=`MODE_UNSPECIFIED`,e.MODE_DYNAMIC=`MODE_DYNAMIC`})(uo||={});var fo;(function(e){e.MODE_UNSPECIFIED=`MODE_UNSPECIFIED`,e.AUTO=`AUTO`,e.ANY=`ANY`,e.NONE=`NONE`,e.VALIDATED=`VALIDATED`})(fo||={});var po;(function(e){e.THINKING_LEVEL_UNSPECIFIED=`THINKING_LEVEL_UNSPECIFIED`,e.LOW=`LOW`,e.MEDIUM=`MEDIUM`,e.HIGH=`HIGH`,e.MINIMAL=`MINIMAL`})(po||={});var mo;(function(e){e.HARM_CATEGORY_UNSPECIFIED=`HARM_CATEGORY_UNSPECIFIED`,e.HARM_CATEGORY_HARASSMENT=`HARM_CATEGORY_HARASSMENT`,e.HARM_CATEGORY_HATE_SPEECH=`HARM_CATEGORY_HATE_SPEECH`,e.HARM_CATEGORY_SEXUALLY_EXPLICIT=`HARM_CATEGORY_SEXUALLY_EXPLICIT`,e.HARM_CATEGORY_DANGEROUS_CONTENT=`HARM_CATEGORY_DANGEROUS_CONTENT`,e.HARM_CATEGORY_CIVIC_INTEGRITY=`HARM_CATEGORY_CIVIC_INTEGRITY`,e.HARM_CATEGORY_IMAGE_HATE=`HARM_CATEGORY_IMAGE_HATE`,e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT=`HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT`,e.HARM_CATEGORY_IMAGE_HARASSMENT=`HARM_CATEGORY_IMAGE_HARASSMENT`,e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT=`HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT`,e.HARM_CATEGORY_JAILBREAK=`HARM_CATEGORY_JAILBREAK`})(mo||={});var ho;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED=`HARM_BLOCK_METHOD_UNSPECIFIED`,e.SEVERITY=`SEVERITY`,e.PROBABILITY=`PROBABILITY`})(ho||={});var go;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED=`HARM_BLOCK_THRESHOLD_UNSPECIFIED`,e.BLOCK_LOW_AND_ABOVE=`BLOCK_LOW_AND_ABOVE`,e.BLOCK_MEDIUM_AND_ABOVE=`BLOCK_MEDIUM_AND_ABOVE`,e.BLOCK_ONLY_HIGH=`BLOCK_ONLY_HIGH`,e.BLOCK_NONE=`BLOCK_NONE`,e.OFF=`OFF`})(go||={});var _o;(function(e){e.FINISH_REASON_UNSPECIFIED=`FINISH_REASON_UNSPECIFIED`,e.STOP=`STOP`,e.MAX_TOKENS=`MAX_TOKENS`,e.SAFETY=`SAFETY`,e.RECITATION=`RECITATION`,e.LANGUAGE=`LANGUAGE`,e.OTHER=`OTHER`,e.BLOCKLIST=`BLOCKLIST`,e.PROHIBITED_CONTENT=`PROHIBITED_CONTENT`,e.SPII=`SPII`,e.MALFORMED_FUNCTION_CALL=`MALFORMED_FUNCTION_CALL`,e.IMAGE_SAFETY=`IMAGE_SAFETY`,e.UNEXPECTED_TOOL_CALL=`UNEXPECTED_TOOL_CALL`,e.IMAGE_PROHIBITED_CONTENT=`IMAGE_PROHIBITED_CONTENT`,e.NO_IMAGE=`NO_IMAGE`,e.IMAGE_RECITATION=`IMAGE_RECITATION`,e.IMAGE_OTHER=`IMAGE_OTHER`})(_o||={});var vo;(function(e){e.HARM_PROBABILITY_UNSPECIFIED=`HARM_PROBABILITY_UNSPECIFIED`,e.NEGLIGIBLE=`NEGLIGIBLE`,e.LOW=`LOW`,e.MEDIUM=`MEDIUM`,e.HIGH=`HIGH`})(vo||={});var yo;(function(e){e.HARM_SEVERITY_UNSPECIFIED=`HARM_SEVERITY_UNSPECIFIED`,e.HARM_SEVERITY_NEGLIGIBLE=`HARM_SEVERITY_NEGLIGIBLE`,e.HARM_SEVERITY_LOW=`HARM_SEVERITY_LOW`,e.HARM_SEVERITY_MEDIUM=`HARM_SEVERITY_MEDIUM`,e.HARM_SEVERITY_HIGH=`HARM_SEVERITY_HIGH`})(yo||={});var bo;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED=`URL_RETRIEVAL_STATUS_UNSPECIFIED`,e.URL_RETRIEVAL_STATUS_SUCCESS=`URL_RETRIEVAL_STATUS_SUCCESS`,e.URL_RETRIEVAL_STATUS_ERROR=`URL_RETRIEVAL_STATUS_ERROR`,e.URL_RETRIEVAL_STATUS_PAYWALL=`URL_RETRIEVAL_STATUS_PAYWALL`,e.URL_RETRIEVAL_STATUS_UNSAFE=`URL_RETRIEVAL_STATUS_UNSAFE`})(bo||={});var xo;(function(e){e.BLOCKED_REASON_UNSPECIFIED=`BLOCKED_REASON_UNSPECIFIED`,e.SAFETY=`SAFETY`,e.OTHER=`OTHER`,e.BLOCKLIST=`BLOCKLIST`,e.PROHIBITED_CONTENT=`PROHIBITED_CONTENT`,e.IMAGE_SAFETY=`IMAGE_SAFETY`,e.MODEL_ARMOR=`MODEL_ARMOR`,e.JAILBREAK=`JAILBREAK`})(xo||={});var So;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED=`TRAFFIC_TYPE_UNSPECIFIED`,e.ON_DEMAND=`ON_DEMAND`,e.PROVISIONED_THROUGHPUT=`PROVISIONED_THROUGHPUT`})(So||={});var Co;(function(e){e.MODALITY_UNSPECIFIED=`MODALITY_UNSPECIFIED`,e.TEXT=`TEXT`,e.IMAGE=`IMAGE`,e.AUDIO=`AUDIO`})(Co||={});var wo;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED=`MEDIA_RESOLUTION_UNSPECIFIED`,e.MEDIA_RESOLUTION_LOW=`MEDIA_RESOLUTION_LOW`,e.MEDIA_RESOLUTION_MEDIUM=`MEDIA_RESOLUTION_MEDIUM`,e.MEDIA_RESOLUTION_HIGH=`MEDIA_RESOLUTION_HIGH`})(wo||={});var To;(function(e){e.TUNING_MODE_UNSPECIFIED=`TUNING_MODE_UNSPECIFIED`,e.TUNING_MODE_FULL=`TUNING_MODE_FULL`,e.TUNING_MODE_PEFT_ADAPTER=`TUNING_MODE_PEFT_ADAPTER`})(To||={});var Eo;(function(e){e.ADAPTER_SIZE_UNSPECIFIED=`ADAPTER_SIZE_UNSPECIFIED`,e.ADAPTER_SIZE_ONE=`ADAPTER_SIZE_ONE`,e.ADAPTER_SIZE_TWO=`ADAPTER_SIZE_TWO`,e.ADAPTER_SIZE_FOUR=`ADAPTER_SIZE_FOUR`,e.ADAPTER_SIZE_EIGHT=`ADAPTER_SIZE_EIGHT`,e.ADAPTER_SIZE_SIXTEEN=`ADAPTER_SIZE_SIXTEEN`,e.ADAPTER_SIZE_THIRTY_TWO=`ADAPTER_SIZE_THIRTY_TWO`})(Eo||={});var Do;(function(e){e.JOB_STATE_UNSPECIFIED=`JOB_STATE_UNSPECIFIED`,e.JOB_STATE_QUEUED=`JOB_STATE_QUEUED`,e.JOB_STATE_PENDING=`JOB_STATE_PENDING`,e.JOB_STATE_RUNNING=`JOB_STATE_RUNNING`,e.JOB_STATE_SUCCEEDED=`JOB_STATE_SUCCEEDED`,e.JOB_STATE_FAILED=`JOB_STATE_FAILED`,e.JOB_STATE_CANCELLING=`JOB_STATE_CANCELLING`,e.JOB_STATE_CANCELLED=`JOB_STATE_CANCELLED`,e.JOB_STATE_PAUSED=`JOB_STATE_PAUSED`,e.JOB_STATE_EXPIRED=`JOB_STATE_EXPIRED`,e.JOB_STATE_UPDATING=`JOB_STATE_UPDATING`,e.JOB_STATE_PARTIALLY_SUCCEEDED=`JOB_STATE_PARTIALLY_SUCCEEDED`})(Do||={});var Oo;(function(e){e.TUNING_TASK_UNSPECIFIED=`TUNING_TASK_UNSPECIFIED`,e.TUNING_TASK_I2V=`TUNING_TASK_I2V`,e.TUNING_TASK_T2V=`TUNING_TASK_T2V`,e.TUNING_TASK_R2V=`TUNING_TASK_R2V`})(Oo||={});var ko;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED=`MEDIA_RESOLUTION_UNSPECIFIED`,e.MEDIA_RESOLUTION_LOW=`MEDIA_RESOLUTION_LOW`,e.MEDIA_RESOLUTION_MEDIUM=`MEDIA_RESOLUTION_MEDIUM`,e.MEDIA_RESOLUTION_HIGH=`MEDIA_RESOLUTION_HIGH`,e.MEDIA_RESOLUTION_ULTRA_HIGH=`MEDIA_RESOLUTION_ULTRA_HIGH`})(ko||={});var Ao;(function(e){e.COLLECTION=`COLLECTION`})(Ao||={});var jo;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED=`FEATURE_SELECTION_PREFERENCE_UNSPECIFIED`,e.PRIORITIZE_QUALITY=`PRIORITIZE_QUALITY`,e.BALANCED=`BALANCED`,e.PRIORITIZE_COST=`PRIORITIZE_COST`})(jo||={});var Mo;(function(e){e.ENVIRONMENT_UNSPECIFIED=`ENVIRONMENT_UNSPECIFIED`,e.ENVIRONMENT_BROWSER=`ENVIRONMENT_BROWSER`})(Mo||={});var No;(function(e){e.BLOCK_LOW_AND_ABOVE=`BLOCK_LOW_AND_ABOVE`,e.BLOCK_MEDIUM_AND_ABOVE=`BLOCK_MEDIUM_AND_ABOVE`,e.BLOCK_ONLY_HIGH=`BLOCK_ONLY_HIGH`,e.BLOCK_NONE=`BLOCK_NONE`})(No||={});var Po;(function(e){e.DONT_ALLOW=`DONT_ALLOW`,e.ALLOW_ADULT=`ALLOW_ADULT`,e.ALLOW_ALL=`ALLOW_ALL`})(Po||={});var Fo;(function(e){e.auto=`auto`,e.en=`en`,e.ja=`ja`,e.ko=`ko`,e.hi=`hi`,e.zh=`zh`,e.pt=`pt`,e.es=`es`})(Fo||={});var Io;(function(e){e.MASK_MODE_DEFAULT=`MASK_MODE_DEFAULT`,e.MASK_MODE_USER_PROVIDED=`MASK_MODE_USER_PROVIDED`,e.MASK_MODE_BACKGROUND=`MASK_MODE_BACKGROUND`,e.MASK_MODE_FOREGROUND=`MASK_MODE_FOREGROUND`,e.MASK_MODE_SEMANTIC=`MASK_MODE_SEMANTIC`})(Io||={});var Lo;(function(e){e.CONTROL_TYPE_DEFAULT=`CONTROL_TYPE_DEFAULT`,e.CONTROL_TYPE_CANNY=`CONTROL_TYPE_CANNY`,e.CONTROL_TYPE_SCRIBBLE=`CONTROL_TYPE_SCRIBBLE`,e.CONTROL_TYPE_FACE_MESH=`CONTROL_TYPE_FACE_MESH`})(Lo||={});var Ro;(function(e){e.SUBJECT_TYPE_DEFAULT=`SUBJECT_TYPE_DEFAULT`,e.SUBJECT_TYPE_PERSON=`SUBJECT_TYPE_PERSON`,e.SUBJECT_TYPE_ANIMAL=`SUBJECT_TYPE_ANIMAL`,e.SUBJECT_TYPE_PRODUCT=`SUBJECT_TYPE_PRODUCT`})(Ro||={});var zo;(function(e){e.EDIT_MODE_DEFAULT=`EDIT_MODE_DEFAULT`,e.EDIT_MODE_INPAINT_REMOVAL=`EDIT_MODE_INPAINT_REMOVAL`,e.EDIT_MODE_INPAINT_INSERTION=`EDIT_MODE_INPAINT_INSERTION`,e.EDIT_MODE_OUTPAINT=`EDIT_MODE_OUTPAINT`,e.EDIT_MODE_CONTROLLED_EDITING=`EDIT_MODE_CONTROLLED_EDITING`,e.EDIT_MODE_STYLE=`EDIT_MODE_STYLE`,e.EDIT_MODE_BGSWAP=`EDIT_MODE_BGSWAP`,e.EDIT_MODE_PRODUCT_IMAGE=`EDIT_MODE_PRODUCT_IMAGE`})(zo||={});var Bo;(function(e){e.FOREGROUND=`FOREGROUND`,e.BACKGROUND=`BACKGROUND`,e.PROMPT=`PROMPT`,e.SEMANTIC=`SEMANTIC`,e.INTERACTIVE=`INTERACTIVE`})(Bo||={});var Vo;(function(e){e.ASSET=`ASSET`,e.STYLE=`STYLE`})(Vo||={});var Ho;(function(e){e.INSERT=`INSERT`,e.REMOVE=`REMOVE`,e.REMOVE_STATIC=`REMOVE_STATIC`,e.OUTPAINT=`OUTPAINT`})(Ho||={});var Uo;(function(e){e.OPTIMIZED=`OPTIMIZED`,e.LOSSLESS=`LOSSLESS`})(Uo||={});var Wo;(function(e){e.SUPERVISED_FINE_TUNING=`SUPERVISED_FINE_TUNING`,e.PREFERENCE_TUNING=`PREFERENCE_TUNING`})(Wo||={});var Go;(function(e){e.STATE_UNSPECIFIED=`STATE_UNSPECIFIED`,e.STATE_PENDING=`STATE_PENDING`,e.STATE_ACTIVE=`STATE_ACTIVE`,e.STATE_FAILED=`STATE_FAILED`})(Go||={});var Ko;(function(e){e.STATE_UNSPECIFIED=`STATE_UNSPECIFIED`,e.PROCESSING=`PROCESSING`,e.ACTIVE=`ACTIVE`,e.FAILED=`FAILED`})(Ko||={});var qo;(function(e){e.SOURCE_UNSPECIFIED=`SOURCE_UNSPECIFIED`,e.UPLOADED=`UPLOADED`,e.GENERATED=`GENERATED`,e.REGISTERED=`REGISTERED`})(qo||={});var Jo;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED=`TURN_COMPLETE_REASON_UNSPECIFIED`,e.MALFORMED_FUNCTION_CALL=`MALFORMED_FUNCTION_CALL`,e.RESPONSE_REJECTED=`RESPONSE_REJECTED`,e.NEED_MORE_INPUT=`NEED_MORE_INPUT`})(Jo||={});var Yo;(function(e){e.MODALITY_UNSPECIFIED=`MODALITY_UNSPECIFIED`,e.TEXT=`TEXT`,e.IMAGE=`IMAGE`,e.VIDEO=`VIDEO`,e.AUDIO=`AUDIO`,e.DOCUMENT=`DOCUMENT`})(Yo||={});var Xo;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED=`VAD_SIGNAL_TYPE_UNSPECIFIED`,e.VAD_SIGNAL_TYPE_SOS=`VAD_SIGNAL_TYPE_SOS`,e.VAD_SIGNAL_TYPE_EOS=`VAD_SIGNAL_TYPE_EOS`})(Xo||={});var Zo;(function(e){e.TYPE_UNSPECIFIED=`TYPE_UNSPECIFIED`,e.ACTIVITY_START=`ACTIVITY_START`,e.ACTIVITY_END=`ACTIVITY_END`})(Zo||={});var Qo;(function(e){e.START_SENSITIVITY_UNSPECIFIED=`START_SENSITIVITY_UNSPECIFIED`,e.START_SENSITIVITY_HIGH=`START_SENSITIVITY_HIGH`,e.START_SENSITIVITY_LOW=`START_SENSITIVITY_LOW`})(Qo||={});var $o;(function(e){e.END_SENSITIVITY_UNSPECIFIED=`END_SENSITIVITY_UNSPECIFIED`,e.END_SENSITIVITY_HIGH=`END_SENSITIVITY_HIGH`,e.END_SENSITIVITY_LOW=`END_SENSITIVITY_LOW`})($o||={});var es;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED=`ACTIVITY_HANDLING_UNSPECIFIED`,e.START_OF_ACTIVITY_INTERRUPTS=`START_OF_ACTIVITY_INTERRUPTS`,e.NO_INTERRUPTION=`NO_INTERRUPTION`})(es||={});var ts;(function(e){e.TURN_COVERAGE_UNSPECIFIED=`TURN_COVERAGE_UNSPECIFIED`,e.TURN_INCLUDES_ONLY_ACTIVITY=`TURN_INCLUDES_ONLY_ACTIVITY`,e.TURN_INCLUDES_ALL_INPUT=`TURN_INCLUDES_ALL_INPUT`})(ts||={});var ns;(function(e){e.SCALE_UNSPECIFIED=`SCALE_UNSPECIFIED`,e.C_MAJOR_A_MINOR=`C_MAJOR_A_MINOR`,e.D_FLAT_MAJOR_B_FLAT_MINOR=`D_FLAT_MAJOR_B_FLAT_MINOR`,e.D_MAJOR_B_MINOR=`D_MAJOR_B_MINOR`,e.E_FLAT_MAJOR_C_MINOR=`E_FLAT_MAJOR_C_MINOR`,e.E_MAJOR_D_FLAT_MINOR=`E_MAJOR_D_FLAT_MINOR`,e.F_MAJOR_D_MINOR=`F_MAJOR_D_MINOR`,e.G_FLAT_MAJOR_E_FLAT_MINOR=`G_FLAT_MAJOR_E_FLAT_MINOR`,e.G_MAJOR_E_MINOR=`G_MAJOR_E_MINOR`,e.A_FLAT_MAJOR_F_MINOR=`A_FLAT_MAJOR_F_MINOR`,e.A_MAJOR_G_FLAT_MINOR=`A_MAJOR_G_FLAT_MINOR`,e.B_FLAT_MAJOR_G_MINOR=`B_FLAT_MAJOR_G_MINOR`,e.B_MAJOR_A_FLAT_MINOR=`B_MAJOR_A_FLAT_MINOR`})(ns||={});var rs;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED=`MUSIC_GENERATION_MODE_UNSPECIFIED`,e.QUALITY=`QUALITY`,e.DIVERSITY=`DIVERSITY`,e.VOCALIZATION=`VOCALIZATION`})(rs||={});var is;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED=`PLAYBACK_CONTROL_UNSPECIFIED`,e.PLAY=`PLAY`,e.PAUSE=`PAUSE`,e.STOP=`STOP`,e.RESET_CONTEXT=`RESET_CONTEXT`})(is||={});var as=class{constructor(e){let t={};for(let n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}},os=class{get text(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning text from the first one.`);let e=``,t=!1,n=[];for(let r of this.candidates?.[0]?.content?.parts??[]){for(let[e,t]of Object.entries(r))e!==`text`&&e!==`thought`&&e!==`thoughtSignature`&&(t!==null||t!==void 0)&&n.push(e);if(typeof r.text==`string`){if(typeof r.thought==`boolean`&&r.thought)continue;t=!0,e+=r.text}}return n.length>0&&console.warn(`there are non-text parts ${n} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),t?e:void 0}get data(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning data from the first one.`);let e=``,t=[];for(let n of this.candidates?.[0]?.content?.parts??[]){for(let[e,r]of Object.entries(n))e!==`inlineData`&&(r!==null||r!==void 0)&&t.push(e);n.inlineData&&typeof n.inlineData.data==`string`&&(e+=atob(n.inlineData.data))}return t.length>0&&console.warn(`there are non-data parts ${t} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),e.length>0?btoa(e):void 0}get functionCalls(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning function calls from the first one.`);let e=(this.candidates?.[0]?.content?.parts)?.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>e!==void 0);if(e?.length!==0)return e}get executableCode(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning executable code from the first one.`);let e=(this.candidates?.[0]?.content?.parts)?.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>e!==void 0);if(e?.length!==0)return e?.[0]?.code}get codeExecutionResult(){if(this.candidates?.[0]?.content?.parts?.length===0)return;this.candidates&&this.candidates.length>1&&console.warn(`there are multiple candidates in the response, returning code execution result from the first one.`);let e=(this.candidates?.[0]?.content?.parts)?.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>e!==void 0);if(e?.length!==0)return e?.[0]?.output}},ss=class{},cs=class{},ls=class{},us=class{},ds=class{},fs=class{},ps=class{},ms=class{},hs=class{},gs=class{},_s=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i,a=t;return i=n?Ua(a):Ha(a),Object.assign(r,i),r}},vs=class{},ys=class{},bs=class{},xs=class{},Ss=class{},Cs=class{},ws=class{},Ts=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i=Xa(t);return Object.assign(r,i),r}},Es=class{},Ds=class{},Os=class{},ks=class{},As=class{get text(){let e=``,t=!1,n=[];for(let r of this.serverContent?.modelTurn?.parts??[]){for(let[e,t]of Object.entries(r))e!==`text`&&e!==`thought`&&t!==null&&n.push(e);if(typeof r.text==`string`){if(typeof r.thought==`boolean`&&r.thought)continue;t=!0,e+=r.text}}return n.length>0&&console.warn(`there are non-text parts ${n} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),t?e:void 0}get data(){let e=``,t=[];for(let n of this.serverContent?.modelTurn?.parts??[]){for(let[e,r]of Object.entries(n))e!==`inlineData`&&r!==null&&t.push(e);n.inlineData&&typeof n.inlineData.data==`string`&&(e+=atob(n.inlineData.data))}return t.length>0&&console.warn(`there are non-data parts ${t} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),e.length>0?btoa(e):void 0}},js=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}},Ms=class e{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let r=new e,i=Qa(t);return Object.assign(r,i),r}};function Y(e,t){if(!t||typeof t!=`string`)throw Error(`model is required and must be a string`);if(t.includes(`..`)||t.includes(`?`)||t.includes(`&`))throw Error(`invalid model parameter`);if(e.isVertexAI()){if(t.startsWith(`publishers/`)||t.startsWith(`projects/`)||t.startsWith(`models/`))return t;if(t.indexOf(`/`)>=0){let e=t.split(`/`,2);return`publishers/${e[0]}/models/${e[1]}`}else return`publishers/google/models/${t}`}else if(t.startsWith(`models/`)||t.startsWith(`tunedModels/`))return t;else return`models/${t}`}function Ns(e,t){let n=Y(e,t);return n?n.startsWith(`publishers/`)&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith(`models/`)&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:``}function Ps(e){return Array.isArray(e)?e.map(e=>Fs(e)):[Fs(e)]}function Fs(e){if(typeof e==`object`&&e)return e;throw Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Is(e){let t=Fs(e);if(t.mimeType&&t.mimeType.startsWith(`image/`))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function Ls(e){let t=Fs(e);if(t.mimeType&&t.mimeType.startsWith(`audio/`))return t;throw Error(`Unsupported mime type: ${t.mimeType}`)}function Rs(e){if(e==null)throw Error(`PartUnion is required`);if(typeof e==`object`)return e;if(typeof e==`string`)return{text:e};throw Error(`Unsupported part type: ${typeof e}`)}function zs(e){if(e==null||Array.isArray(e)&&e.length===0)throw Error(`PartListUnion is required`);return Array.isArray(e)?e.map(e=>Rs(e)):[Rs(e)]}function Bs(e){return typeof e==`object`&&!!e&&`parts`in e&&Array.isArray(e.parts)}function Vs(e){return typeof e==`object`&&!!e&&`functionCall`in e}function Hs(e){return typeof e==`object`&&!!e&&`functionResponse`in e}function Us(e){if(e==null)throw Error(`ContentUnion is required`);return Bs(e)?e:{role:`user`,parts:zs(e)}}function Ws(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{let t=Us(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]});if(e.isVertexAI()){let e=Us(t);return e.parts&&e.parts.length>0&&e.parts[0].text!==void 0?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Us(e)):[Us(t)]}function Gs(e){if(e==null||Array.isArray(e)&&e.length===0)throw Error(`contents are required`);if(!Array.isArray(e)){if(Vs(e)||Hs(e))throw Error(`To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them`);return[Us(e)]}let t=[],n=[],r=Bs(e[0]);for(let i of e){let e=Bs(i);if(e!=r)throw Error(`Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them`);if(e)t.push(i);else if(Vs(i)||Hs(i))throw Error(`To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them`);else n.push(i)}return r||t.push({role:`user`,parts:zs(n)}),t}function Ks(e,t){e.includes(`null`)&&(t.nullable=!0);let n=e.filter(e=>e!==`null`);if(n.length===1)t.type=Object.values(J).includes(n[0].toUpperCase())?n[0].toUpperCase():J.TYPE_UNSPECIFIED;else{t.anyOf=[];for(let e of n)t.anyOf.push({type:Object.values(J).includes(e.toUpperCase())?e.toUpperCase():J.TYPE_UNSPECIFIED})}}function qs(e){let t={},n=[`items`],r=[`anyOf`],i=[`properties`];if(e.type&&e.anyOf)throw Error(`type and anyOf cannot be both populated.`);let a=e.anyOf;a!=null&&a.length==2&&(a[0].type===`null`?(t.nullable=!0,e=a[1]):a[1].type===`null`&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&Ks(e.type,t);for(let[a,o]of Object.entries(e))if(o!=null)if(a==`type`){if(o===`null`)throw Error(`type: null can not be the only possible type for the field.`);if(o instanceof Array)continue;t.type=Object.values(J).includes(o.toUpperCase())?o.toUpperCase():J.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=qs(o);else if(r.includes(a)){let e=[];for(let n of o){if(n.type==`null`){t.nullable=!0;continue}e.push(qs(n))}t[a]=e}else if(i.includes(a)){let e={};for(let[t,n]of Object.entries(o))e[t]=qs(n);t[a]=e}else{if(a===`additionalProperties`)continue;t[a]=o}return t}function Js(e){return qs(e)}function Ys(e){if(typeof e==`object`)return e;if(typeof e==`string`)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw Error(`Unsupported speechConfig type: ${typeof e}`)}function Xs(e){if(`multiSpeakerVoiceConfig`in e)throw Error(`multiSpeakerVoiceConfig is not supported in the live API.`);return e}function Zs(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes(`$schema`)?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=qs(t.parameters)),t.response&&(Object.keys(t.response).includes(`$schema`)?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=qs(t.response));return e}function Qs(e){if(e==null)throw Error(`tools is required`);if(!Array.isArray(e))throw Error(`tools is required and must be an array of Tools`);let t=[];for(let n of e)t.push(n);return t}function $s(e,t,n,r=1){let i=!t.startsWith(`${n}/`)&&t.split(`/`).length===r;return e.isVertexAI()?t.startsWith(`projects/`)?t:t.startsWith(`locations/`)?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function ec(e,t){if(typeof t!=`string`)throw Error(`name must be a string`);return $s(e,t,`cachedContents`)}function tc(e){switch(e){case`STATE_UNSPECIFIED`:return`JOB_STATE_UNSPECIFIED`;case`CREATING`:return`JOB_STATE_RUNNING`;case`ACTIVE`:return`JOB_STATE_SUCCEEDED`;case`FAILED`:return`JOB_STATE_FAILED`;default:return e}}function nc(e){return Ba(e)}function rc(e){return typeof e==`object`&&!!e&&`name`in e}function ic(e){return typeof e==`object`&&!!e&&`video`in e}function ac(e){return typeof e==`object`&&!!e&&`uri`in e}function oc(e){let t;if(rc(e)&&(t=e.name),!(ac(e)&&(t=e.uri,t===void 0))&&!(ic(e)&&(t=e.video?.uri,t===void 0))){if(typeof e==`string`&&(t=e),t===void 0)throw Error(`Could not extract file name from the provided input.`);if(t.startsWith(`https://`)){let e=t.split(`files/`)[1].match(/[a-z0-9]+/);if(e===null)throw Error(`Could not extract file name from URI ${t}`);t=e[0]}else t.startsWith(`files/`)&&(t=t.split(`files/`)[1]);return t}}function sc(e,t){let n;return n=e.isVertexAI()?t?`publishers/google/models`:`models`:t?`models`:`tunedModels`,n}function cc(e){for(let t of[`models`,`tunedModels`,`publisherModels`])if(lc(e,t))return e[t];return[]}function lc(e,t){return typeof e==`object`&&!!e&&t in e}function uc(e,t={}){let n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function dc(e,t={}){let n=[],r=new Set;for(let i of e){let e=i.name;if(r.has(e))throw Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);let a=uc(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function fc(e,t){let n;if(typeof t==`string`)if(e.isVertexAI())if(t.startsWith(`gs://`))n={format:`jsonl`,gcsUri:[t]};else if(t.startsWith(`bq://`))n={format:`bigquery`,bigqueryUri:t};else throw Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith(`files/`))n={fileName:t};else throw Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw Error(`InlinedRequest[] is not supported in Vertex AI.`);n={inlinedRequests:t}}else n=t;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function pc(e){if(typeof e!=`string`)return e;let t=e;if(t.startsWith(`gs://`))return{format:`jsonl`,gcsUri:t};if(t.startsWith(`bq://`))return{format:`bigquery`,bigqueryUri:t};throw Error(`Unsupported destination: ${t}`)}function mc(e){if(typeof e!=`object`||!e)return{};let t=e,n=t.inlinedResponses;if(typeof n!=`object`||!n)return e;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(let e of r){if(typeof e!=`object`||!e)continue;let t=e.response;if(!(typeof t!=`object`||!t)&&t.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function hc(e,t){let n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split(`/`).pop();throw Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split(`/`).pop();if(/^\d+$/.test(n))return n;throw Error(`Invalid batch job name: ${n}.`)}function gc(e){let t=e;return t===`BATCH_STATE_UNSPECIFIED`?`JOB_STATE_UNSPECIFIED`:t===`BATCH_STATE_PENDING`?`JOB_STATE_PENDING`:t===`BATCH_STATE_RUNNING`?`JOB_STATE_RUNNING`:t===`BATCH_STATE_SUCCEEDED`?`JOB_STATE_SUCCEEDED`:t===`BATCH_STATE_FAILED`?`JOB_STATE_FAILED`:t===`BATCH_STATE_CANCELLED`?`JOB_STATE_CANCELLED`:t===`BATCH_STATE_EXPIRED`?`JOB_STATE_EXPIRED`:t}function _c(e){let t={},n=q(e,[`responsesFile`]);n!=null&&K(t,[`fileName`],n);let r=q(e,[`inlinedResponses`,`inlinedResponses`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>tl(e))),K(t,[`inlinedResponses`],e)}let i=q(e,[`inlinedEmbedContentResponses`,`inlinedResponses`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`inlinedEmbedContentResponses`],e)}return t}function vc(e){let t={},n=q(e,[`predictionsFormat`]);n!=null&&K(t,[`format`],n);let r=q(e,[`gcsDestination`,`outputUriPrefix`]);r!=null&&K(t,[`gcsUri`],r);let i=q(e,[`bigqueryDestination`,`outputUri`]);return i!=null&&K(t,[`bigqueryUri`],i),t}function yc(e){let t={},n=q(e,[`format`]);n!=null&&K(t,[`predictionsFormat`],n);let r=q(e,[`gcsUri`]);r!=null&&K(t,[`gcsDestination`,`outputUriPrefix`],r);let i=q(e,[`bigqueryUri`]);if(i!=null&&K(t,[`bigqueryDestination`,`outputUri`],i),q(e,[`fileName`])!==void 0)throw Error(`fileName parameter is not supported in Vertex AI.`);if(q(e,[`inlinedResponses`])!==void 0)throw Error(`inlinedResponses parameter is not supported in Vertex AI.`);if(q(e,[`inlinedEmbedContentResponses`])!==void 0)throw Error(`inlinedEmbedContentResponses parameter is not supported in Vertex AI.`);return t}function bc(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`,`displayName`]);r!=null&&K(t,[`displayName`],r);let i=q(e,[`metadata`,`state`]);i!=null&&K(t,[`state`],gc(i));let a=q(e,[`metadata`,`createTime`]);a!=null&&K(t,[`createTime`],a);let o=q(e,[`metadata`,`endTime`]);o!=null&&K(t,[`endTime`],o);let s=q(e,[`metadata`,`updateTime`]);s!=null&&K(t,[`updateTime`],s);let c=q(e,[`metadata`,`model`]);c!=null&&K(t,[`model`],c);let l=q(e,[`metadata`,`output`]);return l!=null&&K(t,[`dest`],_c(mc(l))),t}function xc(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`displayName`]);r!=null&&K(t,[`displayName`],r);let i=q(e,[`state`]);i!=null&&K(t,[`state`],gc(i));let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`createTime`]);o!=null&&K(t,[`createTime`],o);let s=q(e,[`startTime`]);s!=null&&K(t,[`startTime`],s);let c=q(e,[`endTime`]);c!=null&&K(t,[`endTime`],c);let l=q(e,[`updateTime`]);l!=null&&K(t,[`updateTime`],l);let u=q(e,[`model`]);u!=null&&K(t,[`model`],u);let d=q(e,[`inputConfig`]);d!=null&&K(t,[`src`],Sc(d));let f=q(e,[`outputConfig`]);f!=null&&K(t,[`dest`],vc(mc(f)));let p=q(e,[`completionStats`]);return p!=null&&K(t,[`completionStats`],p),t}function Sc(e){let t={},n=q(e,[`instancesFormat`]);n!=null&&K(t,[`format`],n);let r=q(e,[`gcsSource`,`uris`]);r!=null&&K(t,[`gcsUri`],r);let i=q(e,[`bigquerySource`,`inputUri`]);return i!=null&&K(t,[`bigqueryUri`],i),t}function Cc(e,t){let n={};if(q(t,[`format`])!==void 0)throw Error(`format parameter is not supported in Gemini API.`);if(q(t,[`gcsUri`])!==void 0)throw Error(`gcsUri parameter is not supported in Gemini API.`);if(q(t,[`bigqueryUri`])!==void 0)throw Error(`bigqueryUri parameter is not supported in Gemini API.`);let r=q(t,[`fileName`]);r!=null&&K(n,[`fileName`],r);let i=q(t,[`inlinedRequests`]);if(i!=null){let t=i;Array.isArray(t)&&(t=t.map(t=>el(e,t))),K(n,[`requests`,`requests`],t)}return n}function wc(e){let t={},n=q(e,[`format`]);n!=null&&K(t,[`instancesFormat`],n);let r=q(e,[`gcsUri`]);r!=null&&K(t,[`gcsSource`,`uris`],r);let i=q(e,[`bigqueryUri`]);if(i!=null&&K(t,[`bigquerySource`,`inputUri`],i),q(e,[`fileName`])!==void 0)throw Error(`fileName parameter is not supported in Vertex AI.`);if(q(e,[`inlinedRequests`])!==void 0)throw Error(`inlinedRequests parameter is not supported in Vertex AI.`);return t}function Tc(e){let t={},n=q(e,[`data`]);if(n!=null&&K(t,[`data`],n),q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Ec(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],hc(e,r)),n}function Dc(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],hc(e,r)),n}function Oc(e){let t={},n=q(e,[`content`]);n!=null&&K(t,[`content`],n);let r=q(e,[`citationMetadata`]);r!=null&&K(t,[`citationMetadata`],kc(r));let i=q(e,[`tokenCount`]);i!=null&&K(t,[`tokenCount`],i);let a=q(e,[`finishReason`]);a!=null&&K(t,[`finishReason`],a);let o=q(e,[`avgLogprobs`]);o!=null&&K(t,[`avgLogprobs`],o);let s=q(e,[`groundingMetadata`]);s!=null&&K(t,[`groundingMetadata`],s);let c=q(e,[`index`]);c!=null&&K(t,[`index`],c);let l=q(e,[`logprobsResult`]);l!=null&&K(t,[`logprobsResult`],l);let u=q(e,[`safetyRatings`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`safetyRatings`],e)}let d=q(e,[`urlContextMetadata`]);return d!=null&&K(t,[`urlContextMetadata`],d),t}function kc(e){let t={},n=q(e,[`citationSources`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`citations`],e)}return t}function Ac(e){let t={},n=q(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>cl(e))),K(t,[`parts`],e)}let r=q(e,[`role`]);return r!=null&&K(t,[`role`],r),t}function jc(e,t){let n={},r=q(e,[`displayName`]);if(t!==void 0&&r!=null&&K(t,[`batch`,`displayName`],r),q(e,[`dest`])!==void 0)throw Error(`dest parameter is not supported in Gemini API.`);return n}function Mc(e,t){let n={},r=q(e,[`displayName`]);t!==void 0&&r!=null&&K(t,[`displayName`],r);let i=q(e,[`dest`]);return t!==void 0&&i!=null&&K(t,[`outputConfig`],yc(pc(i))),n}function Nc(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`src`]);i!=null&&K(n,[`batch`,`inputConfig`],Cc(e,fc(e,i)));let a=q(t,[`config`]);return a!=null&&jc(a,n),n}function Pc(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`model`],Y(e,r));let i=q(t,[`src`]);i!=null&&K(n,[`inputConfig`],wc(fc(e,i)));let a=q(t,[`config`]);return a!=null&&Mc(a,n),n}function Fc(e,t){let n={},r=q(e,[`displayName`]);return t!==void 0&&r!=null&&K(t,[`batch`,`displayName`],r),n}function Ic(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`src`]);i!=null&&K(n,[`batch`,`inputConfig`],Uc(e,i));let a=q(t,[`config`]);return a!=null&&Fc(a,n),n}function Lc(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],hc(e,r)),n}function Rc(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],hc(e,r)),n}function zc(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`name`]);r!=null&&K(t,[`name`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);return a!=null&&K(t,[`error`],a),t}function Bc(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`name`]);r!=null&&K(t,[`name`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);return a!=null&&K(t,[`error`],a),t}function Vc(e,t){let n={},r=q(t,[`contents`]);if(r!=null){let t=Ws(e,r);Array.isArray(t)&&(t=t.map(e=>e)),K(n,[`requests[]`,`request`,`content`],t)}let i=q(t,[`config`]);return i!=null&&(K(n,[`_self`],Hc(i,n)),Ra(n,{"requests[].*":`requests[].request.*`})),n}function Hc(e,t){let n={},r=q(e,[`taskType`]);t!==void 0&&r!=null&&K(t,[`requests[]`,`taskType`],r);let i=q(e,[`title`]);t!==void 0&&i!=null&&K(t,[`requests[]`,`title`],i);let a=q(e,[`outputDimensionality`]);if(t!==void 0&&a!=null&&K(t,[`requests[]`,`outputDimensionality`],a),q(e,[`mimeType`])!==void 0)throw Error(`mimeType parameter is not supported in Gemini API.`);if(q(e,[`autoTruncate`])!==void 0)throw Error(`autoTruncate parameter is not supported in Gemini API.`);return n}function Uc(e,t){let n={},r=q(t,[`fileName`]);r!=null&&K(n,[`file_name`],r);let i=q(t,[`inlinedRequests`]);return i!=null&&K(n,[`requests`],Vc(e,i)),n}function Wc(e){let t={};if(q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=q(e,[`fileUri`]);n!=null&&K(t,[`fileUri`],n);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Gc(e){let t={},n=q(e,[`id`]);n!=null&&K(t,[`id`],n);let r=q(e,[`args`]);r!=null&&K(t,[`args`],r);let i=q(e,[`name`]);if(i!=null&&K(t,[`name`],i),q(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(q(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function Kc(e){let t={},n=q(e,[`allowedFunctionNames`]);n!=null&&K(t,[`allowedFunctionNames`],n);let r=q(e,[`mode`]);if(r!=null&&K(t,[`mode`],r),q(e,[`streamFunctionCallArguments`])!==void 0)throw Error(`streamFunctionCallArguments parameter is not supported in Gemini API.`);return t}function qc(e,t,n){let r={},i=q(t,[`systemInstruction`]);n!==void 0&&i!=null&&K(n,[`systemInstruction`],Ac(Us(i)));let a=q(t,[`temperature`]);a!=null&&K(r,[`temperature`],a);let o=q(t,[`topP`]);o!=null&&K(r,[`topP`],o);let s=q(t,[`topK`]);s!=null&&K(r,[`topK`],s);let c=q(t,[`candidateCount`]);c!=null&&K(r,[`candidateCount`],c);let l=q(t,[`maxOutputTokens`]);l!=null&&K(r,[`maxOutputTokens`],l);let u=q(t,[`stopSequences`]);u!=null&&K(r,[`stopSequences`],u);let d=q(t,[`responseLogprobs`]);d!=null&&K(r,[`responseLogprobs`],d);let f=q(t,[`logprobs`]);f!=null&&K(r,[`logprobs`],f);let p=q(t,[`presencePenalty`]);p!=null&&K(r,[`presencePenalty`],p);let m=q(t,[`frequencyPenalty`]);m!=null&&K(r,[`frequencyPenalty`],m);let h=q(t,[`seed`]);h!=null&&K(r,[`seed`],h);let g=q(t,[`responseMimeType`]);g!=null&&K(r,[`responseMimeType`],g);let _=q(t,[`responseSchema`]);_!=null&&K(r,[`responseSchema`],Js(_));let v=q(t,[`responseJsonSchema`]);if(v!=null&&K(r,[`responseJsonSchema`],v),q(t,[`routingConfig`])!==void 0)throw Error(`routingConfig parameter is not supported in Gemini API.`);if(q(t,[`modelSelectionConfig`])!==void 0)throw Error(`modelSelectionConfig parameter is not supported in Gemini API.`);let y=q(t,[`safetySettings`]);if(n!==void 0&&y!=null){let e=y;Array.isArray(e)&&(e=e.map(e=>ll(e))),K(n,[`safetySettings`],e)}let b=q(t,[`tools`]);if(n!==void 0&&b!=null){let e=Qs(b);Array.isArray(e)&&(e=e.map(e=>dl(Zs(e)))),K(n,[`tools`],e)}let x=q(t,[`toolConfig`]);if(n!==void 0&&x!=null&&K(n,[`toolConfig`],ul(x)),q(t,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);let S=q(t,[`cachedContent`]);n!==void 0&&S!=null&&K(n,[`cachedContent`],ec(e,S));let C=q(t,[`responseModalities`]);C!=null&&K(r,[`responseModalities`],C);let w=q(t,[`mediaResolution`]);w!=null&&K(r,[`mediaResolution`],w);let T=q(t,[`speechConfig`]);if(T!=null&&K(r,[`speechConfig`],Ys(T)),q(t,[`audioTimestamp`])!==void 0)throw Error(`audioTimestamp parameter is not supported in Gemini API.`);let E=q(t,[`thinkingConfig`]);E!=null&&K(r,[`thinkingConfig`],E);let D=q(t,[`imageConfig`]);D!=null&&K(r,[`imageConfig`],$c(D));let O=q(t,[`enableEnhancedCivicAnswers`]);if(O!=null&&K(r,[`enableEnhancedCivicAnswers`],O),q(t,[`modelArmorConfig`])!==void 0)throw Error(`modelArmorConfig parameter is not supported in Gemini API.`);return r}function Jc(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`candidates`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Oc(e))),K(t,[`candidates`],e)}let i=q(e,[`modelVersion`]);i!=null&&K(t,[`modelVersion`],i);let a=q(e,[`promptFeedback`]);a!=null&&K(t,[`promptFeedback`],a);let o=q(e,[`responseId`]);o!=null&&K(t,[`responseId`],o);let s=q(e,[`usageMetadata`]);return s!=null&&K(t,[`usageMetadata`],s),t}function Yc(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],hc(e,r)),n}function Xc(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],hc(e,r)),n}function Zc(e){let t={};if(q(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=q(e,[`enableWidget`]);return n!=null&&K(t,[`enableWidget`],n),t}function Qc(e){let t={};if(q(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(q(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=q(e,[`timeRangeFilter`]);return n!=null&&K(t,[`timeRangeFilter`],n),t}function $c(e){let t={},n=q(e,[`aspectRatio`]);n!=null&&K(t,[`aspectRatio`],n);let r=q(e,[`imageSize`]);if(r!=null&&K(t,[`imageSize`],r),q(e,[`personGeneration`])!==void 0)throw Error(`personGeneration parameter is not supported in Gemini API.`);if(q(e,[`outputMimeType`])!==void 0)throw Error(`outputMimeType parameter is not supported in Gemini API.`);if(q(e,[`outputCompressionQuality`])!==void 0)throw Error(`outputCompressionQuality parameter is not supported in Gemini API.`);return t}function el(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`request`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let e=Gs(i);Array.isArray(e)&&(e=e.map(e=>Ac(e))),K(n,[`request`,`contents`],e)}let a=q(t,[`metadata`]);a!=null&&K(n,[`metadata`],a);let o=q(t,[`config`]);return o!=null&&K(n,[`request`,`generationConfig`],qc(e,o,q(n,[`request`],{}))),n}function tl(e){let t={},n=q(e,[`response`]);n!=null&&K(t,[`response`],Jc(n));let r=q(e,[`error`]);return r!=null&&K(t,[`error`],r),t}function nl(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);if(t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i),q(e,[`filter`])!==void 0)throw Error(`filter parameter is not supported in Gemini API.`);return n}function rl(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i);let a=q(e,[`filter`]);return t!==void 0&&a!=null&&K(t,[`_query`,`filter`],a),n}function il(e){let t={},n=q(e,[`config`]);return n!=null&&nl(n,t),t}function al(e){let t={},n=q(e,[`config`]);return n!=null&&rl(n,t),t}function ol(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`operations`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>bc(e))),K(t,[`batchJobs`],e)}return t}function sl(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`batchPredictionJobs`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>xc(e))),K(t,[`batchJobs`],e)}return t}function cl(e){let t={},n=q(e,[`mediaResolution`]);n!=null&&K(t,[`mediaResolution`],n);let r=q(e,[`codeExecutionResult`]);r!=null&&K(t,[`codeExecutionResult`],r);let i=q(e,[`executableCode`]);i!=null&&K(t,[`executableCode`],i);let a=q(e,[`fileData`]);a!=null&&K(t,[`fileData`],Wc(a));let o=q(e,[`functionCall`]);o!=null&&K(t,[`functionCall`],Gc(o));let s=q(e,[`functionResponse`]);s!=null&&K(t,[`functionResponse`],s);let c=q(e,[`inlineData`]);c!=null&&K(t,[`inlineData`],Tc(c));let l=q(e,[`text`]);l!=null&&K(t,[`text`],l);let u=q(e,[`thought`]);u!=null&&K(t,[`thought`],u);let d=q(e,[`thoughtSignature`]);d!=null&&K(t,[`thoughtSignature`],d);let f=q(e,[`videoMetadata`]);return f!=null&&K(t,[`videoMetadata`],f),t}function ll(e){let t={},n=q(e,[`category`]);if(n!=null&&K(t,[`category`],n),q(e,[`method`])!==void 0)throw Error(`method parameter is not supported in Gemini API.`);let r=q(e,[`threshold`]);return r!=null&&K(t,[`threshold`],r),t}function ul(e){let t={},n=q(e,[`retrievalConfig`]);n!=null&&K(t,[`retrievalConfig`],n);let r=q(e,[`functionCallingConfig`]);return r!=null&&K(t,[`functionCallingConfig`],Kc(r)),t}function dl(e){let t={};if(q(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let n=q(e,[`computerUse`]);n!=null&&K(t,[`computerUse`],n);let r=q(e,[`fileSearch`]);r!=null&&K(t,[`fileSearch`],r);let i=q(e,[`codeExecution`]);if(i!=null&&K(t,[`codeExecution`],i),q(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let a=q(e,[`functionDeclarations`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`functionDeclarations`],e)}let o=q(e,[`googleMaps`]);o!=null&&K(t,[`googleMaps`],Zc(o));let s=q(e,[`googleSearch`]);s!=null&&K(t,[`googleSearch`],Qc(s));let c=q(e,[`googleSearchRetrieval`]);c!=null&&K(t,[`googleSearchRetrieval`],c);let l=q(e,[`urlContext`]);return l!=null&&K(t,[`urlContext`],l),t}var fl;(function(e){e.PAGED_ITEM_BATCH_JOBS=`batchJobs`,e.PAGED_ITEM_MODELS=`models`,e.PAGED_ITEM_TUNING_JOBS=`tuningJobs`,e.PAGED_ITEM_FILES=`files`,e.PAGED_ITEM_CACHED_CONTENTS=`cachedContents`,e.PAGED_ITEM_FILE_SEARCH_STORES=`fileSearchStores`,e.PAGED_ITEM_DOCUMENTS=`documents`})(fl||={});var pl=class{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t?.sdkHttpResponse,this.idxInternal=0;let r={config:{}};r=!n||Object.keys(n).length===0?{config:{}}:typeof n==`object`?Object.assign({},n):n,r.config&&(r.config.pageToken=t.nextPageToken),this.paramsInternal=r,this.pageInternalSize=r.config?.pageSize??this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw Error(`No more pages to fetch.`);let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){return this.params.config?.pageToken!==void 0}},ml=class extends La{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pl(fl.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn(`batches.createEmbeddings() is experimental and may change without notice.`),this.apiClient.isVertexAI())throw Error(`Vertex AI does not support batches.createEmbeddings.`);return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){let t=Nc(this.apiClient,e),n=t._url,r=G(`{model}:batchGenerateContent`,n),i=t.batch.inputConfig.requests,a=i.requests,o=[];for(let e of a){let t=Object.assign({},e);if(t.systemInstruction){let e=t.systemInstruction;delete t.systemInstruction;let n=t.request;n.systemInstruction=e,t.request=n}o.push(t)}return i.requests=o,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e==`string`)return e.startsWith(`gs://`)?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e==`string`)return e.startsWith(`bq://`)?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){let n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||=`genaiBatchJob_${r}`,n.dest===void 0){let t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(`.jsonl`)?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else if(i)n.dest=`${i}_dest_${r}`;else throw Error(`Unsupported source for Vertex AI: No GCS or BigQuery URI found.`)}return n}async createInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Pc(this.apiClient,e);return n=G(`batchPredictionJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>xc(e))}else{let i=Nc(this.apiClient,e);return n=G(`{model}:batchGenerateContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>bc(e))}}async createEmbeddingsInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Ic(this.apiClient,e);return n=G(`{model}:asyncBatchEmbedContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>bc(e))}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Xc(this.apiClient,e);return n=G(`batchPredictionJobs/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>xc(e))}else{let i=Yc(this.apiClient,e);return n=G(`batches/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>bc(e))}}async cancel(e){let t=``,n={};if(this.apiClient.isVertexAI()){let r=Dc(this.apiClient,e);t=G(`batchPredictionJobs/{name}:cancel`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}else{let r=Ec(this.apiClient,e);t=G(`batches/{name}:cancel`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=al(e);return n=G(`batchPredictionJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=sl(e),n=new ks;return Object.assign(n,t),n})}else{let i=il(e);return n=G(`batches`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ol(e),n=new ks;return Object.assign(n,t),n})}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Rc(this.apiClient,e);return n=G(`batchPredictionJobs/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>Bc(e))}else{let i=Lc(this.apiClient,e);return n=G(`batches/{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>zc(e))}}};function hl(e){let t={},n=q(e,[`data`]);if(n!=null&&K(t,[`data`],n),q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function gl(e){let t={},n=q(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Ll(e))),K(t,[`parts`],e)}let r=q(e,[`role`]);return r!=null&&K(t,[`role`],r),t}function _l(e,t){let n={},r=q(e,[`ttl`]);t!==void 0&&r!=null&&K(t,[`ttl`],r);let i=q(e,[`expireTime`]);t!==void 0&&i!=null&&K(t,[`expireTime`],i);let a=q(e,[`displayName`]);t!==void 0&&a!=null&&K(t,[`displayName`],a);let o=q(e,[`contents`]);if(t!==void 0&&o!=null){let e=Gs(o);Array.isArray(e)&&(e=e.map(e=>gl(e))),K(t,[`contents`],e)}let s=q(e,[`systemInstruction`]);t!==void 0&&s!=null&&K(t,[`systemInstruction`],gl(Us(s)));let c=q(e,[`tools`]);if(t!==void 0&&c!=null){let e=c;Array.isArray(e)&&(e=e.map(e=>zl(e))),K(t,[`tools`],e)}let l=q(e,[`toolConfig`]);if(t!==void 0&&l!=null&&K(t,[`toolConfig`],Rl(l)),q(e,[`kmsKeyName`])!==void 0)throw Error(`kmsKeyName parameter is not supported in Gemini API.`);return n}function vl(e,t){let n={},r=q(e,[`ttl`]);t!==void 0&&r!=null&&K(t,[`ttl`],r);let i=q(e,[`expireTime`]);t!==void 0&&i!=null&&K(t,[`expireTime`],i);let a=q(e,[`displayName`]);t!==void 0&&a!=null&&K(t,[`displayName`],a);let o=q(e,[`contents`]);if(t!==void 0&&o!=null){let e=Gs(o);Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`contents`],e)}let s=q(e,[`systemInstruction`]);t!==void 0&&s!=null&&K(t,[`systemInstruction`],Us(s));let c=q(e,[`tools`]);if(t!==void 0&&c!=null){let e=c;Array.isArray(e)&&(e=e.map(e=>Bl(e))),K(t,[`tools`],e)}let l=q(e,[`toolConfig`]);t!==void 0&&l!=null&&K(t,[`toolConfig`],l);let u=q(e,[`kmsKeyName`]);return t!==void 0&&u!=null&&K(t,[`encryption_spec`,`kmsKeyName`],u),n}function yl(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`model`],Ns(e,r));let i=q(t,[`config`]);return i!=null&&_l(i,n),n}function bl(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`model`],Ns(e,r));let i=q(t,[`config`]);return i!=null&&vl(i,n),n}function xl(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],ec(e,r)),n}function Sl(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],ec(e,r)),n}function Cl(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}function wl(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}function Tl(e){let t={};if(q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=q(e,[`fileUri`]);n!=null&&K(t,[`fileUri`],n);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function El(e){let t={},n=q(e,[`id`]);n!=null&&K(t,[`id`],n);let r=q(e,[`args`]);r!=null&&K(t,[`args`],r);let i=q(e,[`name`]);if(i!=null&&K(t,[`name`],i),q(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(q(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function Dl(e){let t={},n=q(e,[`allowedFunctionNames`]);n!=null&&K(t,[`allowedFunctionNames`],n);let r=q(e,[`mode`]);if(r!=null&&K(t,[`mode`],r),q(e,[`streamFunctionCallArguments`])!==void 0)throw Error(`streamFunctionCallArguments parameter is not supported in Gemini API.`);return t}function Ol(e){let t={},n=q(e,[`description`]);n!=null&&K(t,[`description`],n);let r=q(e,[`name`]);r!=null&&K(t,[`name`],r);let i=q(e,[`parameters`]);i!=null&&K(t,[`parameters`],i);let a=q(e,[`parametersJsonSchema`]);a!=null&&K(t,[`parametersJsonSchema`],a);let o=q(e,[`response`]);o!=null&&K(t,[`response`],o);let s=q(e,[`responseJsonSchema`]);if(s!=null&&K(t,[`responseJsonSchema`],s),q(e,[`behavior`])!==void 0)throw Error(`behavior parameter is not supported in Vertex AI.`);return t}function kl(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],ec(e,r)),n}function Al(e,t){let n={},r=q(t,[`name`]);return r!=null&&K(n,[`_url`,`name`],ec(e,r)),n}function jl(e){let t={};if(q(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=q(e,[`enableWidget`]);return n!=null&&K(t,[`enableWidget`],n),t}function Ml(e){let t={};if(q(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(q(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=q(e,[`timeRangeFilter`]);return n!=null&&K(t,[`timeRangeFilter`],n),t}function Nl(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);return t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i),n}function Pl(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);return t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i),n}function Fl(e){let t={},n=q(e,[`config`]);return n!=null&&Nl(n,t),t}function Il(e){let t={},n=q(e,[`config`]);return n!=null&&Pl(n,t),t}function X(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`cachedContents`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`cachedContents`],e)}return t}function Z(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`cachedContents`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`cachedContents`],e)}return t}function Ll(e){let t={},n=q(e,[`mediaResolution`]);n!=null&&K(t,[`mediaResolution`],n);let r=q(e,[`codeExecutionResult`]);r!=null&&K(t,[`codeExecutionResult`],r);let i=q(e,[`executableCode`]);i!=null&&K(t,[`executableCode`],i);let a=q(e,[`fileData`]);a!=null&&K(t,[`fileData`],Tl(a));let o=q(e,[`functionCall`]);o!=null&&K(t,[`functionCall`],El(o));let s=q(e,[`functionResponse`]);s!=null&&K(t,[`functionResponse`],s);let c=q(e,[`inlineData`]);c!=null&&K(t,[`inlineData`],hl(c));let l=q(e,[`text`]);l!=null&&K(t,[`text`],l);let u=q(e,[`thought`]);u!=null&&K(t,[`thought`],u);let d=q(e,[`thoughtSignature`]);d!=null&&K(t,[`thoughtSignature`],d);let f=q(e,[`videoMetadata`]);return f!=null&&K(t,[`videoMetadata`],f),t}function Rl(e){let t={},n=q(e,[`retrievalConfig`]);n!=null&&K(t,[`retrievalConfig`],n);let r=q(e,[`functionCallingConfig`]);return r!=null&&K(t,[`functionCallingConfig`],Dl(r)),t}function zl(e){let t={};if(q(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let n=q(e,[`computerUse`]);n!=null&&K(t,[`computerUse`],n);let r=q(e,[`fileSearch`]);r!=null&&K(t,[`fileSearch`],r);let i=q(e,[`codeExecution`]);if(i!=null&&K(t,[`codeExecution`],i),q(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let a=q(e,[`functionDeclarations`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`functionDeclarations`],e)}let o=q(e,[`googleMaps`]);o!=null&&K(t,[`googleMaps`],jl(o));let s=q(e,[`googleSearch`]);s!=null&&K(t,[`googleSearch`],Ml(s));let c=q(e,[`googleSearchRetrieval`]);c!=null&&K(t,[`googleSearchRetrieval`],c);let l=q(e,[`urlContext`]);return l!=null&&K(t,[`urlContext`],l),t}function Bl(e){let t={},n=q(e,[`retrieval`]);n!=null&&K(t,[`retrieval`],n);let r=q(e,[`computerUse`]);if(r!=null&&K(t,[`computerUse`],r),q(e,[`fileSearch`])!==void 0)throw Error(`fileSearch parameter is not supported in Vertex AI.`);let i=q(e,[`codeExecution`]);i!=null&&K(t,[`codeExecution`],i);let a=q(e,[`enterpriseWebSearch`]);a!=null&&K(t,[`enterpriseWebSearch`],a);let o=q(e,[`functionDeclarations`]);if(o!=null){let e=o;Array.isArray(e)&&(e=e.map(e=>Ol(e))),K(t,[`functionDeclarations`],e)}let s=q(e,[`googleMaps`]);s!=null&&K(t,[`googleMaps`],s);let c=q(e,[`googleSearch`]);c!=null&&K(t,[`googleSearch`],c);let l=q(e,[`googleSearchRetrieval`]);l!=null&&K(t,[`googleSearchRetrieval`],l);let u=q(e,[`urlContext`]);return u!=null&&K(t,[`urlContext`],u),t}function Vl(e,t){let n={},r=q(e,[`ttl`]);t!==void 0&&r!=null&&K(t,[`ttl`],r);let i=q(e,[`expireTime`]);return t!==void 0&&i!=null&&K(t,[`expireTime`],i),n}function Hl(e,t){let n={},r=q(e,[`ttl`]);t!==void 0&&r!=null&&K(t,[`ttl`],r);let i=q(e,[`expireTime`]);return t!==void 0&&i!=null&&K(t,[`expireTime`],i),n}function Ul(e,t){let n={},r=q(t,[`name`]);r!=null&&K(n,[`_url`,`name`],ec(e,r));let i=q(t,[`config`]);return i!=null&&Vl(i,n),n}function Wl(e,t){let n={},r=q(t,[`name`]);r!=null&&K(n,[`_url`,`name`],ec(e,r));let i=q(t,[`config`]);return i!=null&&Hl(i,n),n}var Gl=class extends La{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pl(fl.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=bl(this.apiClient,e);return n=G(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}else{let i=yl(this.apiClient,e);return n=G(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Al(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}else{let i=kl(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Sl(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=wl(e),n=new bs;return Object.assign(n,t),n})}else{let i=xl(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Cl(e),n=new bs;return Object.assign(n,t),n})}}async update(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Wl(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}else{let i=Ul(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Il(e);return n=G(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Z(e),n=new xs;return Object.assign(n,t),n})}else{let i=Fl(e);return n=G(`cachedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=X(e),n=new xs;return Object.assign(n,t),n})}}};function Kl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ql(e){var t=typeof Symbol==`function`&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length==`number`)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?`Object is not iterable.`:`Symbol.iterator is not defined.`)}function Q(e){return this instanceof Q?(this.v=e,this):new Q(e)}function Jl(e,t,n){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator==`function`?AsyncIterator:Object).prototype),s(`next`),s(`throw`),s(`return`,o),i[Symbol.asyncIterator]=function(){return this},i;function o(e){return function(t){return Promise.resolve(t).then(e,d)}}function s(e,t){r[e]&&(i[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||c(e,t)})},t&&(i[e]=t(i[e])))}function c(e,t){try{l(r[e](t))}catch(e){f(a[0][3],e)}}function l(e){e.value instanceof Q?Promise.resolve(e.value.v).then(u,d):f(a[0][2],e)}function u(e){c(`next`,e)}function d(e){c(`throw`,e)}function f(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function Yl(e){if(!Symbol.asyncIterator)throw TypeError(`Symbol.asyncIterator is not defined.`);var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ql==`function`?ql(e):e[Symbol.iterator](),n={},r(`next`),r(`throw`),r(`return`),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise(function(r,a){n=e[t](n),i(r,a,n.done,n.value)})}}function i(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}}function Xl(e){if(e.candidates==null||e.candidates.length===0)return!1;let t=e.candidates[0]?.content;return t===void 0?!1:Zl(t)}function Zl(e){if(e.parts===void 0||e.parts.length===0)return!1;for(let t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Ql(e){if(e.length!==0){for(let t of e)if(t.role!==`user`&&t.role!==`model`)throw Error(`Role must be user or model, but got ${t.role}.`)}}function $l(e){if(e===void 0||e.length===0)return[];let t=[],n=e.length,r=0;for(;r<n;)if(e[r].role===`user`)t.push(e[r]),r++;else{let i=[],a=!0;for(;r<n&&e[r].role===`model`;)i.push(e[r]),a&&!Zl(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}var eu=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new tu(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},tu=class{constructor(e,t,n,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),Ql(i)}async sendMessage(e){await this.sendPromise;let t=Us(e.message),n=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(t),config:e.config??this.config});return this.sendPromise=(async()=>{let e=await n,r=e.candidates?.[0]?.content,i=e.automaticFunctionCallingHistory,a=this.getHistory(!0).length,o=[];i!=null&&(o=i.slice(a)??[]);let s=r?[r]:[];this.recordHistory(t,s,o)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),n}async sendMessageStream(e){await this.sendPromise;let t=Us(e.message),n=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(t),config:e.config??this.config});this.sendPromise=n.then(()=>void 0).catch(()=>void 0);let r=await n;return this.processStreamResponse(r,t)}getHistory(e=!1){let t=e?$l(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return Jl(this,arguments,function*(){var n,r,i,a;let o=[];try{for(var s=!0,c=Yl(e),l;l=yield Q(c.next()),n=l.done,!n;s=!0){a=l.value,s=!1;let e=a;if(Xl(e)){let t=e.candidates?.[0]?.content;t!==void 0&&o.push(t)}yield yield Q(e)}}catch(e){r={error:e}}finally{try{!s&&!n&&(i=c.return)&&(yield Q(i.call(c)))}finally{if(r)throw r.error}}this.recordHistory(t,o)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>e.role!==void 0)?r=t:r.push({role:`model`,parts:[]}),n&&n.length>0?this.history.push(...$l(n)):this.history.push(e),this.history.push(...r)}},nu=class e extends Error{constructor(t){super(t.message),this.name=`ApiError`,this.status=t.status,Object.setPrototypeOf(this,e.prototype)}};function ru(e){let t={},n=q(e,[`file`]);return n!=null&&K(t,[`file`],n),t}function iu(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}function au(e){let t={},n=q(e,[`name`]);return n!=null&&K(t,[`_url`,`file`],oc(n)),t}function ou(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}function su(e){let t={},n=q(e,[`name`]);return n!=null&&K(t,[`_url`,`file`],oc(n)),t}function cu(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);return t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i),n}function lu(e){let t={},n=q(e,[`config`]);return n!=null&&cu(n,t),t}function uu(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`files`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`files`],e)}return t}var du=class extends La{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pl(fl.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw Error(`Vertex AI does not support uploading files. You can share files through a GCS bucket.`);return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=lu(e);return n=G(`files`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=uu(e),n=new Es;return Object.assign(n,t),n})}}async createInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=ru(e);return n=G(`upload/v1beta/files`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=iu(e),n=new Ds;return Object.assign(n,t),n})}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=su(e);return n=G(`files/{file}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=au(e);return n=G(`files/{file}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ou(e),n=new Os;return Object.assign(n,t),n})}}};function fu(e){let t={},n=q(e,[`data`]);if(n!=null&&K(t,[`data`],n),q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function pu(e){let t={},n=q(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>ku(e))),K(t,[`parts`],e)}let r=q(e,[`role`]);return r!=null&&K(t,[`role`],r),t}function mu(e){let t={};if(q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=q(e,[`fileUri`]);n!=null&&K(t,[`fileUri`],n);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function hu(e){let t={},n=q(e,[`id`]);n!=null&&K(t,[`id`],n);let r=q(e,[`args`]);r!=null&&K(t,[`args`],r);let i=q(e,[`name`]);if(i!=null&&K(t,[`name`],i),q(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(q(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function gu(e){let t={},n=q(e,[`description`]);n!=null&&K(t,[`description`],n);let r=q(e,[`name`]);r!=null&&K(t,[`name`],r);let i=q(e,[`parameters`]);i!=null&&K(t,[`parameters`],i);let a=q(e,[`parametersJsonSchema`]);a!=null&&K(t,[`parametersJsonSchema`],a);let o=q(e,[`response`]);o!=null&&K(t,[`response`],o);let s=q(e,[`responseJsonSchema`]);if(s!=null&&K(t,[`responseJsonSchema`],s),q(e,[`behavior`])!==void 0)throw Error(`behavior parameter is not supported in Vertex AI.`);return t}function _u(e){let t={},n=q(e,[`modelSelectionConfig`]);n!=null&&K(t,[`modelConfig`],n);let r=q(e,[`responseJsonSchema`]);r!=null&&K(t,[`responseJsonSchema`],r);let i=q(e,[`audioTimestamp`]);i!=null&&K(t,[`audioTimestamp`],i);let a=q(e,[`candidateCount`]);a!=null&&K(t,[`candidateCount`],a);let o=q(e,[`enableAffectiveDialog`]);o!=null&&K(t,[`enableAffectiveDialog`],o);let s=q(e,[`frequencyPenalty`]);s!=null&&K(t,[`frequencyPenalty`],s);let c=q(e,[`logprobs`]);c!=null&&K(t,[`logprobs`],c);let l=q(e,[`maxOutputTokens`]);l!=null&&K(t,[`maxOutputTokens`],l);let u=q(e,[`mediaResolution`]);u!=null&&K(t,[`mediaResolution`],u);let d=q(e,[`presencePenalty`]);d!=null&&K(t,[`presencePenalty`],d);let f=q(e,[`responseLogprobs`]);f!=null&&K(t,[`responseLogprobs`],f);let p=q(e,[`responseMimeType`]);p!=null&&K(t,[`responseMimeType`],p);let m=q(e,[`responseModalities`]);m!=null&&K(t,[`responseModalities`],m);let h=q(e,[`responseSchema`]);h!=null&&K(t,[`responseSchema`],h);let g=q(e,[`routingConfig`]);g!=null&&K(t,[`routingConfig`],g);let _=q(e,[`seed`]);_!=null&&K(t,[`seed`],_);let v=q(e,[`speechConfig`]);v!=null&&K(t,[`speechConfig`],v);let y=q(e,[`stopSequences`]);y!=null&&K(t,[`stopSequences`],y);let b=q(e,[`temperature`]);b!=null&&K(t,[`temperature`],b);let x=q(e,[`thinkingConfig`]);x!=null&&K(t,[`thinkingConfig`],x);let S=q(e,[`topK`]);S!=null&&K(t,[`topK`],S);let C=q(e,[`topP`]);if(C!=null&&K(t,[`topP`],C),q(e,[`enableEnhancedCivicAnswers`])!==void 0)throw Error(`enableEnhancedCivicAnswers parameter is not supported in Vertex AI.`);return t}function vu(e){let t={};if(q(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=q(e,[`enableWidget`]);return n!=null&&K(t,[`enableWidget`],n),t}function yu(e){let t={};if(q(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(q(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=q(e,[`timeRangeFilter`]);return n!=null&&K(t,[`timeRangeFilter`],n),t}function bu(e,t){let n={},r=q(e,[`generationConfig`]);t!==void 0&&r!=null&&K(t,[`setup`,`generationConfig`],r);let i=q(e,[`responseModalities`]);t!==void 0&&i!=null&&K(t,[`setup`,`generationConfig`,`responseModalities`],i);let a=q(e,[`temperature`]);t!==void 0&&a!=null&&K(t,[`setup`,`generationConfig`,`temperature`],a);let o=q(e,[`topP`]);t!==void 0&&o!=null&&K(t,[`setup`,`generationConfig`,`topP`],o);let s=q(e,[`topK`]);t!==void 0&&s!=null&&K(t,[`setup`,`generationConfig`,`topK`],s);let c=q(e,[`maxOutputTokens`]);t!==void 0&&c!=null&&K(t,[`setup`,`generationConfig`,`maxOutputTokens`],c);let l=q(e,[`mediaResolution`]);t!==void 0&&l!=null&&K(t,[`setup`,`generationConfig`,`mediaResolution`],l);let u=q(e,[`seed`]);t!==void 0&&u!=null&&K(t,[`setup`,`generationConfig`,`seed`],u);let d=q(e,[`speechConfig`]);t!==void 0&&d!=null&&K(t,[`setup`,`generationConfig`,`speechConfig`],Xs(d));let f=q(e,[`thinkingConfig`]);t!==void 0&&f!=null&&K(t,[`setup`,`generationConfig`,`thinkingConfig`],f);let p=q(e,[`enableAffectiveDialog`]);t!==void 0&&p!=null&&K(t,[`setup`,`generationConfig`,`enableAffectiveDialog`],p);let m=q(e,[`systemInstruction`]);t!==void 0&&m!=null&&K(t,[`setup`,`systemInstruction`],pu(Us(m)));let h=q(e,[`tools`]);if(t!==void 0&&h!=null){let e=Qs(h);Array.isArray(e)&&(e=e.map(e=>ju(Zs(e)))),K(t,[`setup`,`tools`],e)}let g=q(e,[`sessionResumption`]);t!==void 0&&g!=null&&K(t,[`setup`,`sessionResumption`],Au(g));let _=q(e,[`inputAudioTranscription`]);t!==void 0&&_!=null&&K(t,[`setup`,`inputAudioTranscription`],_);let v=q(e,[`outputAudioTranscription`]);t!==void 0&&v!=null&&K(t,[`setup`,`outputAudioTranscription`],v);let y=q(e,[`realtimeInputConfig`]);t!==void 0&&y!=null&&K(t,[`setup`,`realtimeInputConfig`],y);let b=q(e,[`contextWindowCompression`]);t!==void 0&&b!=null&&K(t,[`setup`,`contextWindowCompression`],b);let x=q(e,[`proactivity`]);if(t!==void 0&&x!=null&&K(t,[`setup`,`proactivity`],x),q(e,[`explicitVadSignal`])!==void 0)throw Error(`explicitVadSignal parameter is not supported in Gemini API.`);return n}function xu(e,t){let n={},r=q(e,[`generationConfig`]);t!==void 0&&r!=null&&K(t,[`setup`,`generationConfig`],_u(r));let i=q(e,[`responseModalities`]);t!==void 0&&i!=null&&K(t,[`setup`,`generationConfig`,`responseModalities`],i);let a=q(e,[`temperature`]);t!==void 0&&a!=null&&K(t,[`setup`,`generationConfig`,`temperature`],a);let o=q(e,[`topP`]);t!==void 0&&o!=null&&K(t,[`setup`,`generationConfig`,`topP`],o);let s=q(e,[`topK`]);t!==void 0&&s!=null&&K(t,[`setup`,`generationConfig`,`topK`],s);let c=q(e,[`maxOutputTokens`]);t!==void 0&&c!=null&&K(t,[`setup`,`generationConfig`,`maxOutputTokens`],c);let l=q(e,[`mediaResolution`]);t!==void 0&&l!=null&&K(t,[`setup`,`generationConfig`,`mediaResolution`],l);let u=q(e,[`seed`]);t!==void 0&&u!=null&&K(t,[`setup`,`generationConfig`,`seed`],u);let d=q(e,[`speechConfig`]);t!==void 0&&d!=null&&K(t,[`setup`,`generationConfig`,`speechConfig`],Xs(d));let f=q(e,[`thinkingConfig`]);t!==void 0&&f!=null&&K(t,[`setup`,`generationConfig`,`thinkingConfig`],f);let p=q(e,[`enableAffectiveDialog`]);t!==void 0&&p!=null&&K(t,[`setup`,`generationConfig`,`enableAffectiveDialog`],p);let m=q(e,[`systemInstruction`]);t!==void 0&&m!=null&&K(t,[`setup`,`systemInstruction`],Us(m));let h=q(e,[`tools`]);if(t!==void 0&&h!=null){let e=Qs(h);Array.isArray(e)&&(e=e.map(e=>Mu(Zs(e)))),K(t,[`setup`,`tools`],e)}let g=q(e,[`sessionResumption`]);t!==void 0&&g!=null&&K(t,[`setup`,`sessionResumption`],g);let _=q(e,[`inputAudioTranscription`]);t!==void 0&&_!=null&&K(t,[`setup`,`inputAudioTranscription`],_);let v=q(e,[`outputAudioTranscription`]);t!==void 0&&v!=null&&K(t,[`setup`,`outputAudioTranscription`],v);let y=q(e,[`realtimeInputConfig`]);t!==void 0&&y!=null&&K(t,[`setup`,`realtimeInputConfig`],y);let b=q(e,[`contextWindowCompression`]);t!==void 0&&b!=null&&K(t,[`setup`,`contextWindowCompression`],b);let x=q(e,[`proactivity`]);t!==void 0&&x!=null&&K(t,[`setup`,`proactivity`],x);let S=q(e,[`explicitVadSignal`]);return t!==void 0&&S!=null&&K(t,[`setup`,`explicitVadSignal`],S),n}function Su(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`setup`,`model`],Y(e,r));let i=q(t,[`config`]);return i!=null&&K(n,[`config`],bu(i,n)),n}function Cu(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`setup`,`model`],Y(e,r));let i=q(t,[`config`]);return i!=null&&K(n,[`config`],xu(i,n)),n}function wu(e){let t={},n=q(e,[`musicGenerationConfig`]);return n!=null&&K(t,[`musicGenerationConfig`],n),t}function Tu(e){let t={},n=q(e,[`weightedPrompts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`weightedPrompts`],e)}return t}function Eu(e){let t={},n=q(e,[`media`]);if(n!=null){let e=Ps(n);Array.isArray(e)&&(e=e.map(e=>fu(e))),K(t,[`mediaChunks`],e)}let r=q(e,[`audio`]);r!=null&&K(t,[`audio`],fu(Ls(r)));let i=q(e,[`audioStreamEnd`]);i!=null&&K(t,[`audioStreamEnd`],i);let a=q(e,[`video`]);a!=null&&K(t,[`video`],fu(Is(a)));let o=q(e,[`text`]);o!=null&&K(t,[`text`],o);let s=q(e,[`activityStart`]);s!=null&&K(t,[`activityStart`],s);let c=q(e,[`activityEnd`]);return c!=null&&K(t,[`activityEnd`],c),t}function Du(e){let t={},n=q(e,[`media`]);if(n!=null){let e=Ps(n);Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`mediaChunks`],e)}let r=q(e,[`audio`]);r!=null&&K(t,[`audio`],Ls(r));let i=q(e,[`audioStreamEnd`]);i!=null&&K(t,[`audioStreamEnd`],i);let a=q(e,[`video`]);a!=null&&K(t,[`video`],Is(a));let o=q(e,[`text`]);o!=null&&K(t,[`text`],o);let s=q(e,[`activityStart`]);s!=null&&K(t,[`activityStart`],s);let c=q(e,[`activityEnd`]);return c!=null&&K(t,[`activityEnd`],c),t}function Ou(e){let t={},n=q(e,[`setupComplete`]);n!=null&&K(t,[`setupComplete`],n);let r=q(e,[`serverContent`]);r!=null&&K(t,[`serverContent`],r);let i=q(e,[`toolCall`]);i!=null&&K(t,[`toolCall`],i);let a=q(e,[`toolCallCancellation`]);a!=null&&K(t,[`toolCallCancellation`],a);let o=q(e,[`usageMetadata`]);o!=null&&K(t,[`usageMetadata`],Nu(o));let s=q(e,[`goAway`]);s!=null&&K(t,[`goAway`],s);let c=q(e,[`sessionResumptionUpdate`]);c!=null&&K(t,[`sessionResumptionUpdate`],c);let l=q(e,[`voiceActivityDetectionSignal`]);l!=null&&K(t,[`voiceActivityDetectionSignal`],l);let u=q(e,[`voiceActivity`]);return u!=null&&K(t,[`voiceActivity`],Pu(u)),t}function ku(e){let t={},n=q(e,[`mediaResolution`]);n!=null&&K(t,[`mediaResolution`],n);let r=q(e,[`codeExecutionResult`]);r!=null&&K(t,[`codeExecutionResult`],r);let i=q(e,[`executableCode`]);i!=null&&K(t,[`executableCode`],i);let a=q(e,[`fileData`]);a!=null&&K(t,[`fileData`],mu(a));let o=q(e,[`functionCall`]);o!=null&&K(t,[`functionCall`],hu(o));let s=q(e,[`functionResponse`]);s!=null&&K(t,[`functionResponse`],s);let c=q(e,[`inlineData`]);c!=null&&K(t,[`inlineData`],fu(c));let l=q(e,[`text`]);l!=null&&K(t,[`text`],l);let u=q(e,[`thought`]);u!=null&&K(t,[`thought`],u);let d=q(e,[`thoughtSignature`]);d!=null&&K(t,[`thoughtSignature`],d);let f=q(e,[`videoMetadata`]);return f!=null&&K(t,[`videoMetadata`],f),t}function Au(e){let t={},n=q(e,[`handle`]);if(n!=null&&K(t,[`handle`],n),q(e,[`transparent`])!==void 0)throw Error(`transparent parameter is not supported in Gemini API.`);return t}function ju(e){let t={};if(q(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let n=q(e,[`computerUse`]);n!=null&&K(t,[`computerUse`],n);let r=q(e,[`fileSearch`]);r!=null&&K(t,[`fileSearch`],r);let i=q(e,[`codeExecution`]);if(i!=null&&K(t,[`codeExecution`],i),q(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let a=q(e,[`functionDeclarations`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`functionDeclarations`],e)}let o=q(e,[`googleMaps`]);o!=null&&K(t,[`googleMaps`],vu(o));let s=q(e,[`googleSearch`]);s!=null&&K(t,[`googleSearch`],yu(s));let c=q(e,[`googleSearchRetrieval`]);c!=null&&K(t,[`googleSearchRetrieval`],c);let l=q(e,[`urlContext`]);return l!=null&&K(t,[`urlContext`],l),t}function Mu(e){let t={},n=q(e,[`retrieval`]);n!=null&&K(t,[`retrieval`],n);let r=q(e,[`computerUse`]);if(r!=null&&K(t,[`computerUse`],r),q(e,[`fileSearch`])!==void 0)throw Error(`fileSearch parameter is not supported in Vertex AI.`);let i=q(e,[`codeExecution`]);i!=null&&K(t,[`codeExecution`],i);let a=q(e,[`enterpriseWebSearch`]);a!=null&&K(t,[`enterpriseWebSearch`],a);let o=q(e,[`functionDeclarations`]);if(o!=null){let e=o;Array.isArray(e)&&(e=e.map(e=>gu(e))),K(t,[`functionDeclarations`],e)}let s=q(e,[`googleMaps`]);s!=null&&K(t,[`googleMaps`],s);let c=q(e,[`googleSearch`]);c!=null&&K(t,[`googleSearch`],c);let l=q(e,[`googleSearchRetrieval`]);l!=null&&K(t,[`googleSearchRetrieval`],l);let u=q(e,[`urlContext`]);return u!=null&&K(t,[`urlContext`],u),t}function Nu(e){let t={},n=q(e,[`promptTokenCount`]);n!=null&&K(t,[`promptTokenCount`],n);let r=q(e,[`cachedContentTokenCount`]);r!=null&&K(t,[`cachedContentTokenCount`],r);let i=q(e,[`candidatesTokenCount`]);i!=null&&K(t,[`responseTokenCount`],i);let a=q(e,[`toolUsePromptTokenCount`]);a!=null&&K(t,[`toolUsePromptTokenCount`],a);let o=q(e,[`thoughtsTokenCount`]);o!=null&&K(t,[`thoughtsTokenCount`],o);let s=q(e,[`totalTokenCount`]);s!=null&&K(t,[`totalTokenCount`],s);let c=q(e,[`promptTokensDetails`]);if(c!=null){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`promptTokensDetails`],e)}let l=q(e,[`cacheTokensDetails`]);if(l!=null){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`cacheTokensDetails`],e)}let u=q(e,[`candidatesTokensDetails`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`responseTokensDetails`],e)}let d=q(e,[`toolUsePromptTokensDetails`]);if(d!=null){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`toolUsePromptTokensDetails`],e)}let f=q(e,[`trafficType`]);return f!=null&&K(t,[`trafficType`],f),t}function Pu(e){let t={},n=q(e,[`type`]);return n!=null&&K(t,[`voiceActivityType`],n),t}function Fu(e){let t={},n=q(e,[`data`]);if(n!=null&&K(t,[`data`],n),q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Iu(e){let t={},n=q(e,[`content`]);n!=null&&K(t,[`content`],n);let r=q(e,[`citationMetadata`]);r!=null&&K(t,[`citationMetadata`],Lu(r));let i=q(e,[`tokenCount`]);i!=null&&K(t,[`tokenCount`],i);let a=q(e,[`finishReason`]);a!=null&&K(t,[`finishReason`],a);let o=q(e,[`avgLogprobs`]);o!=null&&K(t,[`avgLogprobs`],o);let s=q(e,[`groundingMetadata`]);s!=null&&K(t,[`groundingMetadata`],s);let c=q(e,[`index`]);c!=null&&K(t,[`index`],c);let l=q(e,[`logprobsResult`]);l!=null&&K(t,[`logprobsResult`],l);let u=q(e,[`safetyRatings`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`safetyRatings`],e)}let d=q(e,[`urlContextMetadata`]);return d!=null&&K(t,[`urlContextMetadata`],d),t}function Lu(e){let t={},n=q(e,[`citationSources`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`citations`],e)}return t}function Ru(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let e=Gs(i);Array.isArray(e)&&(e=e.map(e=>e)),K(n,[`contents`],e)}return n}function zu(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`tokensInfo`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`tokensInfo`],e)}return t}function Bu(e){let t={},n=q(e,[`values`]);n!=null&&K(t,[`values`],n);let r=q(e,[`statistics`]);return r!=null&&K(t,[`statistics`],Vu(r)),t}function Vu(e){let t={},n=q(e,[`truncated`]);n!=null&&K(t,[`truncated`],n);let r=q(e,[`token_count`]);return r!=null&&K(t,[`tokenCount`],r),t}function Hu(e){let t={},n=q(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>sf(e))),K(t,[`parts`],e)}let r=q(e,[`role`]);return r!=null&&K(t,[`role`],r),t}function Uu(e){let t={},n=q(e,[`controlType`]);n!=null&&K(t,[`controlType`],n);let r=q(e,[`enableControlImageComputation`]);return r!=null&&K(t,[`computeControl`],r),t}function Wu(e){let t={};if(q(e,[`systemInstruction`])!==void 0)throw Error(`systemInstruction parameter is not supported in Gemini API.`);if(q(e,[`tools`])!==void 0)throw Error(`tools parameter is not supported in Gemini API.`);if(q(e,[`generationConfig`])!==void 0)throw Error(`generationConfig parameter is not supported in Gemini API.`);return t}function Gu(e,t){let n={},r=q(e,[`systemInstruction`]);t!==void 0&&r!=null&&K(t,[`systemInstruction`],Us(r));let i=q(e,[`tools`]);if(t!==void 0&&i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>wf(e))),K(t,[`tools`],e)}let a=q(e,[`generationConfig`]);return t!==void 0&&a!=null&&K(t,[`generationConfig`],Bd(a)),n}function Ku(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let e=Gs(i);Array.isArray(e)&&(e=e.map(e=>Hu(e))),K(n,[`contents`],e)}let a=q(t,[`config`]);return a!=null&&Wu(a),n}function qu(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let e=Gs(i);Array.isArray(e)&&(e=e.map(e=>e)),K(n,[`contents`],e)}let a=q(t,[`config`]);return a!=null&&Gu(a,n),n}function Ju(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`totalTokens`]);r!=null&&K(t,[`totalTokens`],r);let i=q(e,[`cachedContentTokenCount`]);return i!=null&&K(t,[`cachedContentTokenCount`],i),t}function Yu(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`totalTokens`]);return r!=null&&K(t,[`totalTokens`],r),t}function Xu(e,t){let n={},r=q(t,[`model`]);return r!=null&&K(n,[`_url`,`name`],Y(e,r)),n}function Zu(e,t){let n={},r=q(t,[`model`]);return r!=null&&K(n,[`_url`,`name`],Y(e,r)),n}function Qu(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}function $u(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}function ed(e,t){let n={},r=q(e,[`outputGcsUri`]);t!==void 0&&r!=null&&K(t,[`parameters`,`storageUri`],r);let i=q(e,[`negativePrompt`]);t!==void 0&&i!=null&&K(t,[`parameters`,`negativePrompt`],i);let a=q(e,[`numberOfImages`]);t!==void 0&&a!=null&&K(t,[`parameters`,`sampleCount`],a);let o=q(e,[`aspectRatio`]);t!==void 0&&o!=null&&K(t,[`parameters`,`aspectRatio`],o);let s=q(e,[`guidanceScale`]);t!==void 0&&s!=null&&K(t,[`parameters`,`guidanceScale`],s);let c=q(e,[`seed`]);t!==void 0&&c!=null&&K(t,[`parameters`,`seed`],c);let l=q(e,[`safetyFilterLevel`]);t!==void 0&&l!=null&&K(t,[`parameters`,`safetySetting`],l);let u=q(e,[`personGeneration`]);t!==void 0&&u!=null&&K(t,[`parameters`,`personGeneration`],u);let d=q(e,[`includeSafetyAttributes`]);t!==void 0&&d!=null&&K(t,[`parameters`,`includeSafetyAttributes`],d);let f=q(e,[`includeRaiReason`]);t!==void 0&&f!=null&&K(t,[`parameters`,`includeRaiReason`],f);let p=q(e,[`language`]);t!==void 0&&p!=null&&K(t,[`parameters`,`language`],p);let m=q(e,[`outputMimeType`]);t!==void 0&&m!=null&&K(t,[`parameters`,`outputOptions`,`mimeType`],m);let h=q(e,[`outputCompressionQuality`]);t!==void 0&&h!=null&&K(t,[`parameters`,`outputOptions`,`compressionQuality`],h);let g=q(e,[`addWatermark`]);t!==void 0&&g!=null&&K(t,[`parameters`,`addWatermark`],g);let _=q(e,[`labels`]);t!==void 0&&_!=null&&K(t,[`labels`],_);let v=q(e,[`editMode`]);t!==void 0&&v!=null&&K(t,[`parameters`,`editMode`],v);let y=q(e,[`baseSteps`]);return t!==void 0&&y!=null&&K(t,[`parameters`,`editConfig`,`baseSteps`],y),n}function td(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`prompt`]);i!=null&&K(n,[`instances[0]`,`prompt`],i);let a=q(t,[`referenceImages`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>pf(e))),K(n,[`instances[0]`,`referenceImages`],e)}let o=q(t,[`config`]);return o!=null&&ed(o,n),n}function nd(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Id(e))),K(t,[`generatedImages`],e)}return t}function rd(e,t){let n={},r=q(e,[`taskType`]);t!==void 0&&r!=null&&K(t,[`requests[]`,`taskType`],r);let i=q(e,[`title`]);t!==void 0&&i!=null&&K(t,[`requests[]`,`title`],i);let a=q(e,[`outputDimensionality`]);if(t!==void 0&&a!=null&&K(t,[`requests[]`,`outputDimensionality`],a),q(e,[`mimeType`])!==void 0)throw Error(`mimeType parameter is not supported in Gemini API.`);if(q(e,[`autoTruncate`])!==void 0)throw Error(`autoTruncate parameter is not supported in Gemini API.`);return n}function id(e,t){let n={},r=q(e,[`taskType`]);t!==void 0&&r!=null&&K(t,[`instances[]`,`task_type`],r);let i=q(e,[`title`]);t!==void 0&&i!=null&&K(t,[`instances[]`,`title`],i);let a=q(e,[`outputDimensionality`]);t!==void 0&&a!=null&&K(t,[`parameters`,`outputDimensionality`],a);let o=q(e,[`mimeType`]);t!==void 0&&o!=null&&K(t,[`instances[]`,`mimeType`],o);let s=q(e,[`autoTruncate`]);return t!==void 0&&s!=null&&K(t,[`parameters`,`autoTruncate`],s),n}function ad(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let t=Ws(e,i);Array.isArray(t)&&(t=t.map(e=>e)),K(n,[`requests[]`,`content`],t)}let a=q(t,[`config`]);a!=null&&rd(a,n);let o=q(t,[`model`]);return o!==void 0&&K(n,[`requests[]`,`model`],Y(e,o)),n}function od(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let t=Ws(e,i);Array.isArray(t)&&(t=t.map(e=>e)),K(n,[`instances[]`,`content`],t)}let a=q(t,[`config`]);return a!=null&&id(a,n),n}function sd(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`embeddings`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`embeddings`],e)}let i=q(e,[`metadata`]);return i!=null&&K(t,[`metadata`],i),t}function cd(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`predictions[]`,`embeddings`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Bu(e))),K(t,[`embeddings`],e)}let i=q(e,[`metadata`]);return i!=null&&K(t,[`metadata`],i),t}function ld(e){let t={},n=q(e,[`endpoint`]);n!=null&&K(t,[`name`],n);let r=q(e,[`deployedModelId`]);return r!=null&&K(t,[`deployedModelId`],r),t}function ud(e){let t={};if(q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=q(e,[`fileUri`]);n!=null&&K(t,[`fileUri`],n);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function dd(e){let t={},n=q(e,[`id`]);n!=null&&K(t,[`id`],n);let r=q(e,[`args`]);r!=null&&K(t,[`args`],r);let i=q(e,[`name`]);if(i!=null&&K(t,[`name`],i),q(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(q(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function fd(e){let t={},n=q(e,[`allowedFunctionNames`]);n!=null&&K(t,[`allowedFunctionNames`],n);let r=q(e,[`mode`]);if(r!=null&&K(t,[`mode`],r),q(e,[`streamFunctionCallArguments`])!==void 0)throw Error(`streamFunctionCallArguments parameter is not supported in Gemini API.`);return t}function pd(e){let t={},n=q(e,[`description`]);n!=null&&K(t,[`description`],n);let r=q(e,[`name`]);r!=null&&K(t,[`name`],r);let i=q(e,[`parameters`]);i!=null&&K(t,[`parameters`],i);let a=q(e,[`parametersJsonSchema`]);a!=null&&K(t,[`parametersJsonSchema`],a);let o=q(e,[`response`]);o!=null&&K(t,[`response`],o);let s=q(e,[`responseJsonSchema`]);if(s!=null&&K(t,[`responseJsonSchema`],s),q(e,[`behavior`])!==void 0)throw Error(`behavior parameter is not supported in Vertex AI.`);return t}function md(e,t,n){let r={},i=q(t,[`systemInstruction`]);n!==void 0&&i!=null&&K(n,[`systemInstruction`],Hu(Us(i)));let a=q(t,[`temperature`]);a!=null&&K(r,[`temperature`],a);let o=q(t,[`topP`]);o!=null&&K(r,[`topP`],o);let s=q(t,[`topK`]);s!=null&&K(r,[`topK`],s);let c=q(t,[`candidateCount`]);c!=null&&K(r,[`candidateCount`],c);let l=q(t,[`maxOutputTokens`]);l!=null&&K(r,[`maxOutputTokens`],l);let u=q(t,[`stopSequences`]);u!=null&&K(r,[`stopSequences`],u);let d=q(t,[`responseLogprobs`]);d!=null&&K(r,[`responseLogprobs`],d);let f=q(t,[`logprobs`]);f!=null&&K(r,[`logprobs`],f);let p=q(t,[`presencePenalty`]);p!=null&&K(r,[`presencePenalty`],p);let m=q(t,[`frequencyPenalty`]);m!=null&&K(r,[`frequencyPenalty`],m);let h=q(t,[`seed`]);h!=null&&K(r,[`seed`],h);let g=q(t,[`responseMimeType`]);g!=null&&K(r,[`responseMimeType`],g);let _=q(t,[`responseSchema`]);_!=null&&K(r,[`responseSchema`],Js(_));let v=q(t,[`responseJsonSchema`]);if(v!=null&&K(r,[`responseJsonSchema`],v),q(t,[`routingConfig`])!==void 0)throw Error(`routingConfig parameter is not supported in Gemini API.`);if(q(t,[`modelSelectionConfig`])!==void 0)throw Error(`modelSelectionConfig parameter is not supported in Gemini API.`);let y=q(t,[`safetySettings`]);if(n!==void 0&&y!=null){let e=y;Array.isArray(e)&&(e=e.map(e=>gf(e))),K(n,[`safetySettings`],e)}let b=q(t,[`tools`]);if(n!==void 0&&b!=null){let e=Qs(b);Array.isArray(e)&&(e=e.map(e=>Cf(Zs(e)))),K(n,[`tools`],e)}let x=q(t,[`toolConfig`]);if(n!==void 0&&x!=null&&K(n,[`toolConfig`],Sf(x)),q(t,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);let S=q(t,[`cachedContent`]);n!==void 0&&S!=null&&K(n,[`cachedContent`],ec(e,S));let C=q(t,[`responseModalities`]);C!=null&&K(r,[`responseModalities`],C);let w=q(t,[`mediaResolution`]);w!=null&&K(r,[`mediaResolution`],w);let T=q(t,[`speechConfig`]);if(T!=null&&K(r,[`speechConfig`],Ys(T)),q(t,[`audioTimestamp`])!==void 0)throw Error(`audioTimestamp parameter is not supported in Gemini API.`);let E=q(t,[`thinkingConfig`]);E!=null&&K(r,[`thinkingConfig`],E);let D=q(t,[`imageConfig`]);D!=null&&K(r,[`imageConfig`],Gd(D));let O=q(t,[`enableEnhancedCivicAnswers`]);if(O!=null&&K(r,[`enableEnhancedCivicAnswers`],O),q(t,[`modelArmorConfig`])!==void 0)throw Error(`modelArmorConfig parameter is not supported in Gemini API.`);return r}function hd(e,t,n){let r={},i=q(t,[`systemInstruction`]);n!==void 0&&i!=null&&K(n,[`systemInstruction`],Us(i));let a=q(t,[`temperature`]);a!=null&&K(r,[`temperature`],a);let o=q(t,[`topP`]);o!=null&&K(r,[`topP`],o);let s=q(t,[`topK`]);s!=null&&K(r,[`topK`],s);let c=q(t,[`candidateCount`]);c!=null&&K(r,[`candidateCount`],c);let l=q(t,[`maxOutputTokens`]);l!=null&&K(r,[`maxOutputTokens`],l);let u=q(t,[`stopSequences`]);u!=null&&K(r,[`stopSequences`],u);let d=q(t,[`responseLogprobs`]);d!=null&&K(r,[`responseLogprobs`],d);let f=q(t,[`logprobs`]);f!=null&&K(r,[`logprobs`],f);let p=q(t,[`presencePenalty`]);p!=null&&K(r,[`presencePenalty`],p);let m=q(t,[`frequencyPenalty`]);m!=null&&K(r,[`frequencyPenalty`],m);let h=q(t,[`seed`]);h!=null&&K(r,[`seed`],h);let g=q(t,[`responseMimeType`]);g!=null&&K(r,[`responseMimeType`],g);let _=q(t,[`responseSchema`]);_!=null&&K(r,[`responseSchema`],Js(_));let v=q(t,[`responseJsonSchema`]);v!=null&&K(r,[`responseJsonSchema`],v);let y=q(t,[`routingConfig`]);y!=null&&K(r,[`routingConfig`],y);let b=q(t,[`modelSelectionConfig`]);b!=null&&K(r,[`modelConfig`],b);let x=q(t,[`safetySettings`]);if(n!==void 0&&x!=null){let e=x;Array.isArray(e)&&(e=e.map(e=>e)),K(n,[`safetySettings`],e)}let S=q(t,[`tools`]);if(n!==void 0&&S!=null){let e=Qs(S);Array.isArray(e)&&(e=e.map(e=>wf(Zs(e)))),K(n,[`tools`],e)}let C=q(t,[`toolConfig`]);n!==void 0&&C!=null&&K(n,[`toolConfig`],C);let w=q(t,[`labels`]);n!==void 0&&w!=null&&K(n,[`labels`],w);let T=q(t,[`cachedContent`]);n!==void 0&&T!=null&&K(n,[`cachedContent`],ec(e,T));let E=q(t,[`responseModalities`]);E!=null&&K(r,[`responseModalities`],E);let D=q(t,[`mediaResolution`]);D!=null&&K(r,[`mediaResolution`],D);let O=q(t,[`speechConfig`]);O!=null&&K(r,[`speechConfig`],Ys(O));let k=q(t,[`audioTimestamp`]);k!=null&&K(r,[`audioTimestamp`],k);let A=q(t,[`thinkingConfig`]);A!=null&&K(r,[`thinkingConfig`],A);let j=q(t,[`imageConfig`]);if(j!=null&&K(r,[`imageConfig`],Kd(j)),q(t,[`enableEnhancedCivicAnswers`])!==void 0)throw Error(`enableEnhancedCivicAnswers parameter is not supported in Vertex AI.`);let M=q(t,[`modelArmorConfig`]);return n!==void 0&&M!=null&&K(n,[`modelArmorConfig`],M),r}function gd(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let e=Gs(i);Array.isArray(e)&&(e=e.map(e=>Hu(e))),K(n,[`contents`],e)}let a=q(t,[`config`]);return a!=null&&K(n,[`generationConfig`],md(e,a,n)),n}function _d(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`contents`]);if(i!=null){let e=Gs(i);Array.isArray(e)&&(e=e.map(e=>e)),K(n,[`contents`],e)}let a=q(t,[`config`]);return a!=null&&K(n,[`generationConfig`],hd(e,a,n)),n}function vd(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`candidates`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Iu(e))),K(t,[`candidates`],e)}let i=q(e,[`modelVersion`]);i!=null&&K(t,[`modelVersion`],i);let a=q(e,[`promptFeedback`]);a!=null&&K(t,[`promptFeedback`],a);let o=q(e,[`responseId`]);o!=null&&K(t,[`responseId`],o);let s=q(e,[`usageMetadata`]);return s!=null&&K(t,[`usageMetadata`],s),t}function $(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`candidates`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`candidates`],e)}let i=q(e,[`createTime`]);i!=null&&K(t,[`createTime`],i);let a=q(e,[`modelVersion`]);a!=null&&K(t,[`modelVersion`],a);let o=q(e,[`promptFeedback`]);o!=null&&K(t,[`promptFeedback`],o);let s=q(e,[`responseId`]);s!=null&&K(t,[`responseId`],s);let c=q(e,[`usageMetadata`]);return c!=null&&K(t,[`usageMetadata`],c),t}function yd(e,t){let n={};if(q(e,[`outputGcsUri`])!==void 0)throw Error(`outputGcsUri parameter is not supported in Gemini API.`);if(q(e,[`negativePrompt`])!==void 0)throw Error(`negativePrompt parameter is not supported in Gemini API.`);let r=q(e,[`numberOfImages`]);t!==void 0&&r!=null&&K(t,[`parameters`,`sampleCount`],r);let i=q(e,[`aspectRatio`]);t!==void 0&&i!=null&&K(t,[`parameters`,`aspectRatio`],i);let a=q(e,[`guidanceScale`]);if(t!==void 0&&a!=null&&K(t,[`parameters`,`guidanceScale`],a),q(e,[`seed`])!==void 0)throw Error(`seed parameter is not supported in Gemini API.`);let o=q(e,[`safetyFilterLevel`]);t!==void 0&&o!=null&&K(t,[`parameters`,`safetySetting`],o);let s=q(e,[`personGeneration`]);t!==void 0&&s!=null&&K(t,[`parameters`,`personGeneration`],s);let c=q(e,[`includeSafetyAttributes`]);t!==void 0&&c!=null&&K(t,[`parameters`,`includeSafetyAttributes`],c);let l=q(e,[`includeRaiReason`]);t!==void 0&&l!=null&&K(t,[`parameters`,`includeRaiReason`],l);let u=q(e,[`language`]);t!==void 0&&u!=null&&K(t,[`parameters`,`language`],u);let d=q(e,[`outputMimeType`]);t!==void 0&&d!=null&&K(t,[`parameters`,`outputOptions`,`mimeType`],d);let f=q(e,[`outputCompressionQuality`]);if(t!==void 0&&f!=null&&K(t,[`parameters`,`outputOptions`,`compressionQuality`],f),q(e,[`addWatermark`])!==void 0)throw Error(`addWatermark parameter is not supported in Gemini API.`);if(q(e,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);let p=q(e,[`imageSize`]);if(t!==void 0&&p!=null&&K(t,[`parameters`,`sampleImageSize`],p),q(e,[`enhancePrompt`])!==void 0)throw Error(`enhancePrompt parameter is not supported in Gemini API.`);return n}function bd(e,t){let n={},r=q(e,[`outputGcsUri`]);t!==void 0&&r!=null&&K(t,[`parameters`,`storageUri`],r);let i=q(e,[`negativePrompt`]);t!==void 0&&i!=null&&K(t,[`parameters`,`negativePrompt`],i);let a=q(e,[`numberOfImages`]);t!==void 0&&a!=null&&K(t,[`parameters`,`sampleCount`],a);let o=q(e,[`aspectRatio`]);t!==void 0&&o!=null&&K(t,[`parameters`,`aspectRatio`],o);let s=q(e,[`guidanceScale`]);t!==void 0&&s!=null&&K(t,[`parameters`,`guidanceScale`],s);let c=q(e,[`seed`]);t!==void 0&&c!=null&&K(t,[`parameters`,`seed`],c);let l=q(e,[`safetyFilterLevel`]);t!==void 0&&l!=null&&K(t,[`parameters`,`safetySetting`],l);let u=q(e,[`personGeneration`]);t!==void 0&&u!=null&&K(t,[`parameters`,`personGeneration`],u);let d=q(e,[`includeSafetyAttributes`]);t!==void 0&&d!=null&&K(t,[`parameters`,`includeSafetyAttributes`],d);let f=q(e,[`includeRaiReason`]);t!==void 0&&f!=null&&K(t,[`parameters`,`includeRaiReason`],f);let p=q(e,[`language`]);t!==void 0&&p!=null&&K(t,[`parameters`,`language`],p);let m=q(e,[`outputMimeType`]);t!==void 0&&m!=null&&K(t,[`parameters`,`outputOptions`,`mimeType`],m);let h=q(e,[`outputCompressionQuality`]);t!==void 0&&h!=null&&K(t,[`parameters`,`outputOptions`,`compressionQuality`],h);let g=q(e,[`addWatermark`]);t!==void 0&&g!=null&&K(t,[`parameters`,`addWatermark`],g);let _=q(e,[`labels`]);t!==void 0&&_!=null&&K(t,[`labels`],_);let v=q(e,[`imageSize`]);t!==void 0&&v!=null&&K(t,[`parameters`,`sampleImageSize`],v);let y=q(e,[`enhancePrompt`]);return t!==void 0&&y!=null&&K(t,[`parameters`,`enhancePrompt`],y),n}function xd(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`prompt`]);i!=null&&K(n,[`instances[0]`,`prompt`],i);let a=q(t,[`config`]);return a!=null&&yd(a,n),n}function Sd(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`prompt`]);i!=null&&K(n,[`instances[0]`,`prompt`],i);let a=q(t,[`config`]);return a!=null&&bd(a,n),n}function Cd(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Fd(e))),K(t,[`generatedImages`],e)}let i=q(e,[`positivePromptSafetyAttributes`]);return i!=null&&K(t,[`positivePromptSafetyAttributes`],mf(i)),t}function wd(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Id(e))),K(t,[`generatedImages`],e)}let i=q(e,[`positivePromptSafetyAttributes`]);return i!=null&&K(t,[`positivePromptSafetyAttributes`],hf(i)),t}function Td(e,t){let n={},r=q(e,[`numberOfVideos`]);if(t!==void 0&&r!=null&&K(t,[`parameters`,`sampleCount`],r),q(e,[`outputGcsUri`])!==void 0)throw Error(`outputGcsUri parameter is not supported in Gemini API.`);if(q(e,[`fps`])!==void 0)throw Error(`fps parameter is not supported in Gemini API.`);let i=q(e,[`durationSeconds`]);if(t!==void 0&&i!=null&&K(t,[`parameters`,`durationSeconds`],i),q(e,[`seed`])!==void 0)throw Error(`seed parameter is not supported in Gemini API.`);let a=q(e,[`aspectRatio`]);t!==void 0&&a!=null&&K(t,[`parameters`,`aspectRatio`],a);let o=q(e,[`resolution`]);t!==void 0&&o!=null&&K(t,[`parameters`,`resolution`],o);let s=q(e,[`personGeneration`]);if(t!==void 0&&s!=null&&K(t,[`parameters`,`personGeneration`],s),q(e,[`pubsubTopic`])!==void 0)throw Error(`pubsubTopic parameter is not supported in Gemini API.`);let c=q(e,[`negativePrompt`]);t!==void 0&&c!=null&&K(t,[`parameters`,`negativePrompt`],c);let l=q(e,[`enhancePrompt`]);if(t!==void 0&&l!=null&&K(t,[`parameters`,`enhancePrompt`],l),q(e,[`generateAudio`])!==void 0)throw Error(`generateAudio parameter is not supported in Gemini API.`);let u=q(e,[`lastFrame`]);t!==void 0&&u!=null&&K(t,[`instances[0]`,`lastFrame`],Yd(u));let d=q(e,[`referenceImages`]);if(t!==void 0&&d!=null){let e=d;Array.isArray(e)&&(e=e.map(e=>Lf(e))),K(t,[`instances[0]`,`referenceImages`],e)}if(q(e,[`mask`])!==void 0)throw Error(`mask parameter is not supported in Gemini API.`);if(q(e,[`compressionQuality`])!==void 0)throw Error(`compressionQuality parameter is not supported in Gemini API.`);return n}function Ed(e,t){let n={},r=q(e,[`numberOfVideos`]);t!==void 0&&r!=null&&K(t,[`parameters`,`sampleCount`],r);let i=q(e,[`outputGcsUri`]);t!==void 0&&i!=null&&K(t,[`parameters`,`storageUri`],i);let a=q(e,[`fps`]);t!==void 0&&a!=null&&K(t,[`parameters`,`fps`],a);let o=q(e,[`durationSeconds`]);t!==void 0&&o!=null&&K(t,[`parameters`,`durationSeconds`],o);let s=q(e,[`seed`]);t!==void 0&&s!=null&&K(t,[`parameters`,`seed`],s);let c=q(e,[`aspectRatio`]);t!==void 0&&c!=null&&K(t,[`parameters`,`aspectRatio`],c);let l=q(e,[`resolution`]);t!==void 0&&l!=null&&K(t,[`parameters`,`resolution`],l);let u=q(e,[`personGeneration`]);t!==void 0&&u!=null&&K(t,[`parameters`,`personGeneration`],u);let d=q(e,[`pubsubTopic`]);t!==void 0&&d!=null&&K(t,[`parameters`,`pubsubTopic`],d);let f=q(e,[`negativePrompt`]);t!==void 0&&f!=null&&K(t,[`parameters`,`negativePrompt`],f);let p=q(e,[`enhancePrompt`]);t!==void 0&&p!=null&&K(t,[`parameters`,`enhancePrompt`],p);let m=q(e,[`generateAudio`]);t!==void 0&&m!=null&&K(t,[`parameters`,`generateAudio`],m);let h=q(e,[`lastFrame`]);t!==void 0&&h!=null&&K(t,[`instances[0]`,`lastFrame`],Xd(h));let g=q(e,[`referenceImages`]);if(t!==void 0&&g!=null){let e=g;Array.isArray(e)&&(e=e.map(e=>Rf(e))),K(t,[`instances[0]`,`referenceImages`],e)}let _=q(e,[`mask`]);t!==void 0&&_!=null&&K(t,[`instances[0]`,`mask`],If(_));let v=q(e,[`compressionQuality`]);return t!==void 0&&v!=null&&K(t,[`parameters`,`compressionQuality`],v),n}function Dd(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`,`generateVideoResponse`]);return o!=null&&K(t,[`response`],jd(o)),t}function Od(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`]);return o!=null&&K(t,[`response`],Md(o)),t}function kd(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`prompt`]);i!=null&&K(n,[`instances[0]`,`prompt`],i);let a=q(t,[`image`]);a!=null&&K(n,[`instances[0]`,`image`],Yd(a));let o=q(t,[`video`]);o!=null&&K(n,[`instances[0]`,`video`],zf(o));let s=q(t,[`source`]);s!=null&&Nd(s,n);let c=q(t,[`config`]);return c!=null&&Td(c,n),n}function Ad(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`prompt`]);i!=null&&K(n,[`instances[0]`,`prompt`],i);let a=q(t,[`image`]);a!=null&&K(n,[`instances[0]`,`image`],Xd(a));let o=q(t,[`video`]);o!=null&&K(n,[`instances[0]`,`video`],Bf(o));let s=q(t,[`source`]);s!=null&&Pd(s,n);let c=q(t,[`config`]);return c!=null&&Ed(c,n),n}function jd(e){let t={},n=q(e,[`generatedSamples`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Rd(e))),K(t,[`generatedVideos`],e)}let r=q(e,[`raiMediaFilteredCount`]);r!=null&&K(t,[`raiMediaFilteredCount`],r);let i=q(e,[`raiMediaFilteredReasons`]);return i!=null&&K(t,[`raiMediaFilteredReasons`],i),t}function Md(e){let t={},n=q(e,[`videos`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>zd(e))),K(t,[`generatedVideos`],e)}let r=q(e,[`raiMediaFilteredCount`]);r!=null&&K(t,[`raiMediaFilteredCount`],r);let i=q(e,[`raiMediaFilteredReasons`]);return i!=null&&K(t,[`raiMediaFilteredReasons`],i),t}function Nd(e,t){let n={},r=q(e,[`prompt`]);t!==void 0&&r!=null&&K(t,[`instances[0]`,`prompt`],r);let i=q(e,[`image`]);t!==void 0&&i!=null&&K(t,[`instances[0]`,`image`],Yd(i));let a=q(e,[`video`]);return t!==void 0&&a!=null&&K(t,[`instances[0]`,`video`],zf(a)),n}function Pd(e,t){let n={},r=q(e,[`prompt`]);t!==void 0&&r!=null&&K(t,[`instances[0]`,`prompt`],r);let i=q(e,[`image`]);t!==void 0&&i!=null&&K(t,[`instances[0]`,`image`],Xd(i));let a=q(e,[`video`]);return t!==void 0&&a!=null&&K(t,[`instances[0]`,`video`],Bf(a)),n}function Fd(e){let t={},n=q(e,[`_self`]);n!=null&&K(t,[`image`],qd(n));let r=q(e,[`raiFilteredReason`]);r!=null&&K(t,[`raiFilteredReason`],r);let i=q(e,[`_self`]);return i!=null&&K(t,[`safetyAttributes`],mf(i)),t}function Id(e){let t={},n=q(e,[`_self`]);n!=null&&K(t,[`image`],Jd(n));let r=q(e,[`raiFilteredReason`]);r!=null&&K(t,[`raiFilteredReason`],r);let i=q(e,[`_self`]);i!=null&&K(t,[`safetyAttributes`],hf(i));let a=q(e,[`prompt`]);return a!=null&&K(t,[`enhancedPrompt`],a),t}function Ld(e){let t={},n=q(e,[`_self`]);n!=null&&K(t,[`mask`],Jd(n));let r=q(e,[`labels`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`labels`],e)}return t}function Rd(e){let t={},n=q(e,[`video`]);return n!=null&&K(t,[`video`],Pf(n)),t}function zd(e){let t={},n=q(e,[`_self`]);return n!=null&&K(t,[`video`],Ff(n)),t}function Bd(e){let t={},n=q(e,[`modelSelectionConfig`]);n!=null&&K(t,[`modelConfig`],n);let r=q(e,[`responseJsonSchema`]);r!=null&&K(t,[`responseJsonSchema`],r);let i=q(e,[`audioTimestamp`]);i!=null&&K(t,[`audioTimestamp`],i);let a=q(e,[`candidateCount`]);a!=null&&K(t,[`candidateCount`],a);let o=q(e,[`enableAffectiveDialog`]);o!=null&&K(t,[`enableAffectiveDialog`],o);let s=q(e,[`frequencyPenalty`]);s!=null&&K(t,[`frequencyPenalty`],s);let c=q(e,[`logprobs`]);c!=null&&K(t,[`logprobs`],c);let l=q(e,[`maxOutputTokens`]);l!=null&&K(t,[`maxOutputTokens`],l);let u=q(e,[`mediaResolution`]);u!=null&&K(t,[`mediaResolution`],u);let d=q(e,[`presencePenalty`]);d!=null&&K(t,[`presencePenalty`],d);let f=q(e,[`responseLogprobs`]);f!=null&&K(t,[`responseLogprobs`],f);let p=q(e,[`responseMimeType`]);p!=null&&K(t,[`responseMimeType`],p);let m=q(e,[`responseModalities`]);m!=null&&K(t,[`responseModalities`],m);let h=q(e,[`responseSchema`]);h!=null&&K(t,[`responseSchema`],h);let g=q(e,[`routingConfig`]);g!=null&&K(t,[`routingConfig`],g);let _=q(e,[`seed`]);_!=null&&K(t,[`seed`],_);let v=q(e,[`speechConfig`]);v!=null&&K(t,[`speechConfig`],v);let y=q(e,[`stopSequences`]);y!=null&&K(t,[`stopSequences`],y);let b=q(e,[`temperature`]);b!=null&&K(t,[`temperature`],b);let x=q(e,[`thinkingConfig`]);x!=null&&K(t,[`thinkingConfig`],x);let S=q(e,[`topK`]);S!=null&&K(t,[`topK`],S);let C=q(e,[`topP`]);if(C!=null&&K(t,[`topP`],C),q(e,[`enableEnhancedCivicAnswers`])!==void 0)throw Error(`enableEnhancedCivicAnswers parameter is not supported in Vertex AI.`);return t}function Vd(e,t){let n={},r=q(t,[`model`]);return r!=null&&K(n,[`_url`,`name`],Y(e,r)),n}function Hd(e,t){let n={},r=q(t,[`model`]);return r!=null&&K(n,[`_url`,`name`],Y(e,r)),n}function Ud(e){let t={};if(q(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=q(e,[`enableWidget`]);return n!=null&&K(t,[`enableWidget`],n),t}function Wd(e){let t={};if(q(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(q(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=q(e,[`timeRangeFilter`]);return n!=null&&K(t,[`timeRangeFilter`],n),t}function Gd(e){let t={},n=q(e,[`aspectRatio`]);n!=null&&K(t,[`aspectRatio`],n);let r=q(e,[`imageSize`]);if(r!=null&&K(t,[`imageSize`],r),q(e,[`personGeneration`])!==void 0)throw Error(`personGeneration parameter is not supported in Gemini API.`);if(q(e,[`outputMimeType`])!==void 0)throw Error(`outputMimeType parameter is not supported in Gemini API.`);if(q(e,[`outputCompressionQuality`])!==void 0)throw Error(`outputCompressionQuality parameter is not supported in Gemini API.`);return t}function Kd(e){let t={},n=q(e,[`aspectRatio`]);n!=null&&K(t,[`aspectRatio`],n);let r=q(e,[`imageSize`]);r!=null&&K(t,[`imageSize`],r);let i=q(e,[`personGeneration`]);i!=null&&K(t,[`personGeneration`],i);let a=q(e,[`outputMimeType`]);a!=null&&K(t,[`imageOutputOptions`,`mimeType`],a);let o=q(e,[`outputCompressionQuality`]);return o!=null&&K(t,[`imageOutputOptions`,`compressionQuality`],o),t}function qd(e){let t={},n=q(e,[`bytesBase64Encoded`]);n!=null&&K(t,[`imageBytes`],nc(n));let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Jd(e){let t={},n=q(e,[`gcsUri`]);n!=null&&K(t,[`gcsUri`],n);let r=q(e,[`bytesBase64Encoded`]);r!=null&&K(t,[`imageBytes`],nc(r));let i=q(e,[`mimeType`]);return i!=null&&K(t,[`mimeType`],i),t}function Yd(e){let t={};if(q(e,[`gcsUri`])!==void 0)throw Error(`gcsUri parameter is not supported in Gemini API.`);let n=q(e,[`imageBytes`]);n!=null&&K(t,[`bytesBase64Encoded`],nc(n));let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Xd(e){let t={},n=q(e,[`gcsUri`]);n!=null&&K(t,[`gcsUri`],n);let r=q(e,[`imageBytes`]);r!=null&&K(t,[`bytesBase64Encoded`],nc(r));let i=q(e,[`mimeType`]);return i!=null&&K(t,[`mimeType`],i),t}function Zd(e,t,n){let r={},i=q(t,[`pageSize`]);n!==void 0&&i!=null&&K(n,[`_query`,`pageSize`],i);let a=q(t,[`pageToken`]);n!==void 0&&a!=null&&K(n,[`_query`,`pageToken`],a);let o=q(t,[`filter`]);n!==void 0&&o!=null&&K(n,[`_query`,`filter`],o);let s=q(t,[`queryBase`]);return n!==void 0&&s!=null&&K(n,[`_url`,`models_url`],sc(e,s)),r}function Qd(e,t,n){let r={},i=q(t,[`pageSize`]);n!==void 0&&i!=null&&K(n,[`_query`,`pageSize`],i);let a=q(t,[`pageToken`]);n!==void 0&&a!=null&&K(n,[`_query`,`pageToken`],a);let o=q(t,[`filter`]);n!==void 0&&o!=null&&K(n,[`_query`,`filter`],o);let s=q(t,[`queryBase`]);return n!==void 0&&s!=null&&K(n,[`_url`,`models_url`],sc(e,s)),r}function $d(e,t){let n={},r=q(t,[`config`]);return r!=null&&Zd(e,r,n),n}function ef(e,t){let n={},r=q(t,[`config`]);return r!=null&&Qd(e,r,n),n}function tf(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`_self`]);if(i!=null){let e=cc(i);Array.isArray(e)&&(e=e.map(e=>af(e))),K(t,[`models`],e)}return t}function nf(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`_self`]);if(i!=null){let e=cc(i);Array.isArray(e)&&(e=e.map(e=>of(e))),K(t,[`models`],e)}return t}function rf(e){let t={},n=q(e,[`maskMode`]);n!=null&&K(t,[`maskMode`],n);let r=q(e,[`segmentationClasses`]);r!=null&&K(t,[`maskClasses`],r);let i=q(e,[`maskDilation`]);return i!=null&&K(t,[`dilation`],i),t}function af(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`displayName`]);r!=null&&K(t,[`displayName`],r);let i=q(e,[`description`]);i!=null&&K(t,[`description`],i);let a=q(e,[`version`]);a!=null&&K(t,[`version`],a);let o=q(e,[`_self`]);o!=null&&K(t,[`tunedModelInfo`],Tf(o));let s=q(e,[`inputTokenLimit`]);s!=null&&K(t,[`inputTokenLimit`],s);let c=q(e,[`outputTokenLimit`]);c!=null&&K(t,[`outputTokenLimit`],c);let l=q(e,[`supportedGenerationMethods`]);l!=null&&K(t,[`supportedActions`],l);let u=q(e,[`temperature`]);u!=null&&K(t,[`temperature`],u);let d=q(e,[`maxTemperature`]);d!=null&&K(t,[`maxTemperature`],d);let f=q(e,[`topP`]);f!=null&&K(t,[`topP`],f);let p=q(e,[`topK`]);p!=null&&K(t,[`topK`],p);let m=q(e,[`thinking`]);return m!=null&&K(t,[`thinking`],m),t}function of(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`displayName`]);r!=null&&K(t,[`displayName`],r);let i=q(e,[`description`]);i!=null&&K(t,[`description`],i);let a=q(e,[`versionId`]);a!=null&&K(t,[`version`],a);let o=q(e,[`deployedModels`]);if(o!=null){let e=o;Array.isArray(e)&&(e=e.map(e=>ld(e))),K(t,[`endpoints`],e)}let s=q(e,[`labels`]);s!=null&&K(t,[`labels`],s);let c=q(e,[`_self`]);c!=null&&K(t,[`tunedModelInfo`],Ef(c));let l=q(e,[`defaultCheckpointId`]);l!=null&&K(t,[`defaultCheckpointId`],l);let u=q(e,[`checkpoints`]);if(u!=null){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`checkpoints`],e)}return t}function sf(e){let t={},n=q(e,[`mediaResolution`]);n!=null&&K(t,[`mediaResolution`],n);let r=q(e,[`codeExecutionResult`]);r!=null&&K(t,[`codeExecutionResult`],r);let i=q(e,[`executableCode`]);i!=null&&K(t,[`executableCode`],i);let a=q(e,[`fileData`]);a!=null&&K(t,[`fileData`],ud(a));let o=q(e,[`functionCall`]);o!=null&&K(t,[`functionCall`],dd(o));let s=q(e,[`functionResponse`]);s!=null&&K(t,[`functionResponse`],s);let c=q(e,[`inlineData`]);c!=null&&K(t,[`inlineData`],Fu(c));let l=q(e,[`text`]);l!=null&&K(t,[`text`],l);let u=q(e,[`thought`]);u!=null&&K(t,[`thought`],u);let d=q(e,[`thoughtSignature`]);d!=null&&K(t,[`thoughtSignature`],d);let f=q(e,[`videoMetadata`]);return f!=null&&K(t,[`videoMetadata`],f),t}function cf(e){let t={},n=q(e,[`productImage`]);return n!=null&&K(t,[`image`],Xd(n)),t}function lf(e,t){let n={},r=q(e,[`numberOfImages`]);t!==void 0&&r!=null&&K(t,[`parameters`,`sampleCount`],r);let i=q(e,[`baseSteps`]);t!==void 0&&i!=null&&K(t,[`parameters`,`baseSteps`],i);let a=q(e,[`outputGcsUri`]);t!==void 0&&a!=null&&K(t,[`parameters`,`storageUri`],a);let o=q(e,[`seed`]);t!==void 0&&o!=null&&K(t,[`parameters`,`seed`],o);let s=q(e,[`safetyFilterLevel`]);t!==void 0&&s!=null&&K(t,[`parameters`,`safetySetting`],s);let c=q(e,[`personGeneration`]);t!==void 0&&c!=null&&K(t,[`parameters`,`personGeneration`],c);let l=q(e,[`addWatermark`]);t!==void 0&&l!=null&&K(t,[`parameters`,`addWatermark`],l);let u=q(e,[`outputMimeType`]);t!==void 0&&u!=null&&K(t,[`parameters`,`outputOptions`,`mimeType`],u);let d=q(e,[`outputCompressionQuality`]);t!==void 0&&d!=null&&K(t,[`parameters`,`outputOptions`,`compressionQuality`],d);let f=q(e,[`enhancePrompt`]);t!==void 0&&f!=null&&K(t,[`parameters`,`enhancePrompt`],f);let p=q(e,[`labels`]);return t!==void 0&&p!=null&&K(t,[`labels`],p),n}function uf(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`source`]);i!=null&&ff(i,n);let a=q(t,[`config`]);return a!=null&&lf(a,n),n}function df(e){let t={},n=q(e,[`predictions`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Id(e))),K(t,[`generatedImages`],e)}return t}function ff(e,t){let n={},r=q(e,[`prompt`]);t!==void 0&&r!=null&&K(t,[`instances[0]`,`prompt`],r);let i=q(e,[`personImage`]);t!==void 0&&i!=null&&K(t,[`instances[0]`,`personImage`,`image`],Xd(i));let a=q(e,[`productImages`]);if(t!==void 0&&a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>cf(e))),K(t,[`instances[0]`,`productImages`],e)}return n}function pf(e){let t={},n=q(e,[`referenceImage`]);n!=null&&K(t,[`referenceImage`],Xd(n));let r=q(e,[`referenceId`]);r!=null&&K(t,[`referenceId`],r);let i=q(e,[`referenceType`]);i!=null&&K(t,[`referenceType`],i);let a=q(e,[`maskImageConfig`]);a!=null&&K(t,[`maskImageConfig`],rf(a));let o=q(e,[`controlImageConfig`]);o!=null&&K(t,[`controlImageConfig`],Uu(o));let s=q(e,[`styleImageConfig`]);s!=null&&K(t,[`styleImageConfig`],s);let c=q(e,[`subjectImageConfig`]);return c!=null&&K(t,[`subjectImageConfig`],c),t}function mf(e){let t={},n=q(e,[`safetyAttributes`,`categories`]);n!=null&&K(t,[`categories`],n);let r=q(e,[`safetyAttributes`,`scores`]);r!=null&&K(t,[`scores`],r);let i=q(e,[`contentType`]);return i!=null&&K(t,[`contentType`],i),t}function hf(e){let t={},n=q(e,[`safetyAttributes`,`categories`]);n!=null&&K(t,[`categories`],n);let r=q(e,[`safetyAttributes`,`scores`]);r!=null&&K(t,[`scores`],r);let i=q(e,[`contentType`]);return i!=null&&K(t,[`contentType`],i),t}function gf(e){let t={},n=q(e,[`category`]);if(n!=null&&K(t,[`category`],n),q(e,[`method`])!==void 0)throw Error(`method parameter is not supported in Gemini API.`);let r=q(e,[`threshold`]);return r!=null&&K(t,[`threshold`],r),t}function _f(e){let t={},n=q(e,[`image`]);return n!=null&&K(t,[`image`],Xd(n)),t}function vf(e,t){let n={},r=q(e,[`mode`]);t!==void 0&&r!=null&&K(t,[`parameters`,`mode`],r);let i=q(e,[`maxPredictions`]);t!==void 0&&i!=null&&K(t,[`parameters`,`maxPredictions`],i);let a=q(e,[`confidenceThreshold`]);t!==void 0&&a!=null&&K(t,[`parameters`,`confidenceThreshold`],a);let o=q(e,[`maskDilation`]);t!==void 0&&o!=null&&K(t,[`parameters`,`maskDilation`],o);let s=q(e,[`binaryColorThreshold`]);t!==void 0&&s!=null&&K(t,[`parameters`,`binaryColorThreshold`],s);let c=q(e,[`labels`]);return t!==void 0&&c!=null&&K(t,[`labels`],c),n}function yf(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`source`]);i!=null&&xf(i,n);let a=q(t,[`config`]);return a!=null&&vf(a,n),n}function bf(e){let t={},n=q(e,[`predictions`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Ld(e))),K(t,[`generatedMasks`],e)}return t}function xf(e,t){let n={},r=q(e,[`prompt`]);t!==void 0&&r!=null&&K(t,[`instances[0]`,`prompt`],r);let i=q(e,[`image`]);t!==void 0&&i!=null&&K(t,[`instances[0]`,`image`],Xd(i));let a=q(e,[`scribbleImage`]);return t!==void 0&&a!=null&&K(t,[`instances[0]`,`scribble`],_f(a)),n}function Sf(e){let t={},n=q(e,[`retrievalConfig`]);n!=null&&K(t,[`retrievalConfig`],n);let r=q(e,[`functionCallingConfig`]);return r!=null&&K(t,[`functionCallingConfig`],fd(r)),t}function Cf(e){let t={};if(q(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let n=q(e,[`computerUse`]);n!=null&&K(t,[`computerUse`],n);let r=q(e,[`fileSearch`]);r!=null&&K(t,[`fileSearch`],r);let i=q(e,[`codeExecution`]);if(i!=null&&K(t,[`codeExecution`],i),q(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let a=q(e,[`functionDeclarations`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`functionDeclarations`],e)}let o=q(e,[`googleMaps`]);o!=null&&K(t,[`googleMaps`],Ud(o));let s=q(e,[`googleSearch`]);s!=null&&K(t,[`googleSearch`],Wd(s));let c=q(e,[`googleSearchRetrieval`]);c!=null&&K(t,[`googleSearchRetrieval`],c);let l=q(e,[`urlContext`]);return l!=null&&K(t,[`urlContext`],l),t}function wf(e){let t={},n=q(e,[`retrieval`]);n!=null&&K(t,[`retrieval`],n);let r=q(e,[`computerUse`]);if(r!=null&&K(t,[`computerUse`],r),q(e,[`fileSearch`])!==void 0)throw Error(`fileSearch parameter is not supported in Vertex AI.`);let i=q(e,[`codeExecution`]);i!=null&&K(t,[`codeExecution`],i);let a=q(e,[`enterpriseWebSearch`]);a!=null&&K(t,[`enterpriseWebSearch`],a);let o=q(e,[`functionDeclarations`]);if(o!=null){let e=o;Array.isArray(e)&&(e=e.map(e=>pd(e))),K(t,[`functionDeclarations`],e)}let s=q(e,[`googleMaps`]);s!=null&&K(t,[`googleMaps`],s);let c=q(e,[`googleSearch`]);c!=null&&K(t,[`googleSearch`],c);let l=q(e,[`googleSearchRetrieval`]);l!=null&&K(t,[`googleSearchRetrieval`],l);let u=q(e,[`urlContext`]);return u!=null&&K(t,[`urlContext`],u),t}function Tf(e){let t={},n=q(e,[`baseModel`]);n!=null&&K(t,[`baseModel`],n);let r=q(e,[`createTime`]);r!=null&&K(t,[`createTime`],r);let i=q(e,[`updateTime`]);return i!=null&&K(t,[`updateTime`],i),t}function Ef(e){let t={},n=q(e,[`labels`,`google-vertex-llm-tuning-base-model-id`]);n!=null&&K(t,[`baseModel`],n);let r=q(e,[`createTime`]);r!=null&&K(t,[`createTime`],r);let i=q(e,[`updateTime`]);return i!=null&&K(t,[`updateTime`],i),t}function Df(e,t){let n={},r=q(e,[`displayName`]);t!==void 0&&r!=null&&K(t,[`displayName`],r);let i=q(e,[`description`]);t!==void 0&&i!=null&&K(t,[`description`],i);let a=q(e,[`defaultCheckpointId`]);return t!==void 0&&a!=null&&K(t,[`defaultCheckpointId`],a),n}function Of(e,t){let n={},r=q(e,[`displayName`]);t!==void 0&&r!=null&&K(t,[`displayName`],r);let i=q(e,[`description`]);t!==void 0&&i!=null&&K(t,[`description`],i);let a=q(e,[`defaultCheckpointId`]);return t!==void 0&&a!=null&&K(t,[`defaultCheckpointId`],a),n}function kf(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`name`],Y(e,r));let i=q(t,[`config`]);return i!=null&&Df(i,n),n}function Af(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`config`]);return i!=null&&Of(i,n),n}function jf(e,t){let n={},r=q(e,[`outputGcsUri`]);t!==void 0&&r!=null&&K(t,[`parameters`,`storageUri`],r);let i=q(e,[`safetyFilterLevel`]);t!==void 0&&i!=null&&K(t,[`parameters`,`safetySetting`],i);let a=q(e,[`personGeneration`]);t!==void 0&&a!=null&&K(t,[`parameters`,`personGeneration`],a);let o=q(e,[`includeRaiReason`]);t!==void 0&&o!=null&&K(t,[`parameters`,`includeRaiReason`],o);let s=q(e,[`outputMimeType`]);t!==void 0&&s!=null&&K(t,[`parameters`,`outputOptions`,`mimeType`],s);let c=q(e,[`outputCompressionQuality`]);t!==void 0&&c!=null&&K(t,[`parameters`,`outputOptions`,`compressionQuality`],c);let l=q(e,[`enhanceInputImage`]);t!==void 0&&l!=null&&K(t,[`parameters`,`upscaleConfig`,`enhanceInputImage`],l);let u=q(e,[`imagePreservationFactor`]);t!==void 0&&u!=null&&K(t,[`parameters`,`upscaleConfig`,`imagePreservationFactor`],u);let d=q(e,[`labels`]);t!==void 0&&d!=null&&K(t,[`labels`],d);let f=q(e,[`numberOfImages`]);t!==void 0&&f!=null&&K(t,[`parameters`,`sampleCount`],f);let p=q(e,[`mode`]);return t!==void 0&&p!=null&&K(t,[`parameters`,`mode`],p),n}function Mf(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`_url`,`model`],Y(e,r));let i=q(t,[`image`]);i!=null&&K(n,[`instances[0]`,`image`],Xd(i));let a=q(t,[`upscaleFactor`]);a!=null&&K(n,[`parameters`,`upscaleConfig`,`upscaleFactor`],a);let o=q(t,[`config`]);return o!=null&&jf(o,n),n}function Nf(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`predictions`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>Id(e))),K(t,[`generatedImages`],e)}return t}function Pf(e){let t={},n=q(e,[`uri`]);n!=null&&K(t,[`uri`],n);let r=q(e,[`encodedVideo`]);r!=null&&K(t,[`videoBytes`],nc(r));let i=q(e,[`encoding`]);return i!=null&&K(t,[`mimeType`],i),t}function Ff(e){let t={},n=q(e,[`gcsUri`]);n!=null&&K(t,[`uri`],n);let r=q(e,[`bytesBase64Encoded`]);r!=null&&K(t,[`videoBytes`],nc(r));let i=q(e,[`mimeType`]);return i!=null&&K(t,[`mimeType`],i),t}function If(e){let t={},n=q(e,[`image`]);n!=null&&K(t,[`_self`],Xd(n));let r=q(e,[`maskMode`]);return r!=null&&K(t,[`maskMode`],r),t}function Lf(e){let t={},n=q(e,[`image`]);n!=null&&K(t,[`image`],Yd(n));let r=q(e,[`referenceType`]);return r!=null&&K(t,[`referenceType`],r),t}function Rf(e){let t={},n=q(e,[`image`]);n!=null&&K(t,[`image`],Xd(n));let r=q(e,[`referenceType`]);return r!=null&&K(t,[`referenceType`],r),t}function zf(e){let t={},n=q(e,[`uri`]);n!=null&&K(t,[`uri`],n);let r=q(e,[`videoBytes`]);r!=null&&K(t,[`encodedVideo`],nc(r));let i=q(e,[`mimeType`]);return i!=null&&K(t,[`encoding`],i),t}function Bf(e){let t={},n=q(e,[`uri`]);n!=null&&K(t,[`gcsUri`],n);let r=q(e,[`videoBytes`]);r!=null&&K(t,[`bytesBase64Encoded`],nc(r));let i=q(e,[`mimeType`]);return i!=null&&K(t,[`mimeType`],i),t}function Vf(e,t){let n={},r=q(e,[`displayName`]);return t!==void 0&&r!=null&&K(t,[`displayName`],r),n}function Hf(e){let t={},n=q(e,[`config`]);return n!=null&&Vf(n,t),t}function Uf(e,t){let n={},r=q(e,[`force`]);return t!==void 0&&r!=null&&K(t,[`_query`,`force`],r),n}function Wf(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`_url`,`name`],n);let r=q(e,[`config`]);return r!=null&&Uf(r,t),t}function Gf(e){let t={},n=q(e,[`name`]);return n!=null&&K(t,[`_url`,`name`],n),t}function Kf(e,t){let n={},r=q(e,[`customMetadata`]);if(t!==void 0&&r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`customMetadata`],e)}let i=q(e,[`chunkingConfig`]);return t!==void 0&&i!=null&&K(t,[`chunkingConfig`],i),n}function qf(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`name`],n);let r=q(e,[`metadata`]);r!=null&&K(t,[`metadata`],r);let i=q(e,[`done`]);i!=null&&K(t,[`done`],i);let a=q(e,[`error`]);a!=null&&K(t,[`error`],a);let o=q(e,[`response`]);return o!=null&&K(t,[`response`],Yf(o)),t}function Jf(e){let t={},n=q(e,[`fileSearchStoreName`]);n!=null&&K(t,[`_url`,`file_search_store_name`],n);let r=q(e,[`fileName`]);r!=null&&K(t,[`fileName`],r);let i=q(e,[`config`]);return i!=null&&Kf(i,t),t}function Yf(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`parent`]);r!=null&&K(t,[`parent`],r);let i=q(e,[`documentName`]);return i!=null&&K(t,[`documentName`],i),t}function Xf(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);return t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i),n}function Zf(e){let t={},n=q(e,[`config`]);return n!=null&&Xf(n,t),t}function Qf(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`fileSearchStores`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`fileSearchStores`],e)}return t}function $f(e,t){let n={},r=q(e,[`mimeType`]);t!==void 0&&r!=null&&K(t,[`mimeType`],r);let i=q(e,[`displayName`]);t!==void 0&&i!=null&&K(t,[`displayName`],i);let a=q(e,[`customMetadata`]);if(t!==void 0&&a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`customMetadata`],e)}let o=q(e,[`chunkingConfig`]);return t!==void 0&&o!=null&&K(t,[`chunkingConfig`],o),n}function ep(e){let t={},n=q(e,[`fileSearchStoreName`]);n!=null&&K(t,[`_url`,`file_search_store_name`],n);let r=q(e,[`config`]);return r!=null&&$f(r,t),t}function tp(e){let t={},n=q(e,[`sdkHttpResponse`]);return n!=null&&K(t,[`sdkHttpResponse`],n),t}var np=`Content-Type`,rp=`X-Server-Timeout`,ip=`User-Agent`,ap=`x-goog-api-client`,op=`google-genai-sdk/1.38.0`,sp=`v1beta1`,cp=`v1beta`,lp=class{constructor(e){this.clientOptions=Object.assign({},e),this.customBaseUrl=e.httpOptions?.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let t={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location=`global`),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw Error(`Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.`);let n=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!n?(t.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location===`global`?t.baseUrl=`https://aiplatform.googleapis.com/`:this.clientOptions.project&&this.clientOptions.location&&(t.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),t.apiVersion=this.clientOptions.apiVersion??sp}else{if(!this.clientOptions.apiKey)throw new nu({message:`API key must be set when using the Gemini API.`,status:403});t.apiVersion=this.clientOptions.apiVersion??cp,t.baseUrl=`https://generativelanguage.googleapis.com/`}t.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=t,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(t,e.httpOptions))}isVertexAI(){return this.clientOptions.vertexai??!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw Error(`API version is not set.`)}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw Error(`Base URL is not set.`)}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw Error(`Headers are not set.`)}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw Error(`HTTP options are not correctly set.`);let t=[e.baseUrl.endsWith(`/`)?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==``&&t.push(e.apiVersion),t.join(`/`)}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol==`http:`?`ws`:`wss`,t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw Error(`HTTP options are not correctly set.`)}constructUrl(e,t,n){let r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),e!==``&&r.push(e),new URL(`${r.join(`/`)}`)}shouldPrependVertexProjectPath(e,t){return!(t.baseUrl&&t.baseUrlResourceScope===Ao.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith(`projects/`)||e.httpMethod===`GET`&&e.path.startsWith(`publishers/google/models`))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let n=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(let[t,n]of Object.entries(e.queryParams))r.searchParams.append(t,String(n));let i={};if(e.httpMethod===`GET`){if(e.body&&e.body!==`{}`)throw Error(`Request body should be empty for GET request, but got non empty request body`)}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){let n=JSON.parse(JSON.stringify(e));for(let[e,r]of Object.entries(t))typeof r==`object`?n[e]=Object.assign(Object.assign({},n[e]),r):r!==void 0&&(n[e]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let n=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,n);(!r.searchParams.has(`alt`)||r.searchParams.get(`alt`)!==`sse`)&&r.searchParams.set(`alt`,`sse`);let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){let n=new AbortController,i=n.signal;if(t.timeout&&t?.timeout>0){let e=setTimeout(()=>n.abort(),t.timeout);e&&typeof e.unref==`function`&&e.unref()}r&&r.addEventListener(`abort`,()=>{n.abort()}),e.signal=i}return t&&t.extraBody!==null&&dp(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await up(e),new as(e))).catch(e=>{throw e instanceof Error?e:Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await up(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:Error(JSON.stringify(e))})}processStreamResponse(e){return Jl(this,arguments,function*(){let t=(e?.body)?.getReader(),n=new TextDecoder(`utf-8`);if(!t)throw Error(`Response body is empty`);try{let r=``,i=[`

`,`\r\r`,`\r
\r
`];for(;;){let{done:a,value:o}=yield Q(t.read());if(a){if(r.trim().length>0)throw Error(`Incomplete JSON segment at the end`);break}let s=n.decode(o,{stream:!0});try{let e=JSON.parse(s);if(`error`in e){let t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,i=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600)throw new nu({message:i,status:r})}}catch(e){if(e.name===`ApiError`)throw e}r+=s;let c=-1,l=0;for(;;){c=-1,l=0;for(let e of i){let t=r.indexOf(e);t!==-1&&(c===-1||t<c)&&(c=t,l=e.length)}if(c===-1)break;let t=r.substring(0,c);r=r.substring(c+l);let n=t.trim();if(n.startsWith(`data:`)){let t=n.substring(5).trim();try{yield yield Q(new as(new Response(t,{headers:e?.headers,status:e?.status,statusText:e?.statusText})))}catch(e){throw Error(`exception parsing stream chunk ${t}. ${e}`)}}}}}finally{t.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw Error(`exception ${e} sending request`)})}getDefaultHeaders(){let e={},t=op+` `+this.clientOptions.userAgentExtra;return e[ip]=t,e[ap]=t,e[np]=`application/json`,e}async getHeadersInternal(e,t){let n=new Headers;if(e&&e.headers){for(let[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append(rp,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){let t=``;return typeof e==`string`&&(t=e.replace(/[/\\]+$/,``),t=t.split(/[/\\]/).pop()??``),t}async uploadFile(e,t){let n={};t!=null&&(n.mimeType=t.mimeType,n.name=t.name,n.displayName=t.displayName),n.name&&!n.name.startsWith(`files/`)&&(n.name=`files/${n.name}`);let r=this.clientOptions.uploader,i=await r.stat(e);n.sizeBytes=String(i.size);let a=t?.mimeType??i.type;if(a===void 0||a===``)throw Error(`Can not determine mimeType. Please provide mimeType in the config.`);n.mimeType=a;let o={file:n},s=this.getFileName(e),c=G(`upload/v1beta/files`,o._url),l=await this.fetchUploadUrl(c,n.sizeBytes,n.mimeType,s,o,t?.httpOptions);return r.upload(e,l,this)}async uploadFileToFileSearchStore(e,t,n){let r=this.clientOptions.uploader,i=await r.stat(t),a=String(i.size),o=n?.mimeType??i.type;if(o===void 0||o===``)throw Error(`Can not determine mimeType. Please provide mimeType in the config.`);let s=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),l={};n!=null&&$f(n,l);let u=await this.fetchUploadUrl(s,a,o,c,l,n?.httpOptions);return r.uploadToFileSearchStore(t,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,n,r,i,a){let o={};o=a||{apiVersion:``,headers:Object.assign({"Content-Type":`application/json`,"X-Goog-Upload-Protocol":`resumable`,"X-Goog-Upload-Command":`start`,"X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};let s=await this.request({path:e,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:o});if(!s||!s?.headers)throw Error(`Server did not return an HttpResponse or the returned HttpResponse did not have headers.`);let c=s?.headers?.[`x-goog-upload-url`];if(c===void 0)throw Error(`Failed to get upload url. Server did not return the x-google-upload-url in the headers`);return c}};async function up(e){if(e===void 0)throw Error(`response is undefined`);if(!e.ok){let t=e.status,n;n=e.headers.get(`content-type`)?.includes(`application/json`)?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};let r=JSON.stringify(n);throw t>=400&&t<600?new nu({message:r,status:t}):Error(r)}}function dp(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn(`includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.`);return}let n={};if(typeof e.body==`string`&&e.body.length>0)try{let t=JSON.parse(e.body);if(typeof t==`object`&&t&&!Array.isArray(t))n=t;else{console.warn(`includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.`);return}}catch{console.warn(`includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.`);return}function r(e,t){let n=Object.assign({},e);for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let i=t[e],a=n[e];i&&typeof i==`object`&&!Array.isArray(i)&&a&&typeof a==`object`&&!Array.isArray(a)?n[e]=r(a,i):(a&&i&&typeof a!=typeof i&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${e}". Original type: ${typeof a}, New type: ${typeof i}. Overwriting.`),n[e]=i)}return n}let i=r(n,t);e.body=JSON.stringify(i)}var fp=`mcp_used/unknown`,pp=!1;function mp(e){for(let t of e)if(gp(t)||typeof t==`object`&&`inputSchema`in t)return!0;return pp}function hp(e){e[ap]=((e[ap]??``)+` ${fp}`).trimStart()}function gp(e){return typeof e==`object`&&!!e&&e instanceof vp}function _p(e){return Jl(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){let t=yield Q(e.listTools({cursor:n}));for(let e of t.tools)yield yield Q(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}var vp=class e{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(t,n){return new e(t,n)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;let i={},a=[];for(let l of this.mcpClients)try{for(var o=!0,s=(t=void 0,Yl(_p(l))),c;c=await s.next(),e=c.done,!e;o=!0){r=c.value,o=!1;let e=r;a.push(e);let t=e.name;if(i[t])throw Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);i[t]=l}}catch(e){t={error:e}}finally{try{!o&&!e&&(n=s.return)&&await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),dc(this.mcpTools,this.config)}async callTool(e){await this.initialize();let t=[];for(let n of e)if(n.name in this.functionNameToMcpClient){let e=this.functionNameToMcpClient[n.name],r;this.config.timeout&&(r={timeout:this.config.timeout});let i=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return t}};async function yp(e,t,n){let r=new js,i;i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,i),t(r)}var bp=class{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){if(this.apiClient.isVertexAI())throw Error(`Live music is not supported for Vertex AI.`);console.warn(`Live music generation is experimental and may change in future versions.`);let t=this.apiClient.getWebsocketBaseUrl(),n=this.apiClient.getApiVersion(),r=Cp(this.apiClient.getDefaultHeaders()),i=`${t}/ws/google.ai.generativelanguage.${n}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`,a=()=>{},o=new Promise(e=>{a=e}),s=e.callbacks,c=function(){a({})},l=this.apiClient,u={onopen:c,onmessage:e=>{yp(l,s.onmessage,e)},onerror:s?.onerror??function(e){},onclose:s?.onclose??function(e){}},d=this.webSocketFactory.create(i,Sp(r),u);d.connect(),await o;let f={setup:{model:Y(this.apiClient,e.model)}};return d.send(JSON.stringify(f)),new xp(d,this.apiClient)}},xp=class{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw Error(`Weighted prompts must be set and contain at least one entry.`);let t=Tu(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||={};let t=wu(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){let t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(is.PLAY)}pause(){this.sendPlaybackControl(is.PAUSE)}stop(){this.sendPlaybackControl(is.STOP)}resetContext(){this.sendPlaybackControl(is.RESET_CONTEXT)}close(){this.conn.close()}};function Sp(e){let t={};return e.forEach((e,n)=>{t[n]=e}),t}function Cp(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var wp="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Tp(e,t,n){let r=new As,i;i=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;let a=JSON.parse(i);if(e.isVertexAI()){let e=Ou(a);Object.assign(r,e)}else{let e=a;Object.assign(r,e)}t(r)}var Ep=class{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new bp(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){if(e.config&&e.config.httpOptions)throw Error(`The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.`);let t=this.apiClient.getWebsocketBaseUrl(),n=this.apiClient.getApiVersion(),r,i=this.apiClient.getHeaders();e.config&&e.config.tools&&mp(e.config.tools)&&hp(i);let a=Ap(i);if(this.apiClient.isVertexAI()){let e=this.apiClient.getProject(),i=this.apiClient.getLocation(),o=this.apiClient.getApiKey(),s=!!e&&!!i||!!o;this.apiClient.getCustomBaseUrl()&&!s?r=t:(r=`${t}/ws/google.cloud.aiplatform.${n}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(a,r))}else{let e=this.apiClient.getApiKey(),i=`BidiGenerateContent`,a=`key`;e?.startsWith(`auth_tokens/`)&&(console.warn(`Warning: Ephemeral token support is experimental and may change in future versions.`),n!==`v1alpha`&&console.warn(`Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection.`),i=`BidiGenerateContentConstrained`,a=`access_token`),r=`${t}/ws/google.ai.generativelanguage.${n}.GenerativeService.${i}?${a}=${e}`}let o=()=>{},s=new Promise(e=>{o=e}),c=e.callbacks,l=function(){var e;(e=c?.onopen)==null||e.call(c),o({})},u=this.apiClient,d={onopen:l,onmessage:e=>{Tp(u,c.onmessage,e)},onerror:c?.onerror??function(e){},onclose:c?.onclose??function(e){}},f=this.webSocketFactory.create(r,kp(a),d);f.connect(),await s;let p=Y(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&p.startsWith(`publishers/`)){let e=this.apiClient.getProject(),t=this.apiClient.getLocation();e&&t&&(p=`projects/${e}/locations/${t}/`+p)}let m={};this.apiClient.isVertexAI()&&e.config?.responseModalities===void 0&&(e.config===void 0?e.config={responseModalities:[Co.AUDIO]}:e.config.responseModalities=[Co.AUDIO]),e.config?.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let h=e.config?.tools??[],g=[];for(let e of h)if(this.isCallableTool(e)){let t=e;g.push(await t.tool())}else g.push(e);g.length>0&&(e.config.tools=g);let _={model:p,config:e.config,callbacks:e.callbacks};return m=this.apiClient.isVertexAI()?Cu(this.apiClient,_):Su(this.apiClient,_),delete m.config,f.send(JSON.stringify(m)),new Op(f,this.apiClient)}isCallableTool(e){return`callTool`in e&&typeof e.callTool==`function`}},Dp={turnComplete:!0},Op=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=Gs(t.turns),e.isVertexAI()||(n=n.map(e=>Hu(e)))}catch{throw Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null||(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],n.length===0))throw Error(`functionResponses is required.`);for(let t of n){if(typeof t!=`object`||!t||!(`name`in t)||!(`response`in t))throw Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!(`id`in t))throw Error(wp)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Dp),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Du(e)}:{realtimeInput:Eu(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw Error(`Tool response parameters are required.`);let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function kp(e){let t={};return e.forEach((e,n)=>{t[n]=e}),t}function Ap(e){let t=new Headers;for(let[n,r]of Object.entries(e))t.append(n,r);return t}var jp=10;function Mp(e){if(e?.automaticFunctionCalling?.disable)return!0;let t=!1;for(let n of e?.tools??[])if(Np(n)){t=!0;break}if(!t)return!0;let n=e?.automaticFunctionCalling?.maximumRemoteCalls;return n&&(n<0||!Number.isInteger(n))||n==0?(console.warn(`Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:`,n),!0):!1}function Np(e){return`callTool`in e&&typeof e.callTool==`function`}function Pp(e){return(e.config?.tools)?.some(e=>Np(e))??!1}function Fp(e){let t=[];return e?.config?.tools&&e.config.tools.forEach((e,n)=>{if(Np(e))return;let r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&t.push(n)}),t}function Ip(e){return!e?.automaticFunctionCalling?.ignoreCallHistory}var Lp=class extends La{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{let t=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!Pp(e)||Mp(e.config))return await this.generateContentInternal(t);let n=Fp(e);if(n.length>0){let e=n.map(e=>`tools[${e}]`).join(`, `);throw Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let r,i,a=Gs(t.contents),o=t.config?.automaticFunctionCalling?.maximumRemoteCalls??jp,s=0;for(;s<o&&(r=await this.generateContentInternal(t),!(!r.functionCalls||r.functionCalls.length===0));){let n=r.candidates[0].content,o=[];for(let t of e.config?.tools??[])if(Np(t)){let e=await t.callTool(r.functionCalls);o.push(...e)}s++,i={role:`user`,parts:o},t.contents=Gs(t.contents),t.contents.push(n),t.contents.push(i),Ip(t.config)&&(a.push(n),a.push(i))}return Ip(t.config)&&(r.automaticFunctionCallingHistory=a),r},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),Mp(e.config)){let t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}let t=Fp(e);if(t.length>0){let e=t.map(e=>`tools[${e}]`).join(`, `);throw Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let n=e?.config?.toolConfig?.functionCallingConfig?.streamFunctionCallArguments,r=e?.config?.automaticFunctionCalling?.disable;if(n&&!r)throw Error(`Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.`);return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{let t,n=[];if(e?.generatedImages)for(let r of e.generatedImages)r&&r?.safetyAttributes&&r?.safetyAttributes?.contentType===`Positive Prompt`?t=r?.safetyAttributes:n.push(r);let r;return r=t?{generatedImages:n,positivePromptSafetyAttributes:t,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:n,sdkHttpResponse:e.sdkHttpResponse},r}),this.list=async e=>{let t={config:Object.assign(Object.assign({},{queryBase:!0}),e?.config)};if(this.apiClient.isVertexAI()&&!t.config.queryBase){if(t.config?.filter)throw Error(`Filtering tuned models list for Vertex AI is not currently supported`);t.config.filter=`labels.tune-type:*`}return new pl(fl.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(t),t)},this.editImage=async e=>{let t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:`upscale`};e.config&&(t=Object.assign(Object.assign({},t),e.config));let n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{if((e.prompt||e.image||e.video)&&e.source)throw Error(`Source and prompt/image/video are mutually exclusive. Please only use source.`);return this.apiClient.isVertexAI()||(e.video?.uri&&e.video?.videoBytes?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:e.source?.video?.uri&&e.source?.video?.videoBytes&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes(`$schema`)&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){let t=e.config?.tools;if(!t)return e;let n=await Promise.all(t.map(async e=>Np(e)?await e.tool():e)),r={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:n})};if(r.config.tools=n,e.config&&e.config.tools&&mp(e.config.tools)){let t=e.config.httpOptions?.headers??{},n=Object.assign({},t);Object.keys(n).length===0&&(n=this.apiClient.getDefaultHeaders()),hp(n),r.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:n})}return r}async initAfcToolsMap(e){let t=new Map;for(let n of e.config?.tools??[])if(Np(n)){let e=n,r=await e.tool();for(let n of r.functionDeclarations??[]){if(!n.name)throw Error(`Function declaration name is required.`);if(t.has(n.name))throw Error(`Duplicate tool declaration name: ${n.name}`);t.set(n.name,e)}}return t}async processAfcStream(e){let t=e.config?.automaticFunctionCalling?.maximumRemoteCalls??jp,n=!1,r=0,i=await this.initAfcToolsMap(e);return(function(e,i,a){return Jl(this,arguments,function*(){for(var o,s,c,l;r<t;){n&&=(r++,!1);let p=yield Q(e.processParamsMaybeAddMcpUsage(a)),m=yield Q(e.generateContentStreamInternal(p)),h=[],g=[];try{for(var u=!0,d=(s=void 0,Yl(m)),f;f=yield Q(d.next()),o=f.done,!o;u=!0){l=f.value,u=!1;let e=l;if(yield yield Q(e),e.candidates&&e.candidates[0]?.content){g.push(e.candidates[0].content);for(let n of e.candidates[0].content.parts??[])if(r<t&&n.functionCall){if(!n.functionCall.name)throw Error(`Function call name was not returned by the model.`);if(i.has(n.functionCall.name)){let e=yield Q(i.get(n.functionCall.name).callTool([n.functionCall]));h.push(...e)}else throw Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${i.keys()}, mising tool: ${n.functionCall.name}`)}}}}catch(e){s={error:e}}finally{try{!u&&!o&&(c=d.return)&&(yield Q(c.call(d)))}finally{if(s)throw s.error}}if(h.length>0){n=!0;let e=new os;e.candidates=[{content:{role:`user`,parts:h}}],yield yield Q(e);let t=[];t.push(...g),t.push({role:`user`,parts:h}),a.contents=Gs(a.contents).concat(t)}else break}})})(this,i,e)}async generateContentInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=_d(this.apiClient,e);return n=G(`{model}:generateContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=$(e),n=new os;return Object.assign(n,t),n})}else{let i=gd(this.apiClient,e);return n=G(`{model}:generateContent`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=vd(e),n=new os;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=_d(this.apiClient,e);return n=G(`{model}:streamGenerateContent?alt=sse`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.requestStream({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}),t.then(function(e){return Jl(this,arguments,function*(){var t,n,r,i;try{for(var a=!0,o=Yl(e),s;s=yield Q(o.next()),t=s.done,!t;a=!0){i=s.value,a=!1;let e=i,t=$(yield Q(e.json()));t.sdkHttpResponse={headers:e.headers};let n=new os;Object.assign(n,t),yield yield Q(n)}}catch(e){n={error:e}}finally{try{!a&&!t&&(r=o.return)&&(yield Q(r.call(o)))}finally{if(n)throw n.error}}})})}else{let i=gd(this.apiClient,e);return n=G(`{model}:streamGenerateContent?alt=sse`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.requestStream({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}),t.then(function(e){return Jl(this,arguments,function*(){var t,n,r,i;try{for(var a=!0,o=Yl(e),s;s=yield Q(o.next()),t=s.done,!t;a=!0){i=s.value,a=!1;let e=i,t=vd(yield Q(e.json()));t.sdkHttpResponse={headers:e.headers};let n=new os;Object.assign(n,t),yield yield Q(n)}}catch(e){n={error:e}}finally{try{!a&&!t&&(r=o.return)&&(yield Q(r.call(o)))}finally{if(n)throw n.error}}})})}}async embedContent(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=od(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=cd(e),n=new ss;return Object.assign(n,t),n})}else{let i=ad(this.apiClient,e);return n=G(`{model}:batchEmbedContents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=sd(e),n=new ss;return Object.assign(n,t),n})}}async generateImagesInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Sd(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=wd(e),n=new cs;return Object.assign(n,t),n})}else{let i=xd(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Cd(e),n=new cs;return Object.assign(n,t),n})}}async editImageInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=td(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=nd(e),n=new ls;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async upscaleImageInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Mf(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Nf(e),n=new us;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async recontextImage(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=uf(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=df(e),n=new ds;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async segmentImage(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=yf(this.apiClient,e);return n=G(`{model}:predict`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=bf(e),n=new fs;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Hd(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>of(e))}else{let i=Vd(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>af(e))}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=ef(this.apiClient,e);return n=G(`{models_url}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=nf(e),n=new ps;return Object.assign(n,t),n})}else{let i=$d(this.apiClient,e);return n=G(`{models_url}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=tf(e),n=new ps;return Object.assign(n,t),n})}}async update(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Af(this.apiClient,e);return n=G(`{model}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>of(e))}else{let i=kf(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`PATCH`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>af(e))}}async delete(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Zu(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=$u(e),n=new ms;return Object.assign(n,t),n})}else{let i=Xu(this.apiClient,e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Qu(e),n=new ms;return Object.assign(n,t),n})}}async countTokens(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=qu(this.apiClient,e);return n=G(`{model}:countTokens`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Yu(e),n=new hs;return Object.assign(n,t),n})}else{let i=Ku(this.apiClient,e);return n=G(`{model}:countTokens`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Ju(e),n=new hs;return Object.assign(n,t),n})}}async computeTokens(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Ru(this.apiClient,e);return n=G(`{model}:computeTokens`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=zu(e),n=new gs;return Object.assign(n,t),n})}else throw Error(`This method is only supported by the Vertex AI.`)}async generateVideosInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Ad(this.apiClient,e);return n=G(`{model}:predictLongRunning`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=Od(e),n=new _s;return Object.assign(n,t),n})}else{let i=kd(this.apiClient,e);return n=G(`{model}:predictLongRunning`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=Dd(e),n=new _s;return Object.assign(n,t),n})}}},Rp=class extends La{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let t=e.operation,n=e.config;if(t.name===void 0||t.name===``)throw Error(`Operation name is required.`);if(this.apiClient.isVertexAI()){let e=t.name.split(`/operations/`)[0],r;n&&`httpOptions`in n&&(r=n.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}else{let e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){let t=e.operation,n=e.config;if(t.name===void 0||t.name===``)throw Error(`Operation name is required.`);if(this.apiClient.isVertexAI()){let e=t.name.split(`/operations/`)[0],r;n&&`httpOptions`in n&&(r=n.httpOptions);let i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}else{let e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Ya(e);return n=G(`{operationName}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t}else{let i=Ja(e);return n=G(`{operationName}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t}}async fetchPredictVideosOperationInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Va(e);return n=G(`{resourceName}:fetchPredictOperation`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t}else throw Error(`This method is only supported by the Vertex AI.`)}};function zp(e){let t={},n=q(e,[`data`]);if(n!=null&&K(t,[`data`],n),q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Bp(e){let t={},n=q(e,[`parts`]);if(n!=null){let e=n;Array.isArray(e)&&(e=e.map(e=>Yp(e))),K(t,[`parts`],e)}let r=q(e,[`role`]);return r!=null&&K(t,[`role`],r),t}function Vp(e,t,n){let r={},i=q(t,[`expireTime`]);n!==void 0&&i!=null&&K(n,[`expireTime`],i);let a=q(t,[`newSessionExpireTime`]);n!==void 0&&a!=null&&K(n,[`newSessionExpireTime`],a);let o=q(t,[`uses`]);n!==void 0&&o!=null&&K(n,[`uses`],o);let s=q(t,[`liveConnectConstraints`]);n!==void 0&&s!=null&&K(n,[`bidiGenerateContentSetup`],Jp(e,s));let c=q(t,[`lockAdditionalFields`]);return n!==void 0&&c!=null&&K(n,[`fieldMask`],c),r}function Hp(e,t){let n={},r=q(t,[`config`]);return r!=null&&K(n,[`config`],Vp(e,r,n)),n}function Up(e){let t={};if(q(e,[`displayName`])!==void 0)throw Error(`displayName parameter is not supported in Gemini API.`);let n=q(e,[`fileUri`]);n!=null&&K(t,[`fileUri`],n);let r=q(e,[`mimeType`]);return r!=null&&K(t,[`mimeType`],r),t}function Wp(e){let t={},n=q(e,[`id`]);n!=null&&K(t,[`id`],n);let r=q(e,[`args`]);r!=null&&K(t,[`args`],r);let i=q(e,[`name`]);if(i!=null&&K(t,[`name`],i),q(e,[`partialArgs`])!==void 0)throw Error(`partialArgs parameter is not supported in Gemini API.`);if(q(e,[`willContinue`])!==void 0)throw Error(`willContinue parameter is not supported in Gemini API.`);return t}function Gp(e){let t={};if(q(e,[`authConfig`])!==void 0)throw Error(`authConfig parameter is not supported in Gemini API.`);let n=q(e,[`enableWidget`]);return n!=null&&K(t,[`enableWidget`],n),t}function Kp(e){let t={};if(q(e,[`excludeDomains`])!==void 0)throw Error(`excludeDomains parameter is not supported in Gemini API.`);if(q(e,[`blockingConfidence`])!==void 0)throw Error(`blockingConfidence parameter is not supported in Gemini API.`);let n=q(e,[`timeRangeFilter`]);return n!=null&&K(t,[`timeRangeFilter`],n),t}function qp(e,t){let n={},r=q(e,[`generationConfig`]);t!==void 0&&r!=null&&K(t,[`setup`,`generationConfig`],r);let i=q(e,[`responseModalities`]);t!==void 0&&i!=null&&K(t,[`setup`,`generationConfig`,`responseModalities`],i);let a=q(e,[`temperature`]);t!==void 0&&a!=null&&K(t,[`setup`,`generationConfig`,`temperature`],a);let o=q(e,[`topP`]);t!==void 0&&o!=null&&K(t,[`setup`,`generationConfig`,`topP`],o);let s=q(e,[`topK`]);t!==void 0&&s!=null&&K(t,[`setup`,`generationConfig`,`topK`],s);let c=q(e,[`maxOutputTokens`]);t!==void 0&&c!=null&&K(t,[`setup`,`generationConfig`,`maxOutputTokens`],c);let l=q(e,[`mediaResolution`]);t!==void 0&&l!=null&&K(t,[`setup`,`generationConfig`,`mediaResolution`],l);let u=q(e,[`seed`]);t!==void 0&&u!=null&&K(t,[`setup`,`generationConfig`,`seed`],u);let d=q(e,[`speechConfig`]);t!==void 0&&d!=null&&K(t,[`setup`,`generationConfig`,`speechConfig`],Xs(d));let f=q(e,[`thinkingConfig`]);t!==void 0&&f!=null&&K(t,[`setup`,`generationConfig`,`thinkingConfig`],f);let p=q(e,[`enableAffectiveDialog`]);t!==void 0&&p!=null&&K(t,[`setup`,`generationConfig`,`enableAffectiveDialog`],p);let m=q(e,[`systemInstruction`]);t!==void 0&&m!=null&&K(t,[`setup`,`systemInstruction`],Bp(Us(m)));let h=q(e,[`tools`]);if(t!==void 0&&h!=null){let e=Qs(h);Array.isArray(e)&&(e=e.map(e=>Zp(Zs(e)))),K(t,[`setup`,`tools`],e)}let g=q(e,[`sessionResumption`]);t!==void 0&&g!=null&&K(t,[`setup`,`sessionResumption`],Xp(g));let _=q(e,[`inputAudioTranscription`]);t!==void 0&&_!=null&&K(t,[`setup`,`inputAudioTranscription`],_);let v=q(e,[`outputAudioTranscription`]);t!==void 0&&v!=null&&K(t,[`setup`,`outputAudioTranscription`],v);let y=q(e,[`realtimeInputConfig`]);t!==void 0&&y!=null&&K(t,[`setup`,`realtimeInputConfig`],y);let b=q(e,[`contextWindowCompression`]);t!==void 0&&b!=null&&K(t,[`setup`,`contextWindowCompression`],b);let x=q(e,[`proactivity`]);if(t!==void 0&&x!=null&&K(t,[`setup`,`proactivity`],x),q(e,[`explicitVadSignal`])!==void 0)throw Error(`explicitVadSignal parameter is not supported in Gemini API.`);return n}function Jp(e,t){let n={},r=q(t,[`model`]);r!=null&&K(n,[`setup`,`model`],Y(e,r));let i=q(t,[`config`]);return i!=null&&K(n,[`config`],qp(i,n)),n}function Yp(e){let t={},n=q(e,[`mediaResolution`]);n!=null&&K(t,[`mediaResolution`],n);let r=q(e,[`codeExecutionResult`]);r!=null&&K(t,[`codeExecutionResult`],r);let i=q(e,[`executableCode`]);i!=null&&K(t,[`executableCode`],i);let a=q(e,[`fileData`]);a!=null&&K(t,[`fileData`],Up(a));let o=q(e,[`functionCall`]);o!=null&&K(t,[`functionCall`],Wp(o));let s=q(e,[`functionResponse`]);s!=null&&K(t,[`functionResponse`],s);let c=q(e,[`inlineData`]);c!=null&&K(t,[`inlineData`],zp(c));let l=q(e,[`text`]);l!=null&&K(t,[`text`],l);let u=q(e,[`thought`]);u!=null&&K(t,[`thought`],u);let d=q(e,[`thoughtSignature`]);d!=null&&K(t,[`thoughtSignature`],d);let f=q(e,[`videoMetadata`]);return f!=null&&K(t,[`videoMetadata`],f),t}function Xp(e){let t={},n=q(e,[`handle`]);if(n!=null&&K(t,[`handle`],n),q(e,[`transparent`])!==void 0)throw Error(`transparent parameter is not supported in Gemini API.`);return t}function Zp(e){let t={};if(q(e,[`retrieval`])!==void 0)throw Error(`retrieval parameter is not supported in Gemini API.`);let n=q(e,[`computerUse`]);n!=null&&K(t,[`computerUse`],n);let r=q(e,[`fileSearch`]);r!=null&&K(t,[`fileSearch`],r);let i=q(e,[`codeExecution`]);if(i!=null&&K(t,[`codeExecution`],i),q(e,[`enterpriseWebSearch`])!==void 0)throw Error(`enterpriseWebSearch parameter is not supported in Gemini API.`);let a=q(e,[`functionDeclarations`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`functionDeclarations`],e)}let o=q(e,[`googleMaps`]);o!=null&&K(t,[`googleMaps`],Gp(o));let s=q(e,[`googleSearch`]);s!=null&&K(t,[`googleSearch`],Kp(s));let c=q(e,[`googleSearchRetrieval`]);c!=null&&K(t,[`googleSearchRetrieval`],c);let l=q(e,[`urlContext`]);return l!=null&&K(t,[`urlContext`],l),t}function Qp(e){let t=[];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let r=e[n];if(typeof r==`object`&&r&&Object.keys(r).length>0){let e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(`,`)}function $p(e,t){let n=null,r=e.bidiGenerateContentSetup;if(typeof r==`object`&&r&&`setup`in r){let t=r.setup;typeof t==`object`&&t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;let i=e.fieldMask;if(n){let r=Qp(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)r?e.fieldMask=r:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){let t=[`temperature`,`topK`,`topP`,`maxOutputTokens`,`responseModalities`,`seed`,`speechConfig`],n=[];i.length>0&&(n=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));let a=[];r&&a.push(r),n.length>0&&a.push(...n),a.length>0?e.fieldMask=a.join(`,`):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(`,`):delete e.fieldMask;return e}var em=class extends La{constructor(e){super(),this.apiClient=e}async create(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`The client.tokens.create method is only supported by the Gemini Developer API.`);{let i=Hp(this.apiClient,e);n=G(`auth_tokens`,i._url),r=i._query,delete i.config,delete i._url,delete i._query;let a=$p(i,e.config);return t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(a),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}};function tm(e,t){let n={},r=q(e,[`force`]);return t!==void 0&&r!=null&&K(t,[`_query`,`force`],r),n}function nm(e){let t={},n=q(e,[`name`]);n!=null&&K(t,[`_url`,`name`],n);let r=q(e,[`config`]);return r!=null&&tm(r,t),t}function rm(e){let t={},n=q(e,[`name`]);return n!=null&&K(t,[`_url`,`name`],n),t}function im(e,t){let n={},r=q(e,[`pageSize`]);t!==void 0&&r!=null&&K(t,[`_query`,`pageSize`],r);let i=q(e,[`pageToken`]);return t!==void 0&&i!=null&&K(t,[`_query`,`pageToken`],i),n}function am(e){let t={},n=q(e,[`parent`]);n!=null&&K(t,[`_url`,`parent`],n);let r=q(e,[`config`]);return r!=null&&im(r,t),t}function om(e){let t={},n=q(e,[`sdkHttpResponse`]);n!=null&&K(t,[`sdkHttpResponse`],n);let r=q(e,[`nextPageToken`]);r!=null&&K(t,[`nextPageToken`],r);let i=q(e,[`documents`]);if(i!=null){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),K(t,[`documents`],e)}return t}var sm=class extends La{constructor(e){super(),this.apiClient=e,this.list=async e=>new pl(fl.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=rm(e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t=``,n={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let r=nm(e);t=G(`{name}`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=am(e);return n=G(`{parent}/documents`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=om(e),n=new Ss;return Object.assign(n,t),n})}}},cm=class extends La{constructor(e,t=new sm(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new pl(fl.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw Error(`Vertex AI does not support uploading files to a file search store.`);return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Hf(e);return n=G(`fileSearchStores`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async get(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Gf(e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>e)}}async delete(e){let t=``,n={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let r=Wf(e);t=G(`{name}`,r._url),n=r._query,delete r._url,delete r._query,await this.apiClient.request({path:t,queryParams:n,body:JSON.stringify(r),httpMethod:`DELETE`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal})}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Zf(e);return n=G(`fileSearchStores`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=Qf(e),n=new Cs;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=ep(e);return n=G(`upload/v1beta/{file_search_store_name}:uploadToFileSearchStore`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=tp(e),n=new ws;return Object.assign(n,t),n})}}async importFile(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=Jf(e);return n=G(`{file_search_store_name}:importFile`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json()),t.then(e=>{let t=qf(e),n=new Ts;return Object.assign(n,t),n})}}},lm=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return lm=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return`10000000-1000-4000-8000-100000000000`.replace(/[018]/g,e=>(e^n()&15>>e/4).toString(16))},um=()=>lm();function dm(e){return typeof e==`object`&&!!e&&(`name`in e&&e.name===`AbortError`||`message`in e&&String(e.message).includes(`FetchRequestCanceledException`))}var fm=e=>{if(e instanceof Error)return e;if(typeof e==`object`&&e){try{if(Object.prototype.toString.call(e)===`[object Error]`){let t=Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return Error(JSON.stringify(e))}catch{}}return Error(e)},pm=class extends Error{},mm=class e extends pm{constructor(t,n,r,i){super(`${e.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(e,t,n){let r=t?.message?typeof t.message==`string`?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||`(no status code or body)`}static generate(t,n,r,i){if(!t||!i)return new gm({message:r,cause:fm(n)});let a=n;return t===400?new vm(t,a,r,i):t===401?new ym(t,a,r,i):t===403?new bm(t,a,r,i):t===404?new xm(t,a,r,i):t===409?new Sm(t,a,r,i):t===422?new Cm(t,a,r,i):t===429?new wm(t,a,r,i):t>=500?new Tm(t,a,r,i):new e(t,a,r,i)}},hm=class extends mm{constructor({message:e}={}){super(void 0,void 0,e||`Request was aborted.`,void 0)}},gm=class extends mm{constructor({message:e,cause:t}){super(void 0,void 0,e||`Connection error.`,void 0),t&&(this.cause=t)}},_m=class extends gm{constructor({message:e}={}){super({message:e??`Request timed out.`})}},vm=class extends mm{},ym=class extends mm{},bm=class extends mm{},xm=class extends mm{},Sm=class extends mm{},Cm=class extends mm{},wm=class extends mm{},Tm=class extends mm{},Em=/^[a-z][a-z0-9+.-]*:/i,Dm=e=>Em.test(e),Om=e=>(Om=Array.isArray,Om(e)),km=Om;function Am(e){if(!e)return!0;for(let t in e)return!1;return!0}function jm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mm=(e,t)=>{if(typeof t!=`number`||!Number.isInteger(t))throw new pm(`${e} must be an integer`);if(t<0)throw new pm(`${e} must be a positive integer`);return t},Nm=e=>{try{return JSON.parse(e)}catch{return}},Pm=e=>new Promise(t=>setTimeout(t,e)),Fm=`0.0.1`;function Im(){return typeof Deno<`u`&&Deno.build!=null?`deno`:typeof EdgeRuntime<`u`?`edge`:Object.prototype.toString.call(globalThis.process===void 0?0:globalThis.process)===`[object process]`?`node`:`unknown`}var Lm=()=>{let e=Im();if(e===`deno`)return{"X-Stainless-Lang":`js`,"X-Stainless-Package-Version":Fm,"X-Stainless-OS":Bm(Deno.build.os),"X-Stainless-Arch":zm(Deno.build.arch),"X-Stainless-Runtime":`deno`,"X-Stainless-Runtime-Version":typeof Deno.version==`string`?Deno.version:Deno.version?.deno??`unknown`};if(typeof EdgeRuntime<`u`)return{"X-Stainless-Lang":`js`,"X-Stainless-Package-Version":Fm,"X-Stainless-OS":`Unknown`,"X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":`edge`,"X-Stainless-Runtime-Version":globalThis.process.version};if(e===`node`)return{"X-Stainless-Lang":`js`,"X-Stainless-Package-Version":Fm,"X-Stainless-OS":Bm(globalThis.process.platform??`unknown`),"X-Stainless-Arch":zm(globalThis.process.arch??`unknown`),"X-Stainless-Runtime":`node`,"X-Stainless-Runtime-Version":globalThis.process.version??`unknown`};let t=Rm();return t?{"X-Stainless-Lang":`js`,"X-Stainless-Package-Version":Fm,"X-Stainless-OS":`Unknown`,"X-Stainless-Arch":`unknown`,"X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":`js`,"X-Stainless-Package-Version":Fm,"X-Stainless-OS":`Unknown`,"X-Stainless-Arch":`unknown`,"X-Stainless-Runtime":`unknown`,"X-Stainless-Runtime-Version":`unknown`}};function Rm(){if(typeof navigator>`u`||!navigator)return null;for(let{key:e,pattern:t}of[{key:`edge`,pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:`ie`,pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:`ie`,pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:`chrome`,pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:`firefox`,pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:`safari`,pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let n=t.exec(navigator.userAgent);if(n)return{browser:e,version:`${n[1]||0}.${n[2]||0}.${n[3]||0}`}}return null}var zm=e=>e===`x32`?`x32`:e===`x86_64`||e===`x64`?`x64`:e===`arm`?`arm`:e===`aarch64`||e===`arm64`?`arm64`:e?`other:${e}`:`unknown`,Bm=e=>(e=e.toLowerCase(),e.includes(`ios`)?`iOS`:e===`android`?`Android`:e===`darwin`?`MacOS`:e===`win32`?`Windows`:e===`freebsd`?`FreeBSD`:e===`openbsd`?`OpenBSD`:e===`linux`?`Linux`:e?`Other:${e}`:`Unknown`),Vm,Hm=()=>Vm??=Lm();function Um(){if(typeof fetch<`u`)return fetch;throw Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Wm(...e){let t=globalThis.ReadableStream;if(t===void 0)throw Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Gm(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Wm({start(){},async pull(e){let{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){await t.return?.call(t)}})}function Km(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qm(e){var t;if(typeof e!=`object`||!e)return;if(e[Symbol.asyncIterator]){await(t=e[Symbol.asyncIterator]()).return?.call(t);return}let n=e.getReader(),r=n.cancel();n.releaseLock(),await r}var Jm=({headers:e,body:t})=>({bodyHeaders:{"content-type":`application/json`},body:JSON.stringify(t)}),Ym=()=>{if(typeof File>`u`){let{process:e}=globalThis,t=typeof e?.versions?.node==`string`&&parseInt(e.versions.node.split(`.`))<20;throw Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":``))}};function Xm(e,t,n){return Ym(),new File(e,t??`unknown_file`,n)}function Zm(e){return(typeof e==`object`&&!!e&&(`name`in e&&e.name&&String(e.name)||`url`in e&&e.url&&String(e.url)||`filename`in e&&e.filename&&String(e.filename)||`path`in e&&e.path&&String(e.path))||``).split(/[\\/]/).pop()||void 0}var Qm=e=>typeof e==`object`&&!!e&&typeof e[Symbol.asyncIterator]==`function`,$m=e=>typeof e==`object`&&!!e&&typeof e.size==`number`&&typeof e.type==`string`&&typeof e.text==`function`&&typeof e.slice==`function`&&typeof e.arrayBuffer==`function`,eh=e=>typeof e==`object`&&!!e&&typeof e.name==`string`&&typeof e.lastModified==`number`&&$m(e),th=e=>typeof e==`object`&&!!e&&typeof e.url==`string`&&typeof e.blob==`function`;async function nh(e,t,n){if(Ym(),e=await e,eh(e))return e instanceof File?e:Xm([await e.arrayBuffer()],e.name);if(th(e)){let r=await e.blob();return t||=new URL(e.url).pathname.split(/[\\/]/).pop(),Xm(await rh(r),t,n)}let r=await rh(e);if(t||=Zm(e),!n?.type){let e=r.find(e=>typeof e==`object`&&`type`in e&&e.type);typeof e==`string`&&(n=Object.assign(Object.assign({},n),{type:e}))}return Xm(r,t,n)}async function rh(e){var t,n,r,i;let a=[];if(typeof e==`string`||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if($m(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(Qm(e))try{for(var o=!0,s=Yl(e),c;c=await s.next(),t=c.done,!t;o=!0){i=c.value,o=!1;let e=i;a.push(...await rh(e))}}catch(e){n={error:e}}finally{try{!o&&!t&&(r=s.return)&&await r.call(s)}finally{if(n)throw n.error}}else{let t=e?.constructor?.name;throw Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:``}${ih(e)}`)}return a}function ih(e){return typeof e!=`object`||!e?``:`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(`, `)}]`}var ah=class{constructor(e){this._client=e}};ah._key=[];function oh(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var sh=Object.freeze(Object.create(null)),ch=((e=oh)=>(function(t,...n){if(t.length===1)return t[0];let r=!1,i=[],a=t.reduce((t,a,o)=>{/[?#]/.test(a)&&(r=!0);let s=n[o],c=(r?encodeURIComponent:e)(``+s);return o!==n.length&&(s==null||typeof s==`object`&&s.toString===Object.getPrototypeOf(Object.getPrototypeOf(s.hasOwnProperty??sh)??sh)?.toString)&&(c=s+``,i.push({start:t.length+a.length,length:c.length,error:`Value of type ${Object.prototype.toString.call(s).slice(8,-1)} is not a valid path parameter`})),t+a+(o===n.length?``:c)},``),o=a.split(/[?#]/,1)[0],s=RegExp(`(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)`,`gi`),c;for(;(c=s.exec(o))!==null;)i.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can\'t be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0,t=i.reduce((t,n)=>{let r=` `.repeat(n.start-e),i=`^`.repeat(n.length);return e=n.start+n.length,t+r+i},``);throw new pm(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join(`
`)}\n${a}\n${t}`)}return a}))(oh),lh=class extends ah{create(e,t){let{api_version:n=this._client.apiVersion}=e,r=Kl(e,[`api_version`]);if(`model`in r&&`agent_config`in r)throw new pm("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if(`agent`in r&&`generation_config`in r)throw new pm("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ch`/${n}/interactions`,Object.assign(Object.assign({body:r},t),{stream:e.stream??!1}))}delete(e,t={},n){let{api_version:r=this._client.apiVersion}=t??{};return this._client.delete(ch`/${r}/interactions/${e}`,n)}cancel(e,t={},n){let{api_version:r=this._client.apiVersion}=t??{};return this._client.post(ch`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){let r=t??{},{api_version:i=this._client.apiVersion}=r,a=Kl(r,[`api_version`]);return this._client.get(ch`/${i}/interactions/${e}`,Object.assign(Object.assign({query:a},n),{stream:t?.stream??!1}))}};lh._key=Object.freeze([`interactions`]);var uh=class extends lh{};function dh(e){let t=0;for(let n of e)t+=n.length;let n=new Uint8Array(t),r=0;for(let t of e)n.set(t,r),r+=t.length;return n}var fh;function ph(e){let t;return(fh??=(t=new globalThis.TextEncoder,t.encode.bind(t)))(e)}var mh;function hh(e){let t;return(mh??=(t=new globalThis.TextDecoder,t.decode.bind(t)))(e)}var gh=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e==`string`?ph(e):e;this.buffer=dh([this.buffer,t]);let n=[],r;for(;(r=_h(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(hh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let e=this.carriageReturnIndex===null?r.preceding:r.preceding-1,t=hh(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}};gh.NEWLINE_CHARS=new Set([`
`,`\r`]),gh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _h(e,t){for(let n=t??0;n<e.length;n++){if(e[n]===10)return{preceding:n,index:n+1,carriage:!1};if(e[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function vh(e){for(let t=0;t<e.length-1;t++){if(e[t]===10&&e[t+1]===10||e[t]===13&&e[t+1]===13)return t+2;if(e[t]===13&&e[t+1]===10&&t+3<e.length&&e[t+2]===13&&e[t+3]===10)return t+4}return-1}var yh={off:0,error:200,warn:300,info:400,debug:500},bh=(e,t,n)=>{if(e){if(jm(yh,e))return e;Th(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(yh))}`)}};function xh(){}function Sh(e,t,n){return!t||yh[e]>yh[n]?xh:t[e].bind(t)}var Ch={error:xh,warn:xh,info:xh,debug:xh},wh=new WeakMap;function Th(e){let t=e.logger,n=e.logLevel??`off`;if(!t)return Ch;let r=wh.get(t);if(r&&r[0]===n)return r[1];let i={error:Sh(`error`,t,n),warn:Sh(`warn`,t,n),info:Sh(`info`,t,n),debug:Sh(`debug`,t,n)};return wh.set(t,[n,i]),i}var Eh=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,e.toLowerCase()===`x-goog-api-key`||e.toLowerCase()===`authorization`||e.toLowerCase()===`cookie`||e.toLowerCase()===`set-cookie`?`***`:t])),`retryOfRequestLogID`in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e),Dh=class e{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(t,n,r){let i=!1,a=r?Th(r):console;function o(){return Jl(this,arguments,function*(){var e,r,o,s;if(i)throw new pm("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let c=!1;try{try{for(var l=!0,u=Yl(Oh(t,n)),d;d=yield Q(u.next()),e=d.done,!e;l=!0){s=d.value,l=!1;let e=s;if(!c)if(e.data.startsWith(`[DONE]`)){c=!0;continue}else try{yield yield Q(JSON.parse(e.data))}catch(t){throw a.error(`Could not parse message into JSON:`,e.data),a.error(`From chunk:`,e.raw),t}}}catch(e){r={error:e}}finally{try{!l&&!e&&(o=u.return)&&(yield Q(o.call(u)))}finally{if(r)throw r.error}}c=!0}catch(e){if(dm(e))return yield Q(void 0);throw e}finally{c||n.abort()}})}return new e(o,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return Jl(this,arguments,function*(){var e,n,r,i;let a=new gh,o=Km(t);try{for(var s=!0,c=Yl(o),l;l=yield Q(c.next()),e=l.done,!e;s=!0){i=l.value,s=!1;let e=i;for(let t of a.decode(e))yield yield Q(t)}}catch(e){n={error:e}}finally{try{!s&&!e&&(r=c.return)&&(yield Q(r.call(c)))}finally{if(n)throw n.error}}for(let e of a.flush())yield yield Q(e)})}function o(){return Jl(this,arguments,function*(){var e,t,r,o;if(i)throw new pm("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let s=!1;try{try{for(var c=!0,l=Yl(a()),u;u=yield Q(l.next()),e=u.done,!e;c=!0){o=u.value,c=!1;let e=o;s||e&&(yield yield Q(JSON.parse(e)))}}catch(e){t={error:e}}finally{try{!c&&!e&&(r=l.return)&&(yield Q(r.call(l)))}finally{if(t)throw t.error}}s=!0}catch(e){if(dm(e))return yield Q(void 0);throw e}finally{s||n.abort()}})}return new e(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],n=[],r=this.iterator(),i=e=>({next:()=>{if(e.length===0){let e=r.next();t.push(e),n.push(e)}return e.shift()}});return[new e(()=>i(t),this.controller,this.client),new e(()=>i(n),this.controller,this.client)]}toReadableStream(){let e=this,t;return Wm({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{let{value:n,done:r}=await t.next();if(r)return e.close();let i=ph(JSON.stringify(n)+`
`);e.enqueue(i)}catch(t){e.error(t)}},async cancel(){await t.return?.call(t)}})}};function Oh(e,t){return Jl(this,arguments,function*(){var n,r,i,a;if(!e.body)throw t.abort(),globalThis.navigator!==void 0&&globalThis.navigator.product===`ReactNative`?new pm(`The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api`):new pm(`Attempted to iterate over a response with no body`);let o=new Ah,s=new gh,c=Km(e.body);try{for(var l=!0,u=Yl(kh(c)),d;d=yield Q(u.next()),n=d.done,!n;l=!0){a=d.value,l=!1;let e=a;for(let t of s.decode(e)){let e=o.decode(t);e&&(yield yield Q(e))}}}catch(e){r={error:e}}finally{try{!l&&!n&&(i=u.return)&&(yield Q(i.call(u)))}finally{if(r)throw r.error}}for(let e of s.flush()){let t=o.decode(e);t&&(yield yield Q(t))}})}function kh(e){return Jl(this,arguments,function*(){var t,n,r,i;let a=new Uint8Array;try{for(var o=!0,s=Yl(e),c;c=yield Q(s.next()),t=c.done,!t;o=!0){i=c.value,o=!1;let e=i;if(e==null)continue;let t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e==`string`?ph(e):e,n=new Uint8Array(a.length+t.length);n.set(a),n.set(t,a.length),a=n;let r;for(;(r=vh(a))!==-1;)yield yield Q(a.slice(0,r)),a=a.slice(r)}}catch(e){n={error:e}}finally{try{!o&&!t&&(r=s.return)&&(yield Q(r.call(s)))}finally{if(n)throw n.error}}a.length>0&&(yield yield Q(a))})}var Ah=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith(`\r`)&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(`:`))return null;let[t,n,r]=jh(e,`:`);return r.startsWith(` `)&&(r=r.substring(1)),t===`event`?this.event=r:t===`data`&&this.data.push(r),null}};function jh(e,t){let n=e.indexOf(t);return n===-1?[e,``,``]:[e.substring(0,n),t,e.substring(n+t.length)]}async function Mh(e,t){let{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,o=await(async()=>{if(t.options.stream)return Th(e).debug(`response`,n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Dh.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;let r=(n.headers.get(`content-type`)?.split(`;`)[0])?.trim();return r?.includes(`application/json`)||r?.endsWith(`+json`)?await n.json():await n.text()})();return Th(e).debug(`[${r}] response parsed`,Eh({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}var Nh=class e extends Promise{constructor(e,t,n=Mh){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(t){return new e(this.client,this.responsePromise,async(e,n)=>t(await this.parseResponse(e,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||=this.responsePromise.then(e=>this.parseResponse(this.client,e)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}},Ph=Symbol(`brand.privateNullableHeaders`);function*Fh(e){if(!e)return;if(Ph in e){let{values:t,nulls:n}=e;yield*t.entries();for(let e of n)yield[e,null];return}let t=!1,n;e instanceof Headers?n=e.entries():km(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let e of n){let n=e[0];if(typeof n!=`string`)throw TypeError(`expected header name to be a string`);let r=km(e[1])?e[1]:[e[1]],i=!1;for(let e of r)e!==void 0&&(t&&!i&&(i=!0,yield[n,null]),yield[n,e])}}var Ih=e=>{let t=new Headers,n=new Set;for(let r of e){let e=new Set;for(let[i,a]of Fh(r)){let r=i.toLowerCase();e.has(r)||(t.delete(i),e.add(r)),a===null?(t.delete(i),n.add(r)):(t.append(i,a),n.delete(r))}}return{[Ph]:!0,values:t,nulls:n}},Lh=e=>{var t;if(globalThis.process!==void 0)return({}?.[e])?.trim()??void 0;if(globalThis.Deno!==void 0)return(((t=globalThis.Deno.env)?.get)?.call(t,e))?.trim()},Rh,zh=class e{constructor(t){var{baseURL:n=Lh(`GEMINI_NEXT_GEN_API_BASE_URL`),apiKey:r=Lh(`GEMINI_API_KEY`)??null,apiVersion:i=`v1beta`}=t,a=Kl(t,[`baseURL`,`apiKey`,`apiVersion`]);let o=Object.assign(Object.assign({apiKey:r,apiVersion:i},a),{baseURL:n||`https://generativelanguage.googleapis.com`});this.baseURL=o.baseURL,this.timeout=o.timeout??e.DEFAULT_TIMEOUT,this.logger=o.logger??console;let s=`warn`;this.logLevel=s,this.logLevel=bh(o.logLevel,`ClientOptions.logLevel`,this)??bh(Lh(`GEMINI_NEXT_GEN_API_LOG`),`process.env['GEMINI_NEXT_GEN_API_LOG']`,this)??s,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??Um(),this.encoder=Jm,this._options=o,this.apiKey=r,this.apiVersion=i,this.clientAdapter=o.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!==`https://generativelanguage.googleapis.com`}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has(`authorization`)||e.has(`x-goog-api-key`))&&!(this.apiKey&&e.get(`x-goog-api-key`))&&!t.has(`x-goog-api-key`))throw Error(`Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted`)}async authHeaders(e){let t=Ih([e.headers]);if(!(t.values.has(`authorization`)||t.values.has(`x-goog-api-key`))){if(this.apiKey)return Ih([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ih([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>t!==void 0).map(([e,t])=>{if(typeof t==`string`||typeof t==`number`||typeof t==`boolean`)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(t===null)return`${encodeURIComponent(e)}=`;throw new pm(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join(`&`)}getUserAgent(){return`${this.constructor.name}/JS ${Fm}`}defaultIdempotencyKey(){return`stainless-node-retry-${um()}`}makeStatusError(e,t,n,r){return mm.generate(e,t,n,r)}buildURL(e,t,n){let r=!this.baseURLOverridden()&&n||this.baseURL,i=Dm(e)?new URL(e):new URL(r+(r.endsWith(`/`)&&e.startsWith(`/`)?e.slice(1):e)),a=this.defaultQuery();return Am(a)||(t=Object.assign(Object.assign({},a),t)),typeof t==`object`&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){let t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest(`get`,e,t)}post(e,t){return this.methodRequest(`post`,e,t)}patch(e,t){return this.methodRequest(`patch`,e,t)}put(e,t){return this.methodRequest(`put`,e,t)}delete(e,t){return this.methodRequest(`delete`,e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new Nh(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){let r=await e,i=r.maxRetries??this.maxRetries;t??=i,await this.prepareOptions(r);let{req:a,url:o,timeout:s}=await this.buildRequest(r,{retryCount:i-t});await this.prepareRequest(a,{url:o,options:r});let c=`log_`+(Math.random()*(1<<24)|0).toString(16).padStart(6,`0`),l=n===void 0?``:`, retryOf: ${n}`,u=Date.now();if(Th(this).debug(`[${c}] sending request`,Eh({retryOfRequestLogID:n,method:r.method,url:o,options:r,headers:a.headers})),r.signal?.aborted)throw new hm;let d=new AbortController,f=await this.fetchWithTimeout(o,a,s,d).catch(fm),p=Date.now();if(f instanceof globalThis.Error){let e=`retrying, ${t} attempts remaining`;if(r.signal?.aborted)throw new hm;let i=dm(f)||/timed? ?out/i.test(String(f)+(`cause`in f?String(f.cause):``));if(t)return Th(this).info(`[${c}] connection ${i?`timed out`:`failed`} - ${e}`),Th(this).debug(`[${c}] connection ${i?`timed out`:`failed`} (${e})`,Eh({retryOfRequestLogID:n,url:o,durationMs:p-u,message:f.message})),this.retryRequest(r,t,n??c);throw Th(this).info(`[${c}] connection ${i?`timed out`:`failed`} - error; no more retries left`),Th(this).debug(`[${c}] connection ${i?`timed out`:`failed`} (error; no more retries left)`,Eh({retryOfRequestLogID:n,url:o,durationMs:p-u,message:f.message})),i?new _m:new gm({cause:f})}let m=`[${c}${l}] ${a.method} ${o} ${f.ok?`succeeded`:`failed`} with status ${f.status} in ${p-u}ms`;if(!f.ok){let e=await this.shouldRetry(f);if(t&&e){let e=`retrying, ${t} attempts remaining`;return await qm(f.body),Th(this).info(`${m} - ${e}`),Th(this).debug(`[${c}] response error (${e})`,Eh({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),this.retryRequest(r,t,n??c,f.headers)}let i=e?`error; no more retries left`:`error; not retryable`;Th(this).info(`${m} - ${i}`);let a=await f.text().catch(e=>fm(e).message),o=Nm(a),s=o?void 0:a;throw Th(this).debug(`[${c}] response error (${i})`,Eh({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:s,durationMs:Date.now()-u})),this.makeStatusError(f.status,o,s,f.headers)}return Th(this).info(m),Th(this).debug(`[${c}] response start`,Eh({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-u})),{response:f,options:r,controller:d,requestLogID:c,retryOfRequestLogID:n,startTime:u}}async fetchWithTimeout(e,t,n,r){let i=t||{},{signal:a,method:o}=i,s=Kl(i,[`signal`,`method`]);a&&a.addEventListener(`abort`,()=>r.abort());let c=setTimeout(()=>r.abort(),n),l=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||typeof s.body==`object`&&s.body!==null&&Symbol.asyncIterator in s.body,u=Object.assign(Object.assign(Object.assign({signal:r.signal},l?{duplex:`half`}:{}),{method:`GET`}),s);o&&(u.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(c)}}async shouldRetry(e){let t=e.headers.get(`x-should-retry`);return t===`true`?!0:t===`false`?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,n,r){let i,a=r?.get(`retry-after-ms`);if(a){let e=parseFloat(a);Number.isNaN(e)||(i=e)}let o=r?.get(`retry-after`);if(o&&!i){let e=parseFloat(o);i=Number.isNaN(e)?Date.parse(o)-Date.now():e*1e3}if(!(i&&0<=i&&i<60*1e3)){let n=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Pm(i),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){let n=t-e;return Math.min(.5*2**n,8)*(1-Math.random()*.25)*1e3}async buildRequest(e,{retryCount:t=0}={}){let n=Object.assign({},e),{method:r,path:i,query:a,defaultBaseURL:o}=n,s=this.buildURL(i,a,o);`timeout`in n&&Mm(`timeout`,n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:c,body:l}=this.buildBody({options:n}),u=await this.buildHeaders({options:e,method:r,bodyHeaders:c,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:r,headers:u},n.signal&&{signal:n.signal}),globalThis.ReadableStream&&l instanceof globalThis.ReadableStream&&{duplex:`half`}),l&&{body:l}),this.fetchOptions??{}),n.fetchOptions??{}),url:s,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let i={};this.idempotencyHeader&&t!==`get`&&(e.idempotencyKey||=this.defaultIdempotencyKey(),i[this.idempotencyHeader]=e.idempotencyKey);let a=await this.authHeaders(e),o=Ih([i,Object.assign(Object.assign({Accept:`application/json`,"User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Hm()),this._options.defaultHeaders,n,e.headers,a]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=Ih([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e==`string`&&n.values.has(`content-type`)||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e==`object`&&(Symbol.asyncIterator in e||Symbol.iterator in e&&`next`in e&&typeof e.next==`function`)?{bodyHeaders:void 0,body:Gm(e)}:this.encoder({body:e,headers:n})}};zh.DEFAULT_TIMEOUT=6e4;var Bh=class extends zh{constructor(){super(...arguments),this.interactions=new uh(this)}};Rh=Bh,Bh.GeminiNextGenAPIClient=Rh,Bh.GeminiNextGenAPIClientError=pm,Bh.APIError=mm,Bh.APIConnectionError=gm,Bh.APIConnectionTimeoutError=_m,Bh.APIUserAbortError=hm,Bh.NotFoundError=xm,Bh.ConflictError=Sm,Bh.RateLimitError=wm,Bh.BadRequestError=vm,Bh.AuthenticationError=ym,Bh.InternalServerError=Tm,Bh.PermissionDeniedError=bm,Bh.UnprocessableEntityError=Cm,Bh.toFile=nh,Bh.Interactions=uh;function Vh(e,t){let n={},r=q(e,[`name`]);return r!=null&&K(n,[`_url`,`name`],r),n}function Hh(e,t){let n={},r=q(e,[`name`]);return r!=null&&K(n,[`_url`,`name`],r),n}function Uh(e,t){let n={},r=q(e,[`sdkHttpResponse`]);return r!=null&&K(n,[`sdkHttpResponse`],r),n}function Wh(e,t){let n={},r=q(e,[`sdkHttpResponse`]);return r!=null&&K(n,[`sdkHttpResponse`],r),n}function Gh(e,t,n){let r={};if(q(e,[`validationDataset`])!==void 0)throw Error(`validationDataset parameter is not supported in Gemini API.`);let i=q(e,[`tunedModelDisplayName`]);if(t!==void 0&&i!=null&&K(t,[`displayName`],i),q(e,[`description`])!==void 0)throw Error(`description parameter is not supported in Gemini API.`);let a=q(e,[`epochCount`]);t!==void 0&&a!=null&&K(t,[`tuningTask`,`hyperparameters`,`epochCount`],a);let o=q(e,[`learningRateMultiplier`]);if(o!=null&&K(r,[`tuningTask`,`hyperparameters`,`learningRateMultiplier`],o),q(e,[`exportLastCheckpointOnly`])!==void 0)throw Error(`exportLastCheckpointOnly parameter is not supported in Gemini API.`);if(q(e,[`preTunedModelCheckpointId`])!==void 0)throw Error(`preTunedModelCheckpointId parameter is not supported in Gemini API.`);if(q(e,[`adapterSize`])!==void 0)throw Error(`adapterSize parameter is not supported in Gemini API.`);let s=q(e,[`batchSize`]);t!==void 0&&s!=null&&K(t,[`tuningTask`,`hyperparameters`,`batchSize`],s);let c=q(e,[`learningRate`]);if(t!==void 0&&c!=null&&K(t,[`tuningTask`,`hyperparameters`,`learningRate`],c),q(e,[`labels`])!==void 0)throw Error(`labels parameter is not supported in Gemini API.`);if(q(e,[`beta`])!==void 0)throw Error(`beta parameter is not supported in Gemini API.`);return r}function Kh(e,t,n){let r={},i=q(n,[`config`,`method`]);if(i===void 0&&(i=`SUPERVISED_FINE_TUNING`),i===`SUPERVISED_FINE_TUNING`){let n=q(e,[`validationDataset`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`],lg(n))}else if(i===`PREFERENCE_TUNING`){let n=q(e,[`validationDataset`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`],lg(n))}let a=q(e,[`tunedModelDisplayName`]);t!==void 0&&a!=null&&K(t,[`tunedModelDisplayName`],a);let o=q(e,[`description`]);t!==void 0&&o!=null&&K(t,[`description`],o);let s=q(n,[`config`,`method`]);if(s===void 0&&(s=`SUPERVISED_FINE_TUNING`),s===`SUPERVISED_FINE_TUNING`){let n=q(e,[`epochCount`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`,`hyperParameters`,`epochCount`],n)}else if(s===`PREFERENCE_TUNING`){let n=q(e,[`epochCount`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`,`hyperParameters`,`epochCount`],n)}let c=q(n,[`config`,`method`]);if(c===void 0&&(c=`SUPERVISED_FINE_TUNING`),c===`SUPERVISED_FINE_TUNING`){let n=q(e,[`learningRateMultiplier`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`,`hyperParameters`,`learningRateMultiplier`],n)}else if(c===`PREFERENCE_TUNING`){let n=q(e,[`learningRateMultiplier`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`,`hyperParameters`,`learningRateMultiplier`],n)}let l=q(n,[`config`,`method`]);if(l===void 0&&(l=`SUPERVISED_FINE_TUNING`),l===`SUPERVISED_FINE_TUNING`){let n=q(e,[`exportLastCheckpointOnly`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`,`exportLastCheckpointOnly`],n)}else if(l===`PREFERENCE_TUNING`){let n=q(e,[`exportLastCheckpointOnly`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`,`exportLastCheckpointOnly`],n)}let u=q(n,[`config`,`method`]);if(u===void 0&&(u=`SUPERVISED_FINE_TUNING`),u===`SUPERVISED_FINE_TUNING`){let n=q(e,[`adapterSize`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`,`hyperParameters`,`adapterSize`],n)}else if(u===`PREFERENCE_TUNING`){let n=q(e,[`adapterSize`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`,`hyperParameters`,`adapterSize`],n)}if(q(e,[`batchSize`])!==void 0)throw Error(`batchSize parameter is not supported in Vertex AI.`);if(q(e,[`learningRate`])!==void 0)throw Error(`learningRate parameter is not supported in Vertex AI.`);let d=q(e,[`labels`]);t!==void 0&&d!=null&&K(t,[`labels`],d);let f=q(e,[`beta`]);return t!==void 0&&f!=null&&K(t,[`preferenceOptimizationSpec`,`hyperParameters`,`beta`],f),r}function qh(e,t){let n={},r=q(e,[`baseModel`]);r!=null&&K(n,[`baseModel`],r);let i=q(e,[`preTunedModel`]);i!=null&&K(n,[`preTunedModel`],i);let a=q(e,[`trainingDataset`]);a!=null&&ig(a);let o=q(e,[`config`]);return o!=null&&Gh(o,n),n}function Jh(e,t){let n={},r=q(e,[`baseModel`]);r!=null&&K(n,[`baseModel`],r);let i=q(e,[`preTunedModel`]);i!=null&&K(n,[`preTunedModel`],i);let a=q(e,[`trainingDataset`]);a!=null&&ag(a,n,t);let o=q(e,[`config`]);return o!=null&&Kh(o,n,t),n}function Yh(e,t){let n={},r=q(e,[`name`]);return r!=null&&K(n,[`_url`,`name`],r),n}function Xh(e,t){let n={},r=q(e,[`name`]);return r!=null&&K(n,[`_url`,`name`],r),n}function Zh(e,t,n){let r={},i=q(e,[`pageSize`]);t!==void 0&&i!=null&&K(t,[`_query`,`pageSize`],i);let a=q(e,[`pageToken`]);t!==void 0&&a!=null&&K(t,[`_query`,`pageToken`],a);let o=q(e,[`filter`]);return t!==void 0&&o!=null&&K(t,[`_query`,`filter`],o),r}function Qh(e,t,n){let r={},i=q(e,[`pageSize`]);t!==void 0&&i!=null&&K(t,[`_query`,`pageSize`],i);let a=q(e,[`pageToken`]);t!==void 0&&a!=null&&K(t,[`_query`,`pageToken`],a);let o=q(e,[`filter`]);return t!==void 0&&o!=null&&K(t,[`_query`,`filter`],o),r}function $h(e,t){let n={},r=q(e,[`config`]);return r!=null&&Zh(r,n),n}function eg(e,t){let n={},r=q(e,[`config`]);return r!=null&&Qh(r,n),n}function tg(e,t){let n={},r=q(e,[`sdkHttpResponse`]);r!=null&&K(n,[`sdkHttpResponse`],r);let i=q(e,[`nextPageToken`]);i!=null&&K(n,[`nextPageToken`],i);let a=q(e,[`tunedModels`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>og(e))),K(n,[`tuningJobs`],e)}return n}function ng(e,t){let n={},r=q(e,[`sdkHttpResponse`]);r!=null&&K(n,[`sdkHttpResponse`],r);let i=q(e,[`nextPageToken`]);i!=null&&K(n,[`nextPageToken`],i);let a=q(e,[`tuningJobs`]);if(a!=null){let e=a;Array.isArray(e)&&(e=e.map(e=>sg(e))),K(n,[`tuningJobs`],e)}return n}function rg(e,t){let n={},r=q(e,[`name`]);r!=null&&K(n,[`model`],r);let i=q(e,[`name`]);return i!=null&&K(n,[`endpoint`],i),n}function ig(e,t){let n={};if(q(e,[`gcsUri`])!==void 0)throw Error(`gcsUri parameter is not supported in Gemini API.`);if(q(e,[`vertexDatasetResource`])!==void 0)throw Error(`vertexDatasetResource parameter is not supported in Gemini API.`);let r=q(e,[`examples`]);if(r!=null){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),K(n,[`examples`,`examples`],e)}return n}function ag(e,t,n){let r={},i=q(n,[`config`,`method`]);if(i===void 0&&(i=`SUPERVISED_FINE_TUNING`),i===`SUPERVISED_FINE_TUNING`){let n=q(e,[`gcsUri`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`,`trainingDatasetUri`],n)}else if(i===`PREFERENCE_TUNING`){let n=q(e,[`gcsUri`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`,`trainingDatasetUri`],n)}let a=q(n,[`config`,`method`]);if(a===void 0&&(a=`SUPERVISED_FINE_TUNING`),a===`SUPERVISED_FINE_TUNING`){let n=q(e,[`vertexDatasetResource`]);t!==void 0&&n!=null&&K(t,[`supervisedTuningSpec`,`trainingDatasetUri`],n)}else if(a===`PREFERENCE_TUNING`){let n=q(e,[`vertexDatasetResource`]);t!==void 0&&n!=null&&K(t,[`preferenceOptimizationSpec`,`trainingDatasetUri`],n)}if(q(e,[`examples`])!==void 0)throw Error(`examples parameter is not supported in Vertex AI.`);return r}function og(e,t){let n={},r=q(e,[`sdkHttpResponse`]);r!=null&&K(n,[`sdkHttpResponse`],r);let i=q(e,[`name`]);i!=null&&K(n,[`name`],i);let a=q(e,[`state`]);a!=null&&K(n,[`state`],tc(a));let o=q(e,[`createTime`]);o!=null&&K(n,[`createTime`],o);let s=q(e,[`tuningTask`,`startTime`]);s!=null&&K(n,[`startTime`],s);let c=q(e,[`tuningTask`,`completeTime`]);c!=null&&K(n,[`endTime`],c);let l=q(e,[`updateTime`]);l!=null&&K(n,[`updateTime`],l);let u=q(e,[`description`]);u!=null&&K(n,[`description`],u);let d=q(e,[`baseModel`]);d!=null&&K(n,[`baseModel`],d);let f=q(e,[`_self`]);return f!=null&&K(n,[`tunedModel`],rg(f)),n}function sg(e,t){let n={},r=q(e,[`sdkHttpResponse`]);r!=null&&K(n,[`sdkHttpResponse`],r);let i=q(e,[`name`]);i!=null&&K(n,[`name`],i);let a=q(e,[`state`]);a!=null&&K(n,[`state`],tc(a));let o=q(e,[`createTime`]);o!=null&&K(n,[`createTime`],o);let s=q(e,[`startTime`]);s!=null&&K(n,[`startTime`],s);let c=q(e,[`endTime`]);c!=null&&K(n,[`endTime`],c);let l=q(e,[`updateTime`]);l!=null&&K(n,[`updateTime`],l);let u=q(e,[`error`]);u!=null&&K(n,[`error`],u);let d=q(e,[`description`]);d!=null&&K(n,[`description`],d);let f=q(e,[`baseModel`]);f!=null&&K(n,[`baseModel`],f);let p=q(e,[`tunedModel`]);p!=null&&K(n,[`tunedModel`],p);let m=q(e,[`preTunedModel`]);m!=null&&K(n,[`preTunedModel`],m);let h=q(e,[`supervisedTuningSpec`]);h!=null&&K(n,[`supervisedTuningSpec`],h);let g=q(e,[`preferenceOptimizationSpec`]);g!=null&&K(n,[`preferenceOptimizationSpec`],g);let _=q(e,[`tuningDataStats`]);_!=null&&K(n,[`tuningDataStats`],_);let v=q(e,[`encryptionSpec`]);v!=null&&K(n,[`encryptionSpec`],v);let y=q(e,[`partnerModelTuningSpec`]);y!=null&&K(n,[`partnerModelTuningSpec`],y);let b=q(e,[`customBaseModel`]);b!=null&&K(n,[`customBaseModel`],b);let x=q(e,[`experiment`]);x!=null&&K(n,[`experiment`],x);let S=q(e,[`labels`]);S!=null&&K(n,[`labels`],S);let C=q(e,[`outputUri`]);C!=null&&K(n,[`outputUri`],C);let w=q(e,[`pipelineJob`]);w!=null&&K(n,[`pipelineJob`],w);let T=q(e,[`serviceAccount`]);T!=null&&K(n,[`serviceAccount`],T);let E=q(e,[`tunedModelDisplayName`]);E!=null&&K(n,[`tunedModelDisplayName`],E);let D=q(e,[`veoTuningSpec`]);return D!=null&&K(n,[`veoTuningSpec`],D),n}function cg(e,t){let n={},r=q(e,[`sdkHttpResponse`]);r!=null&&K(n,[`sdkHttpResponse`],r);let i=q(e,[`name`]);i!=null&&K(n,[`name`],i);let a=q(e,[`metadata`]);a!=null&&K(n,[`metadata`],a);let o=q(e,[`done`]);o!=null&&K(n,[`done`],o);let s=q(e,[`error`]);return s!=null&&K(n,[`error`],s),n}function lg(e,t){let n={},r=q(e,[`gcsUri`]);r!=null&&K(n,[`validationDatasetUri`],r);let i=q(e,[`vertexDatasetResource`]);return i!=null&&K(n,[`validationDatasetUri`],i),n}var ug=class extends La{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new pl(fl.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{if(this.apiClient.isVertexAI())if(e.baseModel.startsWith(`projects/`)){let t={tunedModelName:e.baseModel};e.config?.preTunedModelCheckpointId&&(t.checkpointId=e.config.preTunedModelCheckpointId);let n=Object.assign(Object.assign({},e),{preTunedModel:t});return n.baseModel=void 0,await this.tuneInternal(n)}else{let t=Object.assign({},e);return await this.tuneInternal(t)}else{let t=Object.assign({},e),n=await this.tuneMldevInternal(t),r=``;return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?r=n.metadata.tunedModel:n.name!==void 0&&n.name.includes(`/operations/`)&&(r=n.name.split(`/operations/`)[0]),{name:r,state:Do.JOB_STATE_QUEUED}}}}async getInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Xh(e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>sg(e))}else{let i=Yh(e);return n=G(`{name}`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>og(e))}}async listInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=eg(e);return n=G(`tuningJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=ng(e),n=new vs;return Object.assign(n,t),n})}else{let i=$h(e);return n=G(`tunedModels`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`GET`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=tg(e),n=new vs;return Object.assign(n,t),n})}}async cancel(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Hh(e);return n=G(`{name}:cancel`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Wh(e),n=new ys;return Object.assign(n,t),n})}else{let i=Vh(e);return n=G(`{name}:cancel`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>{let t=Uh(e),n=new ys;return Object.assign(n,t),n})}}async tuneInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI()){let i=Jh(e,e);return n=G(`tuningJobs`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>sg(e))}else throw Error(`This method is only supported by the Vertex AI.`)}async tuneMldevInternal(e){let t,n=``,r={};if(this.apiClient.isVertexAI())throw Error(`This method is only supported by the Gemini Developer API.`);{let i=qh(e);return n=G(`tunedModels`,i._url),r=i._query,delete i._url,delete i._query,t=this.apiClient.request({path:n,queryParams:r,body:JSON.stringify(i),httpMethod:`POST`,httpOptions:e.config?.httpOptions,abortSignal:e.config?.abortSignal}).then(e=>e.json().then(t=>{let n=t;return n.sdkHttpResponse={headers:e.headers},n})),t.then(e=>cg(e))}}},dg=class{async download(e,t){throw Error(`Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.`)}},fg=1024*1024*8,pg=3,mg=1e3,hg=2,gg=`x-goog-upload-status`;async function _g(e,t,n){let r=await yg(e,t,n),i=await r?.json();if(r?.headers?.[gg]!==`final`)throw Error(`Failed to upload file: Upload status is not finalized.`);return i.file}async function vg(e,t,n){let r=await yg(e,t,n),i=await r?.json();if(r?.headers?.[gg]!==`final`)throw Error(`Failed to upload file: Upload status is not finalized.`);let a=Qa(i),o=new Ms;return Object.assign(o,a),o}async function yg(e,t,n){let r=0,i=0,a=new as(new Response),o=`upload`;for(r=e.size;i<r;){let s=Math.min(fg,r-i),c=e.slice(i,i+s);i+s>=r&&(o+=`, finalize`);let l=0,u=mg;for(;l<pg&&(a=await n.request({path:``,body:c,httpMethod:`POST`,httpOptions:{apiVersion:``,baseUrl:t,headers:{"X-Goog-Upload-Command":o,"X-Goog-Upload-Offset":String(i),"Content-Length":String(s)}}}),!a?.headers?.[gg]);)l++,await xg(u),u*=hg;if(i+=s,a?.headers?.[gg]!==`active`)break;if(r<=i)throw Error(`All content has been uploaded, but the upload status is not finalized.`)}return a}async function bg(e){return{size:e.size,type:e.type}}function xg(e){return new Promise(t=>setTimeout(t,e))}var Sg=class{async upload(e,t,n){if(typeof e==`string`)throw Error(`File path is not supported in browser uploader.`);return await _g(e,t,n)}async uploadToFileSearchStore(e,t,n){if(typeof e==`string`)throw Error(`File path is not supported in browser uploader.`);return await vg(e,t,n)}async stat(e){if(typeof e==`string`)throw Error(`File path is not supported in browser uploader.`);return await bg(e)}},Cg=class{create(e,t,n){return new wg(e,t,n)}},wg=class{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw Error(`WebSocket is not connected`);this.ws.send(e)}close(){if(this.ws===void 0)throw Error(`WebSocket is not connected`);this.ws.close()}},Tg=`x-goog-api-key`,Eg=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Tg)===null){if(this.apiKey.startsWith(`auth_tokens/`))throw Error(`Ephemeral tokens are only supported by the live API.`);if(!this.apiKey)throw Error(`API key is missing. Please provide a valid API key.`);e.append(Tg,this.apiKey)}}},Dg=`gl-node/`,Og=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn(`GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.`);let e=this.httpOptions;return e?.extraBody&&console.warn(`GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.`),this._interactions=new Bh({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout}).interactions,this._interactions}constructor(e){if(e.apiKey==null)throw Error(`An API Key must be set when running in a browser`);if(e.project||e.location)throw Error(`Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.`);this.vertexai=e.vertexai??!1,this.apiKey=e.apiKey;let t=Ia(e.httpOptions,e.vertexai,void 0,void 0);t&&(e.httpOptions?e.httpOptions.baseUrl=t:e.httpOptions={baseUrl:t}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let n=new Eg(this.apiKey);this.apiClient=new lp({auth:n,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Dg+`web`,uploader:new Sg,downloader:new dg}),this.models=new Lp(this.apiClient),this.live=new Ep(this.apiClient,n,new Cg),this.batches=new ml(this.apiClient),this.chats=new eu(this.models,this.apiClient),this.caches=new Gl(this.apiClient),this.files=new du(this.apiClient),this.operations=new Rp(this.apiClient),this.authTokens=new em(this.apiClient),this.tunings=new ug(this.apiClient),this.fileSearchStores=new cm(this.apiClient)}};const kg=async(e,t,n,r=.7)=>{if(n)return Ag(n,e,r);let i=new Og({apiKey:{}.API_KEY});try{let n=await i.models.generateContent({model:`gemini-2.5-flash-image`,contents:{parts:[{text:e}]},config:{imageConfig:{aspectRatio:t}}});if(n.candidates?.[0]?.content?.parts){for(let e of n.candidates[0].content.parts)if(e.inlineData)return`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`}}catch(e){throw console.error(`Image generation failed:`,e),e}},Ag=async(e,t,n=.7)=>{let r=new Og({apiKey:{}.API_KEY}),i=e.split(`,`)[1]||e,a=`${t}. ${n>.75?`Maintain the original composition and character details very strictly.`:n<.4?`Be very creative and transformative, deviating significantly from the reference structure.`:`Maintain character consistency and general scene structure.`}`;try{let e=await r.models.generateContent({model:`gemini-2.5-flash-image`,contents:{parts:[{inlineData:{data:i,mimeType:`image/png`}},{text:a}]}});if(e.candidates?.[0]?.content?.parts){for(let t of e.candidates[0].content.parts)if(t.inlineData)return`data:${t.inlineData.mimeType};base64,${t.inlineData.data}`}}catch(e){throw console.error(`Image editing failed:`,e),e}},jg=async e=>{let t=new Og({apiKey:{}.API_KEY});try{return(await t.models.generateContent({model:`gemini-3-flash-preview`,contents:`Improve the following storyboard panel prompt for better image generation. Be descriptive and vivid. Keep it concise. Prompt: ${e}`})).text||e}catch{return e}};async function Mg(e,t,n,r=`fal-ai/flux-pro`,i,a=.7){if(!n?.trim())throw Error(`fal.ai API key is missing or empty.`);let o=String(t).toLowerCase(),s=`square_hd`;o===`wide`?s=`landscape_16_9`:o===`std`?s=`landscape_4_3`:o===`tall`?s=`portrait_4_3`:o===`portrait`&&(s=`portrait_16_9`);let c=!!i,l=c?`fal-ai/flux/dev/image-to-image`:r;try{let t={prompt:e,num_images:1,enable_safety_checker:!0,sync_mode:!0};c&&i?(t.image_url=i,t.strength=a):t.image_size=s;let r=await fetch(`https://fal.run/${l}`,{method:`POST`,headers:{Authorization:`Key ${n.trim()}`,"Content-Type":`application/json`},body:JSON.stringify(t)});if(!r.ok){let e=await r.text(),t=e;try{let n=JSON.parse(e);t=n.detail||n.message||e}catch{}throw Error(`fal.ai error ${r.status}: ${t}`)}let o=(await r.json())?.images?.[0]?.url;if(!o)throw Error(`No image URL returned from fal.ai response.`);return o}catch(e){throw console.error(`fal.ai generation failed:`,e),e}}var Ng=`https://corsproxy.io/?`,Pg=`https://api.replicate.com/v1`,Fg={[ta.WIDE]:`16:9`,[ta.STD]:`4:3`,[ta.SQUARE]:`1:1`,[ta.TALL]:`3:4`,[ta.PORTRAIT]:`9:16`};async function Ig(e,t,n,r=`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`,i,a=.7){if(!n?.trim())throw Error(`Replicate API key is missing.`);let o=!!i,s=o?`8bb04ca03d368e597c554a938c4b2b1a8d052d3a958e0a294d13e9a597a731b9`:r,c=Fg[t]||`1:1`,l={prompt:e,num_inference_steps:28,guidance_scale:3.5,num_outputs:1,output_format:`png`};o&&i?(l.image=i,l.prompt_strength=a):l.aspect_ratio=c;let u=await fetch(`${Ng}${encodeURIComponent(Pg+`/predictions`)}`,{method:`POST`,headers:{Authorization:`Bearer ${n.trim()}`,"Content-Type":`application/json`},body:JSON.stringify({version:s,input:l})});if(!u.ok){let e=await u.json().catch(()=>({detail:u.statusText}));throw Error(`Replicate Create Error ${u.status}: ${e.detail||`CORS or Network Failure`}`)}let d=await u.json(),f=d.id,p=Date.now();for(;d.status!==`succeeded`&&d.status!==`failed`&&d.status!==`canceled`;){if(Date.now()-p>12e4)throw Error(`Replicate generation timed out after 120s.`);await new Promise(e=>setTimeout(e,3e3));let e=await fetch(`${Ng}${encodeURIComponent(`${Pg}/predictions/${f}`)}`,{headers:{Authorization:`Bearer ${n.trim()}`}});if(!e.ok)throw Error(`Replicate Poll Error ${e.status}: ${e.statusText}`);d=await e.json()}if(d.status===`failed`)throw Error(`Replicate Generation Failed: ${d.error||`Unknown Error`}`);let m=d.output,h=Array.isArray(m)?m[0]:m;if(!h)throw Error(`No image URL in Replicate response output.`);return h}function Lg(e){let[t,n]=(0,v.useState)(e?.startsWith(`idb://`)?void 0:e);return(0,v.useEffect)(()=>{if(!e){n(void 0);return}if(!e.startsWith(`idb://`)){n(e);return}da(e.replace(`idb://`,``)).then(e=>{e&&n(e)}).catch(e=>{console.error(`Failed to load image from IDB`,e)})},[e]),t}var Rg=({element:e,panelId:t,dispatch:n})=>{let r=(0,v.useRef)(null),i=(0,v.useRef)(null),[a,o]=(0,v.useState)(null),[s,c]=(0,v.useState)(!1),[l,u]=(0,v.useState)({x:0,y:0,startX:0,startY:0}),d=e.rotation||0,f=e.tailX??e.x+e.width/2,p=e.tailY??e.y+e.height+10,m=e.tailStyle??(e.type===`thought`?`cloud`:`pointy`),h=(t,n)=>{t.stopPropagation(),o(n),u({x:t.clientX,y:t.clientY,startX:n===`bubble`?e.x:f,startY:n===`bubble`?e.y:p}),(n===`bubble`?r.current:t.currentTarget)?.setPointerCapture(t.pointerId),c(!0)},g=i=>{if(!a)return;let o=r.current?.parentElement;if(!o)return;let s=(i.clientX-l.x)/o.clientWidth*100,c=(i.clientY-l.y)/o.clientHeight*100;a===`bubble`?n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{x:Math.max(0,Math.min(100-(e.width||0),l.startX+s)),y:Math.max(0,Math.min(100-(e.height||0),l.startY+c))}}):a===`tail`&&n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{tailX:Math.max(0,Math.min(100,l.startX+s)),tailY:Math.max(0,Math.min(100,l.startY+c))}})},_=()=>o(null),y={dialogue:`bubble-dialogue`,thought:`bubble-thought`,caption:`bubble-caption`,phone:`bubble-phone`},b=e.x+e.width/2,x=e.y+e.height/2;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`svg`,{className:`absolute inset-0 pointer-events-none w-full h-full overflow-visible z-[50]`,children:m!==`none`&&e.type!==`caption`&&(m===`pointy`?(0,W.jsx)(`polygon`,{points:`${b},${x} ${f},${p} ${b+2},${x}`,fill:`white`,stroke:`black`,strokeWidth:`0.3`,style:{filter:`drop-shadow(2px 2px 0px black)`}}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`circle`,{cx:b+(f-b)*.3,cy:x+(p-x)*.3,r:`1.5`,fill:`white`,stroke:`black`,strokeWidth:`0.3`}),(0,W.jsx)(`circle`,{cx:b+(f-b)*.6,cy:x+(p-x)*.6,r:`1.0`,fill:`white`,stroke:`black`,strokeWidth:`0.2`}),(0,W.jsx)(`circle`,{cx:b+(f-b)*.8,cy:x+(p-x)*.8,r:`0.5`,fill:`white`,stroke:`black`,strokeWidth:`0.1`})]}))}),s&&e.type!==`caption`&&(0,W.jsx)(`div`,{onPointerDown:e=>h(e,`tail`),onPointerMove:g,onPointerUp:_,className:`absolute w-4 h-4 bg-ember-500 border-2 border-white rounded-full z-[200] cursor-crosshair shadow-lg`,style:{left:`${f}%`,top:`${p}%`,transform:`translate(-50%, -50%)`}}),(0,W.jsxs)(`div`,{ref:r,onPointerDown:e=>h(e,`bubble`),onPointerMove:g,onPointerUp:_,onFocusCapture:()=>c(!0),tabIndex:0,className:`comic-overlay-base ${y[e.type]} ${s?`element-selected shadow-[0_0_15px_rgba(255,107,53,0.5)]`:``}`,style:{left:`${e.x}%`,top:`${e.y}%`,minWidth:`40px`,maxWidth:`85%`,fontSize:`${e.fontSize}px`,color:e.color,zIndex:a?200:100,transform:`rotate(${d}deg)`},children:[(0,W.jsx)(`div`,{ref:i,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:r=>{n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{content:r.currentTarget.textContent||``}}),setTimeout(()=>{document.activeElement?.closest(`.text-control-panel`)||c(!1)},100)},className:`outline-none bg-transparent whitespace-pre-wrap break-words min-h-[1em] min-w-[1ch]`,children:e.content}),s&&(0,W.jsxs)(`div`,{className:`text-control-panel absolute -top-16 left-1/2 -translate-x-1/2 bg-ink-900 border-2 border-ink-700 rounded-2xl p-2 flex items-center gap-2 shadow-2xl z-[300]`,children:[(0,W.jsx)(`div`,{className:`flex flex-col gap-1`,children:(0,W.jsxs)(`div`,{className:`flex items-center bg-ink-950 px-2 py-1 rounded-lg border border-ink-700 gap-2`,children:[(0,W.jsx)(`button`,{onMouseDown:r=>{r.preventDefault(),n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{fontSize:Math.max(8,e.fontSize-2)}})},className:`w-7 h-7 flex items-center justify-center text-xs hover:bg-ember-500 hover:text-ink-950 rounded-lg text-steel-400 transition-colors`,children:`A-`}),(0,W.jsx)(`span`,{className:`text-[10px] font-mono text-center w-6 text-ember-500 font-bold`,children:e.fontSize}),(0,W.jsx)(`button`,{onMouseDown:r=>{r.preventDefault(),n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{fontSize:Math.min(80,e.fontSize+2)}})},className:`w-7 h-7 flex items-center justify-center text-xs hover:bg-ember-500 hover:text-ink-950 rounded-lg text-steel-400 transition-colors`,children:`A+`})]})}),(0,W.jsxs)(`div`,{className:`flex items-center bg-ink-950 px-2 py-1 rounded-lg border border-ink-700 gap-2 h-full self-stretch`,children:[(0,W.jsx)(`span`,{className:`text-[9px] font-mono text-steel-500 uppercase`,children:`ROT`}),(0,W.jsx)(`input`,{type:`range`,min:`-15`,max:`15`,step:`1`,value:d,onChange:r=>n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{rotation:parseInt(r.target.value)}}),onMouseDown:e=>e.stopPropagation(),className:`w-16 accent-ember-500`})]}),(0,W.jsxs)(`div`,{className:`flex items-center bg-ink-950 px-2 py-1 rounded-lg border border-ink-700 gap-1 h-full self-stretch`,children:[(0,W.jsx)(`button`,{onMouseDown:r=>{r.preventDefault(),n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{tailStyle:`pointy`}})},className:`w-6 h-6 rounded flex items-center justify-center ${m===`pointy`?`bg-ember-500 text-ink-950`:`text-steel-400`}`,title:`Pointer`,children:(0,W.jsx)(`svg`,{className:`w-3 h-3`,fill:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{d:`M12 2L4 22h16L12 2z`})})}),(0,W.jsx)(`button`,{onMouseDown:r=>{r.preventDefault(),n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{tailStyle:`cloud`}})},className:`w-6 h-6 rounded flex items-center justify-center ${m===`cloud`?`bg-ember-500 text-ink-950`:`text-steel-400`}`,title:`Thought`,children:(0,W.jsx)(`circle`,{cx:`12`,cy:`12`,r:`8`,fill:`currentColor`})}),(0,W.jsx)(`button`,{onMouseDown:r=>{r.preventDefault(),n({type:`UPDATE_TEXT_ELEMENT`,panelId:t,elementId:e.id,updates:{tailStyle:`none`}})},className:`w-6 h-6 rounded flex items-center justify-center ${m===`none`?`bg-ember-500 text-ink-950`:`text-steel-400`}`,title:`None`,children:(0,W.jsx)(`span`,{className:`text-[9px] font-bold`,children:``})})]}),(0,W.jsx)(`button`,{onMouseDown:r=>{r.preventDefault(),n({type:`DELETE_TEXT_ELEMENT`,panelId:t,elementId:e.id})},className:`w-8 h-8 flex items-center justify-center text-xs bg-red-500 hover:bg-red-400 text-white rounded-lg transition-colors`,children:(0,W.jsx)(ha.Trash,{})})]})]})]})},zg=({panel:e,pageId:t,dispatch:n,project:r,characters:i,index:a,total:o,showGutters:s,activePage:c,isOverlay:l})=>{let[u,d]=(0,v.useState)(!1),[f,p]=(0,v.useState)(!1),[m,h]=(0,v.useState)(``),g=ma[e.aspectRatio],_=Lg(e.imageUrl),{attributes:y,listeners:b,setNodeRef:x,transform:S,transition:C,isDragging:w}=tr({id:e.id}),T={transform:ie.Transform.toString(S),transition:C,zIndex:w?50:1,opacity:w&&!l?.3:1},E=async()=>{if(!(!e.prompt&&e.characterIds.length===0)){d(!0);try{let t=pa.find(e=>e.id===r.style)?.prompt||``,a=i.filter(t=>e.characterIds.includes(t.id)),o=a.length>0?`Characters: ${a.map(e=>e.name).join(`, `)}.`:``,s;if(e.referencePanelId){let t=c.panels.find(t=>t.id===e.referencePanelId);if(t?.imageUrl){let e=t.imageUrl.startsWith(`idb://`)?t.imageUrl.slice(6):null;e&&(s=await da(e)||void 0)}}let l=`${t}. ${o} Scene: ${f?m:e.prompt}.${s?` Maintain strong visual and character consistency with the reference image. Same lighting, angle, style.`:``}`.trim(),u,d=e.referenceStrength??.7;if(r.imageProvider===`gemini`?u=await kg(l,g.ratio,s,d):r.imageProvider===`fal-flux`&&r.falApiKey?u=await Mg(l,e.aspectRatio,r.falApiKey,r.fluxModel,s,d):r.imageProvider===`replicate-flux`&&r.replicateApiKey&&(u=await Ig(l,e.aspectRatio,r.replicateApiKey,r.replicateModel,s,d)),u){let t=await ua(e.id,u);n({type:`UPDATE_PANEL`,panelId:e.id,updates:{imageUrl:t}}),p(!1)}}catch(e){console.error(`Generation failed:`,e),alert(`Failed: ${e.message}`)}finally{d(!1)}}},D=t=>{let r={id:na(),type:t,content:t===`caption`?`CAPTION`:`DIALOGUE`,x:35,y:35,width:30,height:10,fontSize:22,color:`#000000`,rotation:0,tailX:45,tailY:55,tailStyle:t===`thought`?`cloud`:t===`caption`?`none`:`pointy`};n({type:`ADD_TEXT_ELEMENT`,panelId:e.id,element:r})};return(0,W.jsxs)(`div`,{ref:x,style:l?void 0:T,className:`bg-ink-800 border border-ink-700 rounded-xl overflow-hidden group flex flex-col h-full min-h-0 animate-fade-in relative transition-all ${l?`scale-[1.05] shadow-2xl ring-2 ring-ember-500 z-[1000]`:``} ${s?`p-4 bg-white ring-8 ring-white shadow-[10px_10px_20px_rgba(0,0,0,0.5)] border-4 border-black`:``}`,children:[(0,W.jsxs)(`div`,{...y,...b,className:`relative flex items-center justify-between bg-ink-900/50 border-b border-ink-700 cursor-grab active:cursor-grabbing select-none flex-shrink-0 ${s?`bg-gray-100 border-b-2 border-black -mt-4 -mx-4 px-4`:``}`,children:[(0,W.jsxs)(`div`,{className:`flex-1 flex items-center gap-3 px-4 py-3`,children:[(0,W.jsxs)(`div`,{className:`${s?`text-black`:`text-steel-600 group-hover:text-ember-500`} transition-colors flex items-center gap-2`,children:[(0,W.jsx)(`svg`,{className:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M4 8h16M4 16h16`})}),e.referencePanelId&&(0,W.jsx)(`span`,{title:`Linked to previous panel`,className:`text-ember-500 animate-pulse`,children:(0,W.jsxs)(`svg`,{className:`w-4 h-4`,fill:`currentColor`,viewBox:`0 0 20 20`,children:[(0,W.jsx)(`path`,{d:`M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z`}),(0,W.jsx)(`path`,{d:`M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z`})]})})]}),(0,W.jsxs)(`span`,{className:`font-display text-xl tracking-wider whitespace-nowrap ${s?`text-black`:`text-ember-500`}`,children:[`FRAME `,a+1]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 pr-4 pointer-events-auto`,children:[(0,W.jsx)(`button`,{onClick:t=>{t.stopPropagation();let r=c.panels.findIndex(t=>t.id===e.id)-1;if(r>=0){let t=c.panels[r].id,i=e.referencePanelId?void 0:t;n({type:`UPDATE_PANEL`,panelId:e.id,updates:{referencePanelId:i,referenceStrength:.7}})}else alert(`No previous panel to reference.`)},disabled:a===0,className:`p-1.5 rounded transition-colors ${e.referencePanelId?`bg-ember-500 text-ink-950`:s?`text-black hover:bg-gray-200`:`text-steel-400 hover:text-ember-500`}`,title:e.referencePanelId?`Clear reference linkage`:`Link to previous panel (img2img)`,children:(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`currentColor`,viewBox:`0 0 20 20`,children:(0,W.jsx)(`path`,{fillRule:`evenodd`,d:`M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z`,clipRule:`evenodd`})})}),(0,W.jsx)(`select`,{value:e.aspectRatio,onChange:t=>n({type:`UPDATE_PANEL`,panelId:e.id,updates:{aspectRatio:t.target.value}}),className:`bg-transparent border border-ink-700 rounded px-2 py-0.5 text-[10px] font-mono text-steel-400 focus:outline-none uppercase ${s?`text-black border-black font-bold`:``}`,children:Object.entries(ma).map(([e,t])=>(0,W.jsx)(`option`,{value:e,children:t.label},e))}),(0,W.jsx)(`button`,{onClick:()=>n({type:`DELETE_PANEL`,panelId:e.id,pageId:t}),className:`${s?`text-black hover:text-red-600`:`text-steel-600 hover:text-red-500`} transition-colors p-1`,children:(0,W.jsx)(ha.Trash,{})})]})]}),(0,W.jsxs)(`div`,{className:`relative ${g.class} bg-ink-950 flex items-center justify-center overflow-hidden border-b border-ink-700 group/canvas pointer-events-auto flex-shrink-0 w-full h-auto ${s?`border-b-2 border-black`:``}`,children:[u&&(0,W.jsxs)(`div`,{className:`absolute inset-0 z-[250] bg-ink-950/90 backdrop-blur flex flex-col items-center justify-center text-ember-500 gap-3 text-center p-4`,children:[(0,W.jsx)(ha.Loader,{}),(0,W.jsx)(`span`,{className:`text-xs font-mono uppercase tracking-[0.2em] animate-pulse`,children:e.referencePanelId?`Applying Link...`:`Rendering...`})]}),_?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`img`,{src:_,className:`w-full h-full object-cover pointer-events-none`,alt:``}),e.textElements.map(t=>(0,W.jsx)(Rg,{element:t,panelId:e.id,dispatch:n},t.id))]}):(0,W.jsxs)(`div`,{className:`text-ink-700 flex flex-col items-center gap-4 opacity-50`,children:[(0,W.jsx)(ha.Sparkle,{}),(0,W.jsx)(`span`,{className:`text-[10px] font-mono uppercase tracking-widest`,children:`Uninked`})]}),_&&!u&&(0,W.jsxs)(`div`,{className:`absolute bottom-4 right-4 opacity-0 group-hover/canvas:opacity-100 transition-opacity flex gap-2 z-[150]`,children:[(0,W.jsx)(`button`,{onClick:()=>p(!f),className:`bg-ink-950/80 hover:bg-ember-500 text-white p-2.5 rounded-full backdrop-blur-xl transition-all shadow-2xl border border-white/10`,title:`Edit Image`,children:(0,W.jsx)(ha.Edit,{})}),(0,W.jsx)(`button`,{onClick:E,className:`bg-ink-950/80 hover:bg-ember-500 text-white p-2.5 rounded-full backdrop-blur-xl transition-all shadow-2xl border border-white/10`,title:`Regenerate`,children:(0,W.jsx)(ha.Sparkle,{})})]})]}),(0,W.jsx)(`div`,{className:`p-5 flex-1 flex flex-col space-y-4 pointer-events-auto min-h-0 ${s?`bg-white`:``}`,children:f?(0,W.jsxs)(`div`,{className:`space-y-3 animate-fade-in`,children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsx)(`label`,{className:`text-[10px] font-mono text-ember-500 uppercase tracking-widest`,children:`In-painting Prompt`}),(0,W.jsx)(`button`,{onClick:()=>p(!1),className:`text-steel-600 hover:text-white`,children:(0,W.jsx)(ha.X,{})})]}),(0,W.jsx)(`input`,{autoFocus:!0,placeholder:`Describe changes...`,value:m,onChange:e=>h(e.target.value),onKeyDown:e=>e.key===`Enter`&&E(),className:`w-full bg-ink-900 border-2 border-ink-700 rounded-lg px-3 py-2 text-sm text-steel-300 focus:outline-none focus:border-ember-500 transition-colors ${s?`bg-gray-100 border-black text-black`:``}`}),(0,W.jsx)(`button`,{onClick:E,className:`w-full bg-ember-500 text-ink-950 text-xs font-bold py-2 rounded-lg uppercase tracking-widest transition-transform active:scale-95`,children:`Apply Edits`})]}):(0,W.jsxs)(`div`,{className:`space-y-4 flex flex-col flex-1`,children:[(0,W.jsxs)(`div`,{className:`flex-shrink-0`,children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,W.jsx)(`p`,{className:`text-[10px] font-mono uppercase tracking-widest ${s?`text-black`:`text-steel-500`}`,children:`Cast`}),e.referencePanelId&&(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`text-[9px] font-mono text-ember-500 uppercase font-bold`,children:`Strength`}),(0,W.jsx)(`input`,{type:`range`,min:`0.1`,max:`0.9`,step:`0.05`,value:e.referenceStrength??.7,onChange:t=>n({type:`UPDATE_PANEL`,panelId:e.id,updates:{referenceStrength:parseFloat(t.target.value)}}),className:`w-16 accent-ember-500 scale-75`,title:`Lower = More Creative Change, Higher = Closer to Reference`})]})]}),(0,W.jsx)(`div`,{className:`flex flex-wrap gap-1.5`,children:i.map(t=>(0,W.jsx)(`button`,{onClick:()=>{let r=e.characterIds.includes(t.id)?e.characterIds.filter(e=>e!==t.id):[...e.characterIds,t.id];n({type:`UPDATE_PANEL`,panelId:e.id,updates:{characterIds:r}})},className:`text-[9px] font-mono px-2.5 py-1 rounded-full transition-all border ${e.characterIds.includes(t.id)?`bg-ember-500 border-ember-500 text-ink-950 font-bold`:s?`bg-white border-black text-black hover:bg-gray-100`:`bg-ink-900 border-ink-700 text-steel-500 hover:border-steel-500`}`,children:t.name},t.id))})]}),(0,W.jsxs)(`div`,{className:`relative flex-1 flex flex-col min-h-[60px]`,children:[(0,W.jsx)(`p`,{className:`text-[10px] font-mono uppercase mb-2 tracking-widest flex-shrink-0 ${s?`text-black`:`text-steel-500`}`,children:`Script`}),(0,W.jsx)(`textarea`,{placeholder:`Action description...`,value:e.prompt,onChange:t=>n({type:`UPDATE_PANEL`,panelId:e.id,updates:{prompt:t.target.value}}),className:`w-full flex-1 bg-ink-900/50 border border-ink-700 rounded-lg p-3 text-sm text-steel-300 font-serif italic resize-none focus:outline-none focus:border-ember-500/50 transition-colors ${s?`bg-white border-black text-black border-2`:``}`}),(0,W.jsx)(`button`,{onClick:async()=>{if(!e.prompt)return;let t=await jg(e.prompt);n({type:`UPDATE_PANEL`,panelId:e.id,updates:{prompt:t}})},className:`absolute bottom-3 right-3 transition-colors ${s?`text-black hover:text-ember-600`:`text-steel-600 hover:text-ember-500`}`,title:`Refine Direction`,children:(0,W.jsx)(ha.Magic,{})})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between pt-2 border-t flex-shrink-0 ${s?`border-black`:`border-ink-700/50`}`,children:[(0,W.jsxs)(`div`,{className:`flex gap-1`,children:[(0,W.jsx)(`button`,{onClick:()=>D(`dialogue`),className:`p-2 transition-colors rounded-lg ${s?`text-black hover:bg-gray-200`:`text-steel-500 hover:text-ember-500 hover:bg-ink-900`}`,title:`Speech`,children:(0,W.jsx)(ha.Chat,{})}),(0,W.jsx)(`button`,{onClick:()=>D(`thought`),className:`p-2 transition-colors rounded-lg ${s?`text-black hover:bg-gray-200`:`text-steel-500 hover:text-ember-500 hover:bg-ink-900`}`,title:`Thought`,children:(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M14 10h.01M10 10h.01M7 14h.01M17 14h.01M12 14h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z`})})}),(0,W.jsx)(`button`,{onClick:()=>D(`caption`),className:`p-2 transition-colors rounded-lg ${s?`text-black hover:bg-gray-200`:`text-steel-500 hover:text-ember-500 hover:bg-ink-900`}`,title:`Narrative`,children:(0,W.jsx)(ha.Caption,{})})]}),(0,W.jsx)(`button`,{disabled:!e.prompt&&e.characterIds.length===0||u,onClick:E,className:`text-[10px] font-bold py-2.5 px-6 rounded-lg uppercase tracking-widest transition-all disabled:opacity-20 flex items-center gap-2 ${s?`bg-black text-white hover:bg-gray-800`:`bg-ink-700 hover:bg-ember-500 hover:text-ink-950 text-steel-300`}`,children:_?`Redraw`:`Ink`})]})]})})]})},Bg=({zoomEnabled:e,setZoomEnabled:t,showGutters:n,setShowGutters:r})=>{let{zoomIn:i,zoomOut:a,resetTransform:o,state:s}=$i(),c=s?.scale||1;return(0,W.jsxs)(`div`,{className:`flex items-center gap-2 bg-ink-900 border border-ink-700 rounded-full px-4 py-1.5 shadow-xl transition-all hover:border-ink-600`,children:[(0,W.jsxs)(`button`,{onClick:()=>{e&&o(),t(!e)},className:`p-1.5 rounded-full transition-all flex items-center gap-2 px-3 ${e?`text-ember-500 bg-ember-500/10 scale-105`:`text-steel-600 hover:text-steel-300`}`,title:e?`Exit Canvas Navigation`:`Enter Canvas Navigation (Pan/Zoom)`,children:[(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122`})}),e&&(0,W.jsx)(`span`,{className:`text-[9px] font-mono font-bold tracking-widest uppercase`,children:`NAV MODE`})]}),(0,W.jsx)(`div`,{className:`w-px h-4 bg-ink-700 mx-1`}),(0,W.jsx)(`button`,{onClick:()=>r(!n),className:`p-1.5 rounded-full transition-colors ${n?`text-ember-500 bg-ember-500/10`:`text-steel-600 hover:text-steel-300`}`,title:`Toggle Comic Gutter Layout`,children:(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M4 5a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM8 4v16M16 4v16M4 8h16M4 16h16`})})}),(0,W.jsx)(`div`,{className:`w-px h-4 bg-ink-700 mx-1`}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,W.jsx)(`button`,{onClick:()=>a(),className:`text-steel-500 hover:text-ember-500 transition-colors p-1`,title:`Zoom Out`,children:(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M20 12H4`})})}),(0,W.jsxs)(`button`,{onClick:()=>o(),className:`text-[10px] font-mono font-bold text-steel-300 w-12 text-center hover:text-ember-500 transition-colors`,title:`Reset View (100%)`,children:[Math.round(c*100),`%`]}),(0,W.jsx)(`button`,{onClick:()=>i(),className:`text-steel-500 hover:text-ember-500 transition-colors p-1`,title:`Zoom In`,children:(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M12 4v16m8-8H4`})})})]})]})},Vg=({state:e,dispatch:t,onClose:n})=>{let[r,i]=(0,v.useState)(null),[a,o]=(0,v.useState)(``),[s,c]=(0,v.useState)(``),[l,u]=(0,v.useState)(``);return(0,v.useEffect)(()=>{if(r){let t=e.projects.find(e=>e.id===r);o(t?.falApiKey||``),c(t?.replicateApiKey||``),u(t?.replicateModel||`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`)}},[r,e.projects]),(0,W.jsx)(`div`,{className:`fixed inset-0 z-[500] bg-ink-950/98 backdrop-blur-xl flex items-center justify-center p-8 animate-fade-in`,children:(0,W.jsxs)(`div`,{className:`max-w-5xl w-full bg-ink-900 border-2 border-ink-700 rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]`,children:[(0,W.jsxs)(`div`,{className:`p-10 border-b border-ink-700 flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h2`,{className:`font-display text-5xl tracking-widest text-steel-100 uppercase text-center`,children:`Archive`}),(0,W.jsx)(`p`,{className:`font-mono text-xs text-ember-500 mt-2 tracking-[0.3em] uppercase text-center`,children:`Storyboard Management`})]}),(0,W.jsx)(`button`,{onClick:n,className:`w-12 h-12 flex items-center justify-center rounded-full bg-ink-800 hover:bg-red-500 text-steel-400 hover:text-white transition-all`,children:(0,W.jsx)(ha.X,{})})]}),(0,W.jsxs)(`div`,{className:`p-10 overflow-y-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8`,children:[e.projects.map(d=>(0,W.jsxs)(`div`,{onClick:()=>{t({type:`SET_ACTIVE_PROJECT`,id:d.id}),n()},className:`p-8 rounded-2xl border-2 cursor-pointer transition-all group relative overflow-hidden flex flex-col ${e.activeProjectId===d.id?`border-ember-500 bg-ember-500/5 ring-4 ring-ember-500/10`:`border-ink-700 hover:border-steel-500 bg-ink-950/50`}`,children:[(0,W.jsxs)(`div`,{className:`relative z-10 flex-1`,children:[(0,W.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,W.jsx)(`h3`,{className:`font-display text-3xl text-steel-100 group-hover:text-ember-500 transition-colors mb-2 uppercase truncate pr-4`,children:d.title}),(0,W.jsx)(`button`,{onClick:e=>{e.stopPropagation(),i(d.id===r?null:d.id)},className:`p-2 rounded-full border transition-all flex-shrink-0 ${r===d.id?`bg-ember-500 text-ink-950 border-ember-500`:`bg-ink-800 text-steel-500 border-ink-700 hover:border-ember-500/50`}`,children:(0,W.jsx)(ha.Edit,{})})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 text-[10px] font-mono text-steel-500 uppercase tracking-widest`,children:[(0,W.jsxs)(`span`,{children:[d.issues.reduce((e,t)=>e+t.pages.length,0),` Pages`]}),(0,W.jsx)(`div`,{className:`w-1 h-1 rounded-full bg-steel-700`}),(0,W.jsxs)(`span`,{children:[d.characters.length,` Cast`]})]})]}),(0,W.jsxs)(`div`,{className:`mt-6 flex justify-between items-center relative z-10`,children:[(0,W.jsx)(`span`,{className:`text-[10px] font-mono px-3 py-1 rounded-full bg-ink-800 text-steel-600 border border-ink-700 uppercase`,children:d.imageProvider}),(0,W.jsx)(`button`,{onClick:e=>{e.stopPropagation(),confirm(`Delete Project?`)&&t({type:`DELETE_PROJECT`,id:d.id})},className:`w-8 h-8 flex items-center justify-center rounded-full text-steel-700 hover:text-red-500 hover:bg-red-500/10 transition-all`,children:(0,W.jsx)(ha.Trash,{})})]}),r===d.id&&(0,W.jsxs)(`div`,{onClick:e=>e.stopPropagation(),className:`mt-6 p-4 bg-ink-950 rounded-xl border border-ink-700 space-y-4 animate-fade-in shadow-2xl`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{className:`text-[9px] font-mono text-steel-500 uppercase block mb-1`,children:`Image Engine`}),(0,W.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,W.jsxs)(`div`,{className:`flex gap-1`,children:[(0,W.jsx)(`button`,{onClick:()=>t({type:`UPDATE_PROJECT`,id:d.id,updates:{imageProvider:`gemini`}}),className:`flex-1 text-[10px] font-mono py-2 rounded border transition-all ${d.imageProvider===`gemini`?`bg-ember-500 text-ink-950 border-ember-500 font-bold`:`bg-ink-900 text-steel-500 border-ink-700`}`,children:`GEMINI`}),(0,W.jsx)(`button`,{onClick:()=>t({type:`UPDATE_PROJECT`,id:d.id,updates:{imageProvider:`fal-flux`}}),className:`flex-1 text-[10px] font-mono py-2 rounded border transition-all ${d.imageProvider===`fal-flux`?`bg-ember-500 text-ink-950 border-ember-500 font-bold`:`bg-ink-900 text-steel-500 border-ink-700`}`,children:`FAL.AI`})]}),(0,W.jsx)(`button`,{onClick:()=>t({type:`UPDATE_PROJECT`,id:d.id,updates:{imageProvider:`replicate-flux`}}),className:`w-full text-[10px] font-mono py-2 rounded border transition-all ${d.imageProvider===`replicate-flux`?`bg-ember-500 text-ink-950 border-ember-500 font-bold`:`bg-ink-900 text-steel-500 border-ink-700`}`,children:`REPLICATE`})]})]}),d.imageProvider===`fal-flux`&&(0,W.jsx)(`div`,{className:`mt-4 p-3 bg-ink-800 rounded border border-ink-700 space-y-3`,children:(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{className:`block text-[9px] font-mono text-steel-400 uppercase mb-1.5`,children:`fal.ai API Key`}),(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsx)(`input`,{type:`password`,placeholder:`key-xxxx...`,value:a,onChange:e=>o(e.target.value),className:`flex-1 bg-ink-900 border border-ink-700 rounded px-2 py-1.5 text-xs text-steel-300 font-mono outline-none focus:border-ember-500`}),(0,W.jsx)(`button`,{onClick:()=>{a.trim()&&(t({type:`UPDATE_PROJECT_FAL_KEY`,projectId:d.id,apiKey:a.trim()}),alert(`fal.ai Key saved!`))},disabled:!a.trim(),className:`bg-ember-500 hover:bg-ember-400 text-ink-950 font-bold px-3 py-1 rounded uppercase text-[9px] disabled:opacity-50`,children:`Save`})]})]})}),d.imageProvider===`replicate-flux`&&(0,W.jsxs)(`div`,{className:`mt-4 p-3 bg-ink-800 rounded border border-ink-700 space-y-3`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{className:`block text-[9px] font-mono text-steel-400 uppercase mb-1.5`,children:`Replicate API Key`}),(0,W.jsxs)(`div`,{className:`flex gap-2`,children:[(0,W.jsx)(`input`,{type:`password`,placeholder:`r8_xxxx...`,value:s,onChange:e=>c(e.target.value),className:`flex-1 bg-ink-900 border border-ink-700 rounded px-2 py-1.5 text-xs text-steel-300 font-mono outline-none focus:border-ember-500`}),(0,W.jsx)(`button`,{onClick:()=>{s.trim()&&(t({type:`UPDATE_PROJECT_REPLICATE_KEY`,projectId:d.id,apiKey:s.trim()}),alert(`Replicate Key saved!`))},disabled:!s.trim(),className:`bg-ember-500 hover:bg-ember-400 text-ink-950 font-bold px-3 py-1 rounded uppercase text-[9px] disabled:opacity-50`,children:`Save`})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`label`,{className:`block text-[9px] font-mono text-steel-400 uppercase mb-1.5`,children:`Model Version`}),(0,W.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,W.jsx)(`input`,{type:`text`,placeholder:`version hash...`,value:l,onChange:e=>u(e.target.value),className:`w-full bg-ink-900 border border-ink-700 rounded px-2 py-1.5 text-[10px] text-steel-300 font-mono outline-none focus:border-ember-500`}),(0,W.jsxs)(`div`,{className:`flex gap-1.5`,children:[(0,W.jsx)(`button`,{onClick:()=>{t({type:`UPDATE_PROJECT_REPLICATE_MODEL`,projectId:d.id,model:l.trim()}),alert(`Model updated!`)},className:`bg-ink-700 hover:bg-ember-500 text-steel-300 hover:text-ink-950 font-bold px-3 py-1.5 rounded uppercase text-[8px] flex-1 transition-colors`,children:`Update Model`}),(0,W.jsx)(`button`,{onClick:()=>u(`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`),className:`bg-ink-900 border border-ink-700 text-steel-500 px-2 py-1.5 rounded uppercase text-[8px] hover:text-steel-300`,children:`Reset`})]})]})]})]})]})]},d.id)),(0,W.jsxs)(`button`,{onClick:()=>{let e=prompt(`Project Title:`);e&&t({type:`ADD_PROJECT`,title:e})},className:`p-8 rounded-2xl border-2 border-dashed border-ink-700 hover:border-ember-500 hover:bg-ember-500/5 flex flex-col items-center justify-center gap-6 text-steel-500 hover:text-ember-500 transition-all group min-h-[220px]`,children:[(0,W.jsx)(`div`,{className:`w-16 h-16 rounded-full border-2 border-dashed border-steel-800 flex items-center justify-center group-hover:scale-110 transition-transform`,children:(0,W.jsx)(ha.Plus,{})}),(0,W.jsx)(`span`,{className:`font-display text-2xl uppercase tracking-widest text-center`,children:`Initialize Sequence`})]})]})]})})},Hg=e=>({transform:t})=>({...t,x:t.x/e,y:t.y/e});function Ug(){let[e,t]=(0,v.useReducer)(ra,null,ia),[n,r]=(0,v.useState)(!1),[i,a]=(0,v.useState)(!1),[o,s]=(0,v.useState)(!1),[c,l]=(0,v.useState)(!1),[u,d]=(0,v.useState)(null),[f,p]=(0,v.useState)(!1),[m,h]=(0,v.useState)(!1),[g,_]=(0,v.useState)(!1),y=e.projects.find(t=>t.id===e.activeProjectId),b=y?.issues.find(t=>t.id===e.activeIssueId),x=b?.pages.find(t=>t.id===e.activePageId),S=ye(ve(yt,{activationConstraint:{distance:5}}),ve(mt,{coordinateGetter:ar})),C=e=>{d(e.active.id)},w=e=>{let{active:n,over:r}=e;if(d(null),n&&r&&n.id!==r.id&&x){let e=x.panels.findIndex(e=>e.id===n.id),i=x.panels.findIndex(e=>e.id===r.id);if(e!==-1&&i!==-1){let n=zn(x.panels,e,i);t({type:`REORDER_PANELS`,pageId:x.id,panels:n})}}},T=(0,v.useMemo)(()=>x?.panels.find(e=>e.id===u),[u,x]);return(0,W.jsxs)(`div`,{className:`h-screen w-full flex overflow-hidden font-sans selection:bg-ember-500/30 ${g?`bg-gray-200`:`bg-ink-950`}`,children:[(0,W.jsx)(Ma,{state:e,dispatch:t,onOpenProjects:()=>r(!0),onOpenScriptImport:()=>p(!0)}),(0,W.jsx)(Ji,{disabled:!m,initialScale:1,minScale:.1,maxScale:3,centerOnInit:!0,limitToBounds:!1,panning:{disabled:!m,velocityDisabled:!0},wheel:{disabled:!m},children:(0,W.jsxs)(`main`,{className:`flex-1 flex flex-col overflow-hidden relative transition-colors ${g?`bg-gray-200`:`bg-ink-950`} ${m?`cursor-grab active:cursor-grabbing`:``}`,children:[(0,W.jsxs)(`header`,{className:`px-10 py-6 border-b flex items-center justify-between z-[100] backdrop-blur-xl transition-all ${g?`bg-white/80 border-black`:`bg-ink-950/50 border-ink-700/50`}`,children:[(0,W.jsxs)(`div`,{className:`flex flex-col gap-1 overflow-hidden`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2 text-[9px] font-mono uppercase tracking-widest truncate ${g?`text-gray-500`:`text-steel-500`}`,children:[(0,W.jsx)(`span`,{children:y?.title}),(0,W.jsx)(`span`,{className:`opacity-30`,children:`/`}),(0,W.jsx)(`span`,{className:g?`text-black`:`text-ember-500/80`,children:b?.title})]}),(0,W.jsxs)(`h1`,{className:`font-display text-4xl uppercase tracking-tighter truncate ${g?`text-black`:`text-steel-100`}`,children:[`Page `,x?.number||`-`]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-6`,children:[(0,W.jsx)(Bg,{zoomEnabled:m,setZoomEnabled:h,showGutters:g,setShowGutters:_}),(0,W.jsxs)(`div`,{className:`flex gap-4 relative pointer-events-auto`,children:[(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsxs)(`button`,{onClick:()=>l(!c),className:`font-mono text-xs px-6 py-2.5 tracking-widest transition-all rounded-full border flex items-center gap-3 active:scale-95 shadow-lg ${g?`bg-white border-black text-black hover:bg-gray-100`:`bg-ink-800 border-ink-700 text-steel-200 hover:bg-ink-700`}`,children:[o?(0,W.jsx)(ha.Loader,{}):(0,W.jsx)(`svg`,{className:`w-4 h-4`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4`})}),`EXPORT`]}),c&&(0,W.jsxs)(`div`,{className:`absolute top-full right-0 mt-2 w-56 bg-ink-900 border border-ink-700 rounded-2xl shadow-2xl overflow-hidden z-50 animate-fade-in py-1`,children:[(0,W.jsx)(`button`,{onClick:async()=>{if(x){s(!0),l(!1);try{let e=new ea.default,t=e.folder(`Page_${x.number}`);for(let e=0;e<x.panels.length;e++){let n=x.panels[e];if(n.imageUrl){let r=n.imageUrl;if(r.startsWith(`idb://`)&&(r=await da(r.replace(`idb://`,``))||``),r){let n=r.split(`,`)[1];t?.file(`panel_${e+1}.png`,n,{base64:!0})}}}let n=await e.generateAsync({type:`blob`}),r=window.URL.createObjectURL(n),i=document.createElement(`a`);i.href=r,i.download=`Page_${x.number}_Ink.zip`,i.click(),window.URL.revokeObjectURL(r)}catch(e){alert(`Export failed: `+e)}finally{s(!1)}}},className:`w-full text-left px-4 py-3 text-xs font-mono text-steel-300 hover:bg-ember-500 hover:text-ink-950 transition-colors uppercase tracking-widest flex items-center gap-3`,children:(0,W.jsx)(`span`,{children:`ZIP Page Images`})}),(0,W.jsx)(`button`,{onClick:async()=>{if(b){s(!0),l(!1);try{let e=new ea.default;for(let t of b.pages)for(let n=0;n<t.panels.length;n++){let r=t.panels[n];if(r.imageUrl){let i=r.imageUrl;if(i.startsWith(`idb://`)&&(i=await da(i.replace(`idb://`,``))||``),i){let r=i.split(`,`)[1],a=`pg${String(t.number).padStart(3,`0`)}_p${String(n+1).padStart(2,`0`)}.png`;e.file(a,r,{base64:!0})}}}let t=await e.generateAsync({type:`blob`}),n=window.URL.createObjectURL(t),r=document.createElement(`a`);r.href=n,r.download=`${b.title.replace(/\s+/g,`_`)}.cbz`,r.click(),window.URL.revokeObjectURL(n)}catch(e){alert(`Export failed: `+e)}finally{s(!1)}}},className:`w-full text-left px-4 py-3 text-xs font-mono text-steel-300 hover:bg-ember-500 hover:text-ink-950 transition-colors uppercase tracking-widest flex items-center gap-3`,children:(0,W.jsx)(`span`,{children:`CBZ Complete Issue`})})]})]}),(0,W.jsxs)(`button`,{disabled:i||!x?.panels.length,onClick:async()=>{if(!(!x||i||!y)){a(!0);try{for(let e of x.panels){if(!e.prompt&&e.characterIds.length===0||e.imageUrl)continue;let n=pa.find(e=>e.id===y?.style)?.prompt||``,r=y?.characters.filter(t=>e.characterIds.includes(t.id))||[],i=r.length>0?`Characters: ${r.map(e=>e.name).join(`, `)}.`:``,a=ma[e.aspectRatio],o;if(e.referencePanelId){let t=x.panels.find(t=>t.id===e.referencePanelId);if(t?.imageUrl){let e=t.imageUrl.startsWith(`idb://`)?t.imageUrl.slice(6):null;e&&(o=await da(e)||void 0)}}let s=`${n}. ${i} ${e.prompt}.${o?` Maintain strong visual and character consistency with the reference image. Same lighting, angle, style.`:``}`.trim(),c;try{y.imageProvider===`gemini`?c=await kg(s,a.ratio,o,e.referenceStrength??.7):y.imageProvider===`fal-flux`&&y.falApiKey?c=await Mg(s,e.aspectRatio,y.falApiKey,y.fluxModel||`fal-ai/flux-pro`,o,e.referenceStrength??.7):y.imageProvider===`replicate-flux`&&y.replicateApiKey&&(c=await Ig(s,e.aspectRatio,y.replicateApiKey,y.replicateModel||`776402431718227633f81525a7a72d1a37c4f42065840d21e89f81f1856956f1`,o,e.referenceStrength??.7))}catch(e){console.error(e)}if(c){let n=await ua(e.id,c);t({type:`UPDATE_PANEL`,panelId:e.id,updates:{imageUrl:n}})}await new Promise(e=>setTimeout(e,1200))}}catch(e){alert(`Batch Failed: ${e.message}`)}finally{a(!1)}}},className:`font-mono text-xs px-8 py-2.5 tracking-widest transition-all rounded-full border flex items-center gap-3 disabled:opacity-20 active:scale-95 shadow-lg ${g?`bg-white border-black text-black hover:bg-gray-100`:`bg-ink-800 border-ink-700 text-steel-200 hover:bg-ink-700`}`,children:[i?(0,W.jsx)(ha.Loader,{}):(0,W.jsx)(ha.Magic,{}),`AUTO-INK`]}),(0,W.jsx)(`button`,{onClick:()=>x&&t({type:`ADD_PANEL`,pageId:x.id}),className:`font-display text-2xl px-10 py-2.5 tracking-widest transition-all rounded-full shadow-lg active:translate-y-1 ${g?`bg-black text-white hover:bg-gray-800`:`bg-ember-500 hover:bg-ember-400 text-ink-950`}`,children:`ADD FRAME`})]})]})]}),(0,W.jsx)(Qi,{wrapperClass:`flex-1 overflow-hidden`,contentClass:`min-h-full min-w-full`,children:(0,W.jsx)(Wg,{activePage:x,activeProject:y,dispatch:t,sensors:S,handleDragStart:C,handleDragEnd:w,activeId:u,activePanelForOverlay:T,showGutters:g,zoomEnabled:m})}),(0,W.jsxs)(`div`,{className:`absolute bottom-8 left-1/2 -translate-x-1/2 border border-white/10 rounded-full px-8 py-4 flex items-center gap-10 shadow-2xl z-[400] transition-all ${g?`bg-white border-black text-black`:`bg-ink-900/95 backdrop-blur-2xl text-steel-400`}`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,W.jsx)(`div`,{className:`w-3 h-3 rounded-full ${i||o?`bg-ember-500 animate-ping`:`bg-green-500`}`}),(0,W.jsx)(`span`,{className:`text-[10px] font-mono uppercase tracking-[0.3em] font-bold`,children:i?`BATCH INKING...`:o?`EXPORTING...`:`TERMINAL READY`})]}),(0,W.jsx)(`div`,{className:`h-5 w-px ${g?`bg-black/20`:`bg-ink-700`}`}),(0,W.jsx)(`div`,{className:`flex gap-8`,children:(0,W.jsxs)(`div`,{className:`flex flex-col`,children:[(0,W.jsx)(`span`,{className:`text-[9px] font-mono uppercase mb-0.5 opacity-60`,children:`Project`}),(0,W.jsx)(`span`,{className:`text-[11px] font-mono uppercase font-bold truncate max-w-[120px] ${g?`text-black`:`text-steel-200`}`,children:y?.title})]})})]})]})}),n&&(0,W.jsx)(Vg,{state:e,dispatch:t,onClose:()=>r(!1)}),f&&(0,W.jsx)(ja,{onClose:()=>p(!1),onImport:e=>{if(!e.success||!y)return;let n=e.pages.map(e=>({id:na(),number:e.pageNumber,panels:e.panels.map(e=>({id:na(),prompt:e.description,aspectRatio:e.aspectRatio,characterIds:[],textElements:e.bubbles.map((e,t)=>({id:na(),type:e.type===`dialogue`?`dialogue`:e.type===`thought`?`thought`:`caption`,content:e.character?`${e.character}: ${e.text}`:e.text,x:10,y:10+t*15,width:30,height:10,fontSize:18,color:`#000000`,rotation:0,tailX:15,tailY:10+t*15+15,tailStyle:e.type===`thought`?`cloud`:e.type===`caption`?`none`:`pointy`}))}))})),r=e.characters.map(e=>({id:na(),name:e.name,description:e.firstAppearance||`${e.lineCount} lines`})),i={id:na(),title:`Imported: ${e.pages.length} Pages`,pages:n};t({type:`IMPORT_ISSUE`,projectId:y.id,issue:i,characters:r}),p(!1)}})]})}function Wg({activePage:e,activeProject:t,dispatch:n,sensors:r,handleDragStart:i,handleDragEnd:a,activeId:o,activePanelForOverlay:s,showGutters:c,zoomEnabled:l}){let{state:u}=$i(),d=u?.scale||1,f=(0,v.useMemo)(()=>[Hg(d)],[d]);return(0,W.jsx)(`div`,{className:`min-h-full w-full p-10 pb-32 transition-all ${c?`max-w-[1400px] mx-auto`:``} ${l?`pointer-events-none [&>*]:pointer-events-auto`:``}`,children:!e||e.panels.length===0?(0,W.jsxs)(`div`,{className:`h-full min-h-[50vh] flex flex-col items-center justify-center text-ink-800 gap-8 animate-fade-in`,children:[(0,W.jsx)(`div`,{className:`w-56 h-56 border-4 border-dashed rounded-[3rem] flex items-center justify-center opacity-40 group hover:opacity-100 transition-opacity ${c?`border-gray-400`:`border-ink-900`}`,children:(0,W.jsx)(`div`,{className:`scale-[3] transition-colors ${c?`text-gray-400 group-hover:text-black`:`text-ink-800 group-hover:text-ember-500`}`,children:(0,W.jsx)(ha.Plus,{})})}),(0,W.jsx)(`p`,{className:`font-display text-5xl tracking-widest uppercase mb-2 text-center ${c?`text-gray-400`:`text-ink-800`}`,children:`Canvas Sterile`})]}):(0,W.jsxs)(_n,{sensors:r,collisionDetection:De,onDragStart:i,onDragEnd:a,modifiers:f,children:[(0,W.jsx)(qn,{items:e.panels.map(e=>e.id),strategy:Wn,children:(0,W.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 transition-all ${c?`gap-20`:`gap-8 md:gap-12`}`,style:{gridAutoRows:`min-content`},children:e.panels.map((r,i)=>(0,W.jsx)(`div`,{className:`min-h-0`,children:(0,W.jsx)(zg,{panel:r,pageId:e.id,dispatch:n,project:t,characters:t?.characters||[],index:i,total:e.panels.length,showGutters:c,activePage:e})},r.id))})}),(0,W.jsx)(Rn,{dropAnimation:{sideEffects:Mn({styles:{active:{opacity:`0.3`}}})},children:o&&s?(0,W.jsx)(`div`,{className:`w-[300px] md:w-[400px]`,children:(0,W.jsx)(zg,{panel:s,pageId:e.id,dispatch:n,project:t,characters:t?.characters||[],index:e.panels.findIndex(e=>e.id===o),total:e.panels.length,showGutters:c,activePage:e,isOverlay:!0})}):null})]})})}(0,_.createRoot)(document.getElementById(`root`)).render((0,W.jsx)(v.StrictMode,{children:(0,W.jsx)(Ug,{})}));